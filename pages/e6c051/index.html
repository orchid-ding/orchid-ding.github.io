<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HBase基础知识 | clivia‘s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="Java后端、大数据等技术博客，专注于各种技术总结。Java、高并发、hadoop、spark、hbase、hive、zookeeper、mysql、mongodb、redis">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.027adcb0.css" as="style"><link rel="preload" href="/assets/js/app.06f86fe0.js" as="script"><link rel="preload" href="/assets/js/2.ed69dcfc.js" as="script"><link rel="preload" href="/assets/js/3.b6cd915d.js" as="script"><link rel="preload" href="/assets/js/68.fc11d430.js" as="script"><link rel="prefetch" href="/assets/js/10.2b0a2d8d.js"><link rel="prefetch" href="/assets/js/100.16d5c2bc.js"><link rel="prefetch" href="/assets/js/101.c4ff0a78.js"><link rel="prefetch" href="/assets/js/102.4e574824.js"><link rel="prefetch" href="/assets/js/103.ac1661b8.js"><link rel="prefetch" href="/assets/js/104.dfdf274c.js"><link rel="prefetch" href="/assets/js/105.f792ba33.js"><link rel="prefetch" href="/assets/js/106.4347b2a7.js"><link rel="prefetch" href="/assets/js/107.7248a258.js"><link rel="prefetch" href="/assets/js/108.a3c43671.js"><link rel="prefetch" href="/assets/js/109.e8c087b3.js"><link rel="prefetch" href="/assets/js/11.0c3d61f1.js"><link rel="prefetch" href="/assets/js/110.2b89ad56.js"><link rel="prefetch" href="/assets/js/111.d35e07d0.js"><link rel="prefetch" href="/assets/js/112.2402331a.js"><link rel="prefetch" href="/assets/js/113.82a39665.js"><link rel="prefetch" href="/assets/js/114.4c8d3fcb.js"><link rel="prefetch" href="/assets/js/115.f038010e.js"><link rel="prefetch" href="/assets/js/116.c7865d0c.js"><link rel="prefetch" href="/assets/js/117.2729b824.js"><link rel="prefetch" href="/assets/js/118.b8c9bb1f.js"><link rel="prefetch" href="/assets/js/119.a9eea003.js"><link rel="prefetch" href="/assets/js/12.e4b75a11.js"><link rel="prefetch" href="/assets/js/120.06f1eb1b.js"><link rel="prefetch" href="/assets/js/121.354a7fd4.js"><link rel="prefetch" href="/assets/js/122.af00dd2b.js"><link rel="prefetch" href="/assets/js/123.976e22ad.js"><link rel="prefetch" href="/assets/js/124.de810dba.js"><link rel="prefetch" href="/assets/js/125.2c17fa05.js"><link rel="prefetch" href="/assets/js/126.ffeb8997.js"><link rel="prefetch" href="/assets/js/127.6b2f64dd.js"><link rel="prefetch" href="/assets/js/128.f9b62119.js"><link rel="prefetch" href="/assets/js/129.ce5c5c0e.js"><link rel="prefetch" href="/assets/js/13.2c54c92b.js"><link rel="prefetch" href="/assets/js/130.7db38d34.js"><link rel="prefetch" href="/assets/js/131.5abdd66a.js"><link rel="prefetch" href="/assets/js/132.5dd5eece.js"><link rel="prefetch" href="/assets/js/133.651d4b9b.js"><link rel="prefetch" href="/assets/js/134.68173250.js"><link rel="prefetch" href="/assets/js/135.ca520569.js"><link rel="prefetch" href="/assets/js/136.1515cd12.js"><link rel="prefetch" href="/assets/js/137.d783808b.js"><link rel="prefetch" href="/assets/js/138.05efd534.js"><link rel="prefetch" href="/assets/js/139.a65dce22.js"><link rel="prefetch" href="/assets/js/14.5cb33b3a.js"><link rel="prefetch" href="/assets/js/140.44dc5c4e.js"><link rel="prefetch" href="/assets/js/141.0632e3aa.js"><link rel="prefetch" href="/assets/js/142.66ac9883.js"><link rel="prefetch" href="/assets/js/143.8a75f55a.js"><link rel="prefetch" href="/assets/js/144.349bba43.js"><link rel="prefetch" href="/assets/js/15.06dff62d.js"><link rel="prefetch" href="/assets/js/16.ad74e0a9.js"><link rel="prefetch" href="/assets/js/17.e0d7a93c.js"><link rel="prefetch" href="/assets/js/18.0c217b19.js"><link rel="prefetch" href="/assets/js/19.33d29011.js"><link rel="prefetch" href="/assets/js/20.5c47e53a.js"><link rel="prefetch" href="/assets/js/21.4623dcf3.js"><link rel="prefetch" href="/assets/js/22.1d2819bf.js"><link rel="prefetch" href="/assets/js/23.da3264cc.js"><link rel="prefetch" href="/assets/js/24.a3976766.js"><link rel="prefetch" href="/assets/js/25.52b1b746.js"><link rel="prefetch" href="/assets/js/26.527a58d4.js"><link rel="prefetch" href="/assets/js/27.1a611ca9.js"><link rel="prefetch" href="/assets/js/28.19848920.js"><link rel="prefetch" href="/assets/js/29.0399b7cc.js"><link rel="prefetch" href="/assets/js/30.f4967fc4.js"><link rel="prefetch" href="/assets/js/31.ec15c096.js"><link rel="prefetch" href="/assets/js/32.ea29ed83.js"><link rel="prefetch" href="/assets/js/33.2506e8df.js"><link rel="prefetch" href="/assets/js/34.b317cb6a.js"><link rel="prefetch" href="/assets/js/35.e98b1f8e.js"><link rel="prefetch" href="/assets/js/36.5a3c937d.js"><link rel="prefetch" href="/assets/js/37.d8e66f15.js"><link rel="prefetch" href="/assets/js/38.583bd78a.js"><link rel="prefetch" href="/assets/js/39.02884927.js"><link rel="prefetch" href="/assets/js/4.4f8d037f.js"><link rel="prefetch" href="/assets/js/40.11d31d5e.js"><link rel="prefetch" href="/assets/js/41.e3b7229f.js"><link rel="prefetch" href="/assets/js/42.ed31fd5c.js"><link rel="prefetch" href="/assets/js/43.71601b99.js"><link rel="prefetch" href="/assets/js/44.7235eb98.js"><link rel="prefetch" href="/assets/js/45.8adef6f7.js"><link rel="prefetch" href="/assets/js/46.44d68224.js"><link rel="prefetch" href="/assets/js/47.ec6b4de8.js"><link rel="prefetch" href="/assets/js/48.ee56118d.js"><link rel="prefetch" href="/assets/js/49.0f6101ee.js"><link rel="prefetch" href="/assets/js/5.0e4db68d.js"><link rel="prefetch" href="/assets/js/50.2d01b40c.js"><link rel="prefetch" href="/assets/js/51.ddf132cb.js"><link rel="prefetch" href="/assets/js/52.fbc9619b.js"><link rel="prefetch" href="/assets/js/53.089b304e.js"><link rel="prefetch" href="/assets/js/54.34c0d377.js"><link rel="prefetch" href="/assets/js/55.41e71cff.js"><link rel="prefetch" href="/assets/js/56.ed6b0ac8.js"><link rel="prefetch" href="/assets/js/57.538bf884.js"><link rel="prefetch" href="/assets/js/58.d0051104.js"><link rel="prefetch" href="/assets/js/59.00792d53.js"><link rel="prefetch" href="/assets/js/6.6a15c5c7.js"><link rel="prefetch" href="/assets/js/60.44529245.js"><link rel="prefetch" href="/assets/js/61.6a6e2fe6.js"><link rel="prefetch" href="/assets/js/62.b02509d6.js"><link rel="prefetch" href="/assets/js/63.c865f599.js"><link rel="prefetch" href="/assets/js/64.7aafe0f4.js"><link rel="prefetch" href="/assets/js/65.029254a7.js"><link rel="prefetch" href="/assets/js/66.1d8c00be.js"><link rel="prefetch" href="/assets/js/67.191949ec.js"><link rel="prefetch" href="/assets/js/69.5e5d346e.js"><link rel="prefetch" href="/assets/js/7.4353a828.js"><link rel="prefetch" href="/assets/js/70.61cd3f71.js"><link rel="prefetch" href="/assets/js/71.1a87ddd4.js"><link rel="prefetch" href="/assets/js/72.f561b5cf.js"><link rel="prefetch" href="/assets/js/73.d1c67ae7.js"><link rel="prefetch" href="/assets/js/74.3725d6d7.js"><link rel="prefetch" href="/assets/js/75.310c7556.js"><link rel="prefetch" href="/assets/js/76.b8a53386.js"><link rel="prefetch" href="/assets/js/77.e04be33a.js"><link rel="prefetch" href="/assets/js/78.17c06f28.js"><link rel="prefetch" href="/assets/js/79.3ff2fb40.js"><link rel="prefetch" href="/assets/js/8.248194f5.js"><link rel="prefetch" href="/assets/js/80.96d575dc.js"><link rel="prefetch" href="/assets/js/81.770ca2a4.js"><link rel="prefetch" href="/assets/js/82.8900493c.js"><link rel="prefetch" href="/assets/js/83.4716d242.js"><link rel="prefetch" href="/assets/js/84.5ae9874f.js"><link rel="prefetch" href="/assets/js/85.924e7d3d.js"><link rel="prefetch" href="/assets/js/86.5073d16d.js"><link rel="prefetch" href="/assets/js/87.1148acd0.js"><link rel="prefetch" href="/assets/js/88.629d8beb.js"><link rel="prefetch" href="/assets/js/89.36b4cdb0.js"><link rel="prefetch" href="/assets/js/9.85151a25.js"><link rel="prefetch" href="/assets/js/90.fac275aa.js"><link rel="prefetch" href="/assets/js/91.93484ec9.js"><link rel="prefetch" href="/assets/js/92.01e42c63.js"><link rel="prefetch" href="/assets/js/93.50a55dd7.js"><link rel="prefetch" href="/assets/js/94.6a3f96c8.js"><link rel="prefetch" href="/assets/js/95.7dd7befb.js"><link rel="prefetch" href="/assets/js/96.38d049b2.js"><link rel="prefetch" href="/assets/js/97.a129eb48.js"><link rel="prefetch" href="/assets/js/98.f848c937.js"><link rel="prefetch" href="/assets/js/99.2dc3271b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.027adcb0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/C-logo.png" alt="clivia‘s blog" class="logo"> <span class="site-name can-hide">clivia‘s blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><a href="/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/project/" class="nav-link">项目</a></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://gitee.com/kflys/clivia-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Gitee
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/logo.png"> <div class="blogger-info"><h3>clivia’s blog</h3> <span>专注于后端开发，致力于简洁知识。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><a href="/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/project/" class="nav-link">项目</a></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://gitee.com/kflys/clivia-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Gitee
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>HBase基础理论</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e6c051/" aria-current="page" class="active sidebar-link">HBase基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e6c051/#数据模型" class="sidebar-link">数据模型</a></li><li class="sidebar-sub-header"><a href="/pages/e6c051/#整体架构" class="sidebar-link">整体架构</a></li><li class="sidebar-sub-header"><a href="/pages/e6c051/#hbase-client" class="sidebar-link">HBase Client</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e6c051/#hbase-shell" class="sidebar-link">HBase Shell</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e6c051/#高级shell管理命令" class="sidebar-link">高级shell管理命令</a></li><li class="sidebar-sub-header"><a href="/pages/e6c051/#javaapi" class="sidebar-link">JavaAPI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e6c051/#基础api" class="sidebar-link">基础Api</a></li><li class="sidebar-sub-header"><a href="/pages/e6c051/#过滤器" class="sidebar-link">过滤器</a></li><li class="sidebar-sub-header"><a href="/pages/e6c051/#删除操作" class="sidebar-link">删除操作</a></li></ul></li></ul></li><li><a href="/pages/b91e33/" class="sidebar-link">HBase数据存储原理分析</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HBase集成</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HBase进阶</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-70a2d273><div class="articleInfo" data-v-70a2d273><ul class="breadcrumbs" data-v-70a2d273><li data-v-70a2d273><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-70a2d273></a></li> <li data-v-70a2d273><a href="/categories/?category=%E3%80%8AHBase%E3%80%8B%E7%AC%94%E8%AE%B0" title="分类" data-v-70a2d273>《HBase》笔记</a></li> <li data-v-70a2d273><a href="/categories/?category=HBase%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA" title="分类" data-v-70a2d273>HBase基础理论</a></li> <!----></ul> <div class="info" data-v-70a2d273><div title="作者" class="author iconfont icon-touxiang" data-v-70a2d273><a href="https://gitee.com/kflys" target="_blank" title="作者" class="beLink" data-v-70a2d273>kflys</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-70a2d273><a href="javascript:;" data-v-70a2d273>2021-09-30</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          HBase基础知识
        </h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><hr> <p><a href="http://developer.51cto.com/art/201904/595698.htm" target="_blank" rel="noopener noreferrer">漫画学习HBase----最易懂的Hbase架构原理解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><em>HBase基于Google的BigTable论文，是建立的__HDFS__之上，提供<strong>高可靠性</strong>、<strong>高性能</strong>、<strong>列存储</strong>、<strong>可伸缩</strong>、<strong>实时读写</strong>的分布式数据库系统。</em></p> <p><em>在需要__实时读写随机访问__超大规模数据集时，可以使用HBase。</em></p> <div class="language- extra-class"><pre><code>[点击跳转](https://kfly.top/2019/11/26/hadoop/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/)
</code></pre></div><h2 id="数据模型"><a href="#数据模型" class="header-anchor">#</a> 数据模型</h2> <p><img src="http://kflys.gitee.io/upic/2020/04/01/uPic/hbase/assets/hbase-data-model.png.png#height=331&amp;id=e1t5M&amp;originHeight=331&amp;originWidth=1748&amp;originalType=binary&amp;ratio=1&amp;status=done&amp;style=none&amp;width=1748" alt=""></p> <ul><li>rowkey行键
<ul><li>table的主键，table中的记录按照rowkey 的字典序进行排序</li> <li>Row key行键可以是任意字符串(最大长度是 64KB，实际应用中长度一般为 10-100bytes)</li></ul></li> <li>Column Family列族
<ul><li>列族或列簇</li> <li>HBase表中的每个列，都归属与某个列族</li> <li>列族是表的schema的一部分(而列不是)，即建表时至少指定一个列族</li> <li>比如创建一张表，名为<code>user</code>，有两个列族，分别是<code>info</code>和<code>data</code>，建表语句<code>create 'user', 'info', 'data'</code></li></ul></li> <li>Column列
<ul><li>列肯定是表的某一列族下的一个列，用<code>列族名:列名</code>表示，如<code>info</code>列族下的<code>name</code>列，表示为<code>info:name</code></li> <li>属于某一个ColumnFamily,类似于我们mysql当中创建的具体的列</li></ul></li> <li>cell单元格
<ul><li>指定row key行键、列族、列，可以确定的一个cell单元格</li> <li>cell中的数据是没有类型的，全部是以字节数组进行存储</li></ul></li></ul> <p><img src="http://kflys.gitee.io/upic/2020/04/01/uPic/hbase/assets/Image201911072218.png#height=182&amp;id=Cp6m4&amp;originHeight=182&amp;originWidth=1126&amp;originalType=binary&amp;ratio=1&amp;status=done&amp;style=none&amp;width=1126" alt=""></p> <ul><li>Timestamp时间戳
<ul><li>可以对表中的Cell多次赋值，每次赋值操作时的时间戳timestamp，可看成Cell值的版本号version number</li> <li>即一个Cell可以有多个版本的值</li></ul></li></ul> <h2 id="整体架构"><a href="#整体架构" class="header-anchor">#</a> 整体架构</h2> <p><img src="http://kflys.gitee.io/upic/2020/04/01/uPic/hbase/assets/hbase-Hmaster-Hregionserver.png#height=715&amp;id=XVOfT&amp;originHeight=715&amp;originWidth=1352&amp;originalType=binary&amp;ratio=1&amp;status=done&amp;style=none&amp;width=1352" alt=""></p> <ul><li>Client客户端
<ul><li>Client是操作HBase集群的入口
<ul><li>对于管理类的操作，如表的增、删、改操纵，Client通过RPC与HMaster通信完成</li> <li>对于表数据的读写操作，Client通过RPC与RegionServer交互，读写数据</li></ul></li> <li>Client类型：
<ul><li>HBase shell / Java编程接口 /Thrift、Avro、Rest等等</li></ul></li></ul></li> <li>ZooKeeper集群
<ul><li>实现了HMaster的高可用，多HMaster间进行主备选举</li> <li>保存了HBase的元数据信息meta表，提供了HBase表中region的寻址入口的线索数据</li> <li>对HMaster和HRegionServer实现了监控</li></ul></li> <li>HMaster
<ul><li>HBase集群也是主从架构，HMaster是主的角色，是老大</li> <li>主要负责Table表和Region的相关管理工作：</li> <li>关于Table
<ul><li>管理Client对Table的增删改的操作</li> <li>关于Region
<ul><li>在Region分裂后，负责新Region分配到指定的HRegionServer上</li> <li>管理HRegionServer间的负载均衡，迁移region分布</li> <li>当HRegionServer宕机后，负责其上的region的迁移</li></ul></li></ul></li></ul></li> <li>HRegionServer</li> <li>HBase集群中从的角色，是小弟
<ul><li>响应客户端的读写数据请求</li> <li>负责管理一系列的Region</li> <li>切分在运行过程中变大的region</li></ul></li> <li>Region
<ul><li>HBase集群中分布式存储的最小单元</li> <li>一个Region对应一个Table表的部分数据</li></ul></li></ul> <blockquote><p>HBase使用，主要有两种形式：①命令；②Java编程</p></blockquote> <h2 id="hbase-client"><a href="#hbase-client" class="header-anchor">#</a> HBase Client</h2> <h3 id="hbase-shell"><a href="#hbase-shell" class="header-anchor">#</a> HBase Shell</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kfly/install/hbase-1.2.0-cdh5.14.2/
bin/HBase shell
<span class="token comment"># list table</span>
list
 
<span class="token comment"># create table</span>
create <span class="token string">'user'</span>, <span class="token string">'info'</span>, <span class="token string">'data'</span>
create <span class="token string">'user'</span>, <span class="token punctuation">{</span>NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'info'</span>, VERSIONS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'3'</span><span class="token punctuation">}</span>，<span class="token punctuation">{</span>NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'data'</span><span class="token punctuation">}</span>
<span class="token comment"># 向user表中插入信息，row key为rk0001，列族info中添加名为age 、 name的列，值为zhangsan</span>
put <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token string">'info:age'</span>, <span class="token string">'zhangsan'</span>
put <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token string">'info:name'</span>, <span class="token string">'female'</span>

<span class="token comment"># 获取user表中row key为rk0001的所有信息（即所有cell的数据）</span>
get <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>

<span class="token comment"># 获取user表中row key为rk0001，info列族的所有信息</span>
get <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token string">'info'</span>

<span class="token comment"># 获取user表中row key为rk0001，info列族的name、age列的信息</span>
get <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token string">'info:name'</span>, <span class="token string">'info:age'</span>

<span class="token comment"># 获取多个列镞的信息</span>
get <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token string">'info'</span>, <span class="token string">'data'</span>
get <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token punctuation">{</span>COLUMN <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">'info'</span>, <span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
get <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token punctuation">{</span>COLUMN <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">'info:name'</span>, <span class="token string">'data:pic'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>

<span class="token comment"># 指定rowkey与列值过滤器查询</span>
get <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token punctuation">{</span>FILTER <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;ValueFilter(=, 'binary:zhangsan')&quot;</span><span class="token punctuation">}</span>
<span class="token comment"># 获取user表中row key为rk0001，列标示符中含有a的信息</span>
get <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token punctuation">{</span>FILTER <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;(QualifierFilter(=,'substring:a'))&quot;</span><span class="token punctuation">}</span>

get <span class="token string">'user'</span>, <span class="token string">'rk0002'</span>, <span class="token punctuation">{</span>FILTER <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;ValueFilter(=, 'binary:中国')&quot;</span><span class="token punctuation">}</span>

<span class="token comment"># 查询user表中的所有信息</span>
scan <span class="token string">'user'</span>
scan <span class="token string">'user'</span>, <span class="token punctuation">{</span><span class="token environment constant">COLUMNS</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'info'</span><span class="token punctuation">}</span>
scan <span class="token string">'user'</span>, <span class="token punctuation">{</span><span class="token environment constant">COLUMNS</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'info'</span>, RAW <span class="token operator">=</span><span class="token operator">&gt;</span> true, VERSIONS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">}</span>
scan <span class="token string">'user'</span>, <span class="token punctuation">{</span><span class="token environment constant">COLUMNS</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">'info'</span>, <span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
scan <span class="token string">'user'</span>, <span class="token punctuation">{</span><span class="token environment constant">COLUMNS</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'info:name'</span><span class="token punctuation">}</span>

<span class="token comment"># 指定多个列族与按照数据值模糊查询</span>
scan <span class="token string">'user'</span>, <span class="token punctuation">{</span><span class="token environment constant">COLUMNS</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">'info'</span>, <span class="token string">'data'</span><span class="token punctuation">]</span>, FILTER <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;(QualifierFilter(=,'substring:a'))&quot;</span><span class="token punctuation">}</span>

<span class="token comment">#  指定rowkey的范围查询</span>
scan <span class="token string">'user'</span>, <span class="token punctuation">{</span><span class="token environment constant">COLUMNS</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'info'</span>, STARTROW <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'rk0001'</span>, ENDROW <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'rk0003'</span><span class="token punctuation">}</span>

<span class="token comment">#  指定rowkey模糊查询</span>
scan <span class="token string">'user'</span>,<span class="token punctuation">{</span>FILTER<span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&quot;PrefixFilter('rk')&quot;</span><span class="token punctuation">}</span>

<span class="token comment"># 指定数据版本的范围查询</span>
scan <span class="token string">'user'</span>, <span class="token punctuation">{</span>TIMERANGE <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1392368783980</span>, <span class="token number">1392380169184</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 更新数据值 将user表的f1列族版本数改为5</span>
alter <span class="token string">'user'</span>, NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'info'</span>, VERSIONS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">5</span>

<span class="token comment"># 指定rowkey以及列名进行删除</span>
delete <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token string">'info:name'</span>

<span class="token comment">#  指定rowkey，列名以及版本号进行删除</span>
delete <span class="token string">'user'</span>, <span class="token string">'rk0001'</span>, <span class="token string">'info:name'</span>, <span class="token number">1392383705316</span>

<span class="token comment"># 删除一个列镞</span>
alter <span class="token string">'user'</span>, NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'info'</span>, METHOD <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'delete'</span> 
或 alter <span class="token string">'user'</span>, <span class="token string">'delete'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'info'</span>

<span class="token comment"># 清空表数据</span>
truncate <span class="token string">'user'</span>

<span class="token comment"># 删除表</span>
disable <span class="token string">'user'</span>
drop <span class="token string">'user'</span>

<span class="token comment"># 统计有多少数据</span>
count <span class="token string">'user'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="高级shell管理命令"><a href="#高级shell管理命令" class="header-anchor">#</a> 高级shell管理命令</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 显示服务器状态</span>
status <span class="token string">'node01'</span>

<span class="token comment"># 显示HBase当前用户，例如：</span>
<span class="token function">whoami</span>

<span class="token comment">#  显示当前所有的表</span>
HBase <span class="token operator">&gt;</span>  list

<span class="token comment">#  统计指定表的记录数，例如：</span>
HBase<span class="token operator">&gt;</span> count <span class="token string">'user'</span> 

<span class="token comment">#  展示表结构信息</span>
HBase<span class="token operator">&gt;</span> describe <span class="token string">'user'</span>

<span class="token comment">#  检查表是否存在，适用于表量特别多的情况</span>
HBase<span class="token operator">&gt;</span> exists <span class="token string">'user'</span>

<span class="token comment">#  检查表是否启用或禁用</span>
HBase<span class="token operator">&gt;</span> is_enabled <span class="token string">'user'</span>
HBase<span class="token operator">&gt;</span> is_disabled <span class="token string">'user'</span>

<span class="token comment">#  该命令可以改变表和列族的模式，例如：</span>
<span class="token comment">#  **为当前表增加列族：**</span>
HBase<span class="token operator">&gt;</span> alter <span class="token string">'user'</span>, NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'CF2'</span>, VERSIONS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token comment">#  **为当前表删除列族：**</span>
HBase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:002:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>  alter <span class="token string">'user'</span>, <span class="token string">'delete'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'CF2'</span>

<span class="token comment">#  禁用一张表/启用一张表</span>
HBase<span class="token operator">&gt;</span> disable <span class="token string">'user'</span>
HBase<span class="token operator">&gt;</span> <span class="token builtin class-name">enable</span> <span class="token string">'user'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="javaapi"><a href="#javaapi" class="header-anchor">#</a> JavaAPI</h2> <ul><li>HBase是一个分布式的NoSql数据库，在实际工作当中，我们一般都可以通过JavaAPI来进行各种数据的操作，包括创建表，以及数据的增删改查等等</li> <li>讲如下内容作为maven工程中pom.xml的repositories的内容</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;
    &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;
    &lt;version&gt;2.6.0-mr1-cdh5.14.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.HBase&lt;/groupId&gt;
  &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;
  &lt;version&gt;1.2.0-cdh5.14.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.HBase&lt;/groupId&gt;
  &lt;artifactId&gt;hbase-server&lt;/artifactId&gt;
  &lt;version&gt;1.2.0-cdh5.14.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;junit&lt;/groupId&gt;
  &lt;artifactId&gt;junit&lt;/artifactId&gt;
  &lt;version&gt;4.12&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.testng&lt;/groupId&gt;
  &lt;artifactId&gt;testng&lt;/artifactId&gt;
  &lt;version&gt;6.14.3&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="基础api"><a href="#基础api" class="header-anchor">#</a> 基础Api</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 1. 连接HBase
Configuration configuration = HBaseConfiguration.create();
//连接HBase集群不需要指定HBase主节点的ip地址和端口号
configuration.set(&quot;HBase.zookeeper.quorum&quot;,&quot;node01:2181,node02:2181,node03:2181&quot;);
//创建连接对象
Connection connection = ConnectionFactory.createConnection(configuration);	


//2. 获取管理员对象，来对手数据库进行DDL的操作
Admin admin = connection.getAdmin();

// 3. 建表
HTableDescriptor hTableDescriptor = new HTableDescriptor(TableName.valueOf(&quot;myuser&quot;));
//指定列族
HColumnDescriptor f1 = new HColumnDescriptor(&quot;f1&quot;);
hTableDescriptor.addFamily(f1);
admin.createTable(hTableDescriptor);

// 4. 添加数据
Table table = connection.getTable(TableName.valueOf(TABLE_NAME));
Put put = new Put(&quot;0001&quot;.getBytes());//创建put对象，并指定rowkey值
put.addColumn(&quot;f1&quot;.getBytes(),&quot;name&quot;.getBytes(),&quot;zhangsan&quot;.getBytes());
table.put(put);

// 5. 查询数据
//通过get对象，指定rowkey
Get get = new Get(Bytes.toBytes(&quot;0003&quot;));
get.addFamily(&quot;f1&quot;.getBytes());//限制只查询f1列族下面所有列的值
//查询f2列族 phone这个字段
get.addColumn(&quot;f2&quot;.getBytes(),&quot;phone&quot;.getBytes());
//通过get查询，返回一个result对象，所有的字段的数据都是封装在result里面了
Result result = table.get(get);

// 6. 遍历结果
List&lt;Cell&gt; cells = result.listCells();  //获取一条数据所有的cell，所有数据值都是在cell里面 的
for (Cell cell : cells) {
  byte[] family_name = CellUtil.cloneFamily(cell);//获取列族名
  byte[] column_name = CellUtil.cloneQualifier(cell);//获取列名
  byte[] rowkey = CellUtil.cloneRow(cell);//获取rowkey
  byte[] cell_value = CellUtil.cloneValue(cell);//获取cell值
  // 需要判断字段的数据类型，使用对应的转换的方法，才能够获取到值
  if(&quot;age&quot;.equals(Bytes.toString(column_name))  || &quot;id&quot;.equals(Bytes.toString(column_name))){}else{}
}

// 7. scan查询
Scan scan = new Scan();//没有指定startRow以及stopRow  全表扫描
//扫描f1列族
scan.addFamily(&quot;f1&quot;.getBytes());
//扫描 f2列族 phone  这个字段
scan.addColumn(&quot;f2&quot;.getBytes(),&quot;phone&quot;.getBytes());
scan.setStartRow(&quot;0003&quot;.getBytes());
scan.setStopRow(&quot;0007&quot;.getBytes());
//通过getScanner查询获取到了表里面所有的数据，是多条数据
ResultScanner scanner = table.getScanner(scan);

//遍历ResultScanner 得到每一条数据，每一条数据都是封装在result对象里面了
for (Result result : scanner) {
  List&lt;Cell&gt; cells = result.listCells();
  for (Cell cell : cells) {
    byte[] family_name = CellUtil.cloneFamily(cell);
    byte[] qualifier_name = CellUtil.cloneQualifier(cell);
    byte[] rowkey = CellUtil.cloneRow(cell);
    byte[] value = CellUtil.cloneValue(cell);
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><h3 id="过滤器"><a href="#过滤器" class="header-anchor">#</a> 过滤器</h3> <ul><li>过滤器的作用是在服务端判断数据是否满足条件，然后只将满足条件的数据返回给客户端</li> <li>过滤器的类型很多，但是可以分为两大类
<ul><li>比较过滤器</li> <li>专用过滤器</li></ul></li> <li>HBase过滤器的<strong>比较运算符</strong>：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>LESS  <span class="token operator">&lt;</span>
LESS_OR_EQUAL <span class="token operator">&lt;=</span>
EQUAL <span class="token operator">=</span>
NOT_EQUAL <span class="token operator">&lt;&gt;</span>
GREATER_OR_EQUAL <span class="token operator">&gt;=</span>
GREATER <span class="token operator">&gt;</span>
NO_OP 排除所有
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>Hbase过滤器的<strong>比较器</strong>（指定比较机制）：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>BinaryComparator  按字节索引顺序比较指定字节数组，采用Bytes<span class="token punctuation">.</span>compareTo<span class="token punctuation">(</span>byte<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
BinaryPrefixComparator 跟前面相同，只是比较左端的数据是否相同
NullComparator 判断给定的是否为空
BitComparator 按位比较
RegexStringComparator 提供一个正则的比较器，仅支持 EQUAL 和非EQUAL
SubstringComparator 判断提供的子串是否出现在中。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>// 比rowKey  0003小的所有值出来,获取我们比较对象
BinaryComparator binaryComparator = new BinaryComparator(&quot;0003&quot;.getBytes());
RowFilter rowFilter = new RowFilter(CompareFilter.CompareOp.GREATER, binaryComparator);

// 列镞名包含f2的数据
SubstringComparator substringComparator = new SubstringComparator(&quot;f2&quot;);
FamilyFilter familyFilter = new FamilyFilter(CompareFilter.CompareOp.EQUAL, substringComparator);

// 定义列名过滤器，只查询列名包含name的列
SubstringComparator substringComparator = new SubstringComparator(&quot;name&quot;);
QualifierFilter qualifierFilter = new QualifierFilter(CompareFilter.CompareOp.EQUAL, substringComparator);

// 列值过滤器，过滤列值当中包含数字8的所有的列
SubstringComparator substringComparator = new SubstringComparator(&quot;8&quot;);
ValueFilter valueFilter = new ValueFilter(CompareFilter.CompareOp.EQUAL, substringComparator);

// 单列值过滤器，过滤  f1 列族  name  列  值为刘备的数据
SingleColumnValueFilter singleColumnValueFilter = new SingleColumnValueFilter(&quot;f1&quot;.getBytes(), &quot;name&quot;.getBytes(), CompareFilter.CompareOp.EQUAL, &quot;刘备&quot;.getBytes());

// 列值排除过滤器SingleColumnValueExcludeFilter,与SingleColumnValueFilter相反，会排除掉指定的列，其他的列全部返回

// 前缀过滤器，过滤rowkey以  00开头的数据
PrefixFilter prefixFilter = new PrefixFilter(&quot;00&quot;.getBytes());


scan.setFilter(filter);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h5 id="pagefilter"><a href="#pagefilter" class="header-anchor">#</a> PageFilter</h5> <ul><li>通过pageFilter实现分页过滤器</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 1. 获取第一页的数据
scan.setMaxResultSize(pageSize);
scan.setStartRow(&quot;&quot;.getBytes()); // 第一页的开始row为 “”空字符串
//使用分页过滤器来实现数据的分页
PageFilter filter = new PageFilter(pageSize);
scan.setFilter(filter);
ResultScanner scanner = table.getScanner(scan);

// 2. 获取第n(n &gt; 1)页的数据
String  startRow = &quot;&quot;;
// （扫描跳过前面的数据）扫描数据的调试 扫描(pageNum - 1) * pageSize + 1条数据
int scanDatas = (pageNum - 1) * pageSize + 1;
scan.setMaxResultSize(scanDatas);//设置一步往前扫描多少条数据
PageFilter filter = new PageFilter(scanDatas);
scan.setFilter(filter);
ResultScanner scanner = table.getScanner(scan);
// 到现在已经扫过目标值前面数据，最后一条作为目标页的startRowKey
for (Result result : scanner) {
  byte[] row = result.getRow();//获取rowkey
  //最后一次startRow的值就是目标值
  startRow= Bytes.toString(row);//循环遍历我们多有获取到的数据的rowkey
}
// 现在开始获取目标页数据
scan.setStartRow(startRow.getBytes());
scan.setMaxResultSize(pageSize);//设置我们扫描多少条数据
PageFilter filter1 = new PageFilter(pageSize);
scan.setFilter(filter1);
ResultScanner scanner1 = table.getScanner(scan);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h5 id="filterlist"><a href="#filterlist" class="header-anchor">#</a> FilterList</h5> <div class="language- line-numbers-mode"><pre class="language-text"><code>Scan scan = new Scan();
FilterList filterList = new FilterList();
filterList.addFilter(singleColumnValueFilter);
filterList.addFilter(prefixFilter);
scan.setFilter(filterList);
ResultScanner scanner = table.getScanner(scan);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="删除操作"><a href="#删除操作" class="header-anchor">#</a> 删除操作</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 根据rowkey删除数据
Delete delete = new Delete(&quot;0003&quot;.getBytes());
table.delete(delete);

//删除一张表
admin.disableTable(TableName.valueOf(TABLE_NAME));
admin.deleteTable(TableName.valueOf(TABLE_NAME));
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://gitee.com/kflys/clivia-blog/edit/master/docs/《HBase》笔记/10.HBase基础理论/01.HBase基础知识.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=hbase" title="标签">#hbase</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">10/11/2021, 5:53:41 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/b91e33/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">HBase数据存储原理分析</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/b91e33/">HBase数据存储原理分析</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/8e0b33/"><div>阿里官方Redis开发规范</div></a> <span>10-08</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/20a714/"><div>无监督学习</div></a> <span>01-26</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/e78220/"><div>模拟保存预加载</div></a> <span>01-26</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:clivia.pro@gmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://gitee.com/kflys" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://y.qq.com/n/ryqq/songDetail/003lgoEG1SWHmF" title="music" target="_blank" class="iconfont icon-erji"></a></div> <div><span> Theme by <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> | Powered by <a href="https://webify.cloudbase.net/" target="_blank">CloudBase Webify</a></span></div> <span>Clivia‘s <a href="https://gitee.com/kflys/clivia-blog" target="_blank">blog</a> </span>
    | Copyright © 2019-2022
    <span><a href="http://beian.miit.gov.cn/" target="_blank">皖ICP备2021014093号</a> </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;left:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><!----></div></div></div>
    <script src="/assets/js/app.06f86fe0.js" defer></script><script src="/assets/js/2.ed69dcfc.js" defer></script><script src="/assets/js/3.b6cd915d.js" defer></script><script src="/assets/js/68.fc11d430.js" defer></script>
  </body>
</html>