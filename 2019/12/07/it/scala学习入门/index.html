<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="天行健、君子以自强不息；地势坤，君子以厚德载物。">
    <meta name="keyword"  content="兰草">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        scala学习入门 - Kaffir Lily的博客 | Kaffir Lily&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1598291_q3el2wqimj.css" type="text/css">
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 君子谦谦，温和有礼，有才而不骄，得志而不傲，居于谷而不卑。 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>kfly</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont iconhome"></i>
                    <span>主页</span>
                </a>
            </li>
 	   <li >
                <a href="/spec/">
                    <i class="iconfont iconzhuanti"></i>
                    <span>专题</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>简历</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-scala简介"><span class="toc-text">1. scala简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-为什么要使用scala"><span class="toc-text">2. 为什么要使用scala</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-开发环境安装"><span class="toc-text">3. 开发环境安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-scala中声明变量"><span class="toc-text">4. scala中声明变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-scala中数据类型"><span class="toc-text">5. scala中数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-scala中的条件表达式"><span class="toc-text">6.  scala中的条件表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-scala中的块表达式"><span class="toc-text">7. scala中的块表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-循环"><span class="toc-text">8. 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-1-for循环"><span class="toc-text">8.1 for循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-while循环"><span class="toc-text">8.2 while循环</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-方法和函数"><span class="toc-text">10. 方法和函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#10-1-方法"><span class="toc-text">10.1 方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-函数"><span class="toc-text">10.2 函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-3-方法和函数的区别"><span class="toc-text">10.3 方法和函数的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-4-方法转换为函数"><span class="toc-text">10.4 方法转换为函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-数组"><span class="toc-text">11. 数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-定长数组"><span class="toc-text">11.1 定长数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-2-变长数组"><span class="toc-text">11.2 变长数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-3-遍历数组"><span class="toc-text">11.3 遍历数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-4-数组常用操作"><span class="toc-text">11.4 数组常用操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-元组"><span class="toc-text">12. 元组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#12-1-定义元组"><span class="toc-text">12.1 定义元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-2-示例"><span class="toc-text">12.2 示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-3-访问元组"><span class="toc-text">12.3 访问元组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-映射Map"><span class="toc-text">13. 映射Map</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#13-1-不可变Map"><span class="toc-text">13.1 不可变Map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-2-可变Map"><span class="toc-text">13.2 可变Map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-3-Map基本操作"><span class="toc-text">13.3 Map基本操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-Set集合"><span class="toc-text">14. Set集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#14-1-不可变Set集合"><span class="toc-text">14.1 不可变Set集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-2-可变Set集合"><span class="toc-text">14.2 可变Set集合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-列表-List"><span class="toc-text">15. 列表 List</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#15-1-不可变列表"><span class="toc-text">15.1 不可变列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-2-可变列表"><span class="toc-text">15.2 可变列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-3-列表操作"><span class="toc-text">15.3 列表操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-函数式编程"><span class="toc-text">16. 函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#16-1-遍历-foreach"><span class="toc-text">16.1 遍历 - foreach</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-2-映射-map"><span class="toc-text">16.2 映射 - map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-3-扁平化映射-flatmap"><span class="toc-text">16.3 扁平化映射 - flatmap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-4-过滤-filter"><span class="toc-text">16.4 过滤 - filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-5-排序-sort"><span class="toc-text">16.5 排序 - sort</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-6-分组-groupBy"><span class="toc-text">16.6 分组 - groupBy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-7-聚合-reduce"><span class="toc-text">16.7 聚合 - reduce</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-8-折叠-fold"><span class="toc-text">16.8 折叠 - fold</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-高阶函数"><span class="toc-text">17. 高阶函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#17-1-函数值作为参数"><span class="toc-text">17.1 函数值作为参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-2-匿名函数"><span class="toc-text">17.2 匿名函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-3-柯里化"><span class="toc-text">17.3 柯里化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-4-闭包"><span class="toc-text">17.4 闭包</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-scala面向对象编程之类"><span class="toc-text">18. scala面向对象编程之类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#18-1-类的定义"><span class="toc-text">18.1 类的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18-2-类的构造器"><span class="toc-text">18.2 类的构造器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-scala面向对象编程之对象"><span class="toc-text">19.scala面向对象编程之对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#19-1-scala中的object"><span class="toc-text">19.1 scala中的object</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19-2-scala中的伴生对象"><span class="toc-text">19.2 scala中的伴生对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19-3-scala中object的apply方法"><span class="toc-text">19.3 scala中object的apply方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19-4-scala中object的main方法"><span class="toc-text">19.4 scala中object的main方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20-scala面向对象编程之继承"><span class="toc-text">20. scala面向对象编程之继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#20-1-继承extends"><span class="toc-text">20.1 继承extends</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-2-override和super"><span class="toc-text">20.2 override和super</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-3-isInstanceOf和asInstanceOf"><span class="toc-text">20.3 isInstanceOf和asInstanceOf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-4-getClass和classOf"><span class="toc-text">20.4 getClass和classOf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-5-访问修饰符"><span class="toc-text">20.5 访问修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-6-调用父类的constructor"><span class="toc-text">20.6 调用父类的constructor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-7-抽象类"><span class="toc-text">20.7 抽象类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-8-匿名内部类"><span class="toc-text">20.8 匿名内部类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-scala面向对象编程之trait特质"><span class="toc-text">21. scala面向对象编程之trait特质</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#21-1-作为接口使用"><span class="toc-text">21.1 作为接口使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-2-定义具体的方法"><span class="toc-text">21.2 定义具体的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-3-定义具体方法和抽象方法"><span class="toc-text">21.3 定义具体方法和抽象方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-4-定义具体字段和抽象字段"><span class="toc-text">21.4 定义具体字段和抽象字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-5-实例对象混入trait"><span class="toc-text">21.5 实例对象混入trait</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-模式匹配和样例类"><span class="toc-text">22. 模式匹配和样例类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#22-1-匹配字符串"><span class="toc-text">22.1 匹配字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-2-匹配类型"><span class="toc-text">22.2 匹配类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-3-匹配数组"><span class="toc-text">22.3 匹配数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-4-匹配集合"><span class="toc-text">22.4 匹配集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-5-匹配元组"><span class="toc-text">22.5 匹配元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-6-样例类"><span class="toc-text">22.6 样例类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-7-Option类型"><span class="toc-text">22.7 Option类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-8-偏函数"><span class="toc-text">22.8 偏函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-异常处理"><span class="toc-text">23. 异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#23-1-异常场景"><span class="toc-text">23.1 异常场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-2-捕获异常"><span class="toc-text">23.2 捕获异常</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-3-抛出异常"><span class="toc-text">23.3 抛出异常</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-提取器-Extractor"><span class="toc-text">24. 提取器(Extractor)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-泛型"><span class="toc-text">25. 泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#25-1-定义一个泛型方法"><span class="toc-text">25.1 定义一个泛型方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-2-定义一个泛型类"><span class="toc-text">25.2 定义一个泛型类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-上下界"><span class="toc-text">26. 上下界</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27-协变、逆变、非变"><span class="toc-text">27. 协变、逆变、非变</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#28-隐式转换和隐式参数"><span class="toc-text">28. 隐式转换和隐式参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#28-1-隐式转换"><span class="toc-text">28.1 隐式转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#28-2-隐式参数"><span class="toc-text">28.2 隐式参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#28-3-案例演示"><span class="toc-text">28.3 案例演示</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> 君子谦谦，温和有礼，有才而不骄，得志而不傲，居于谷而不卑。 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        scala学习入门
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2019-12-07 23:51:59</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#-scala" title="-scala">-scala</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h3 id="1-scala简介"><a href="#1-scala简介" class="headerlink" title="1. scala简介"></a>1. scala简介</h3><ul>
<li>scala是运行在 JVM 上的多范式编程语言，同时支持==面向对象==和==面向函数编程==</li>
<li>早期scala刚出现的时候，并没有怎么引起重视，随着==Spark==和==Kafka==这样基于scala的大数据框架的兴起，scala逐步进入大数据开发者的眼帘。scala的主要优势是它的表达性。</li>
<li>官网地址<ul>
<li><a href="http://www.scala-lang.org" target="_blank" rel="noopener">http://www.scala-lang.org</a></li>
</ul>
</li>
</ul>
<h3 id="2-为什么要使用scala"><a href="#2-为什么要使用scala" class="headerlink" title="2. 为什么要使用scala"></a>2. 为什么要使用scala</h3><ul>
<li>开发大数据应用程序（Spark程序、Flink程序）</li>
<li>表达能力强，一行代码抵得上Java多行，开发速度快</li>
<li>兼容Java，可以访问庞大的Java类库</li>
</ul>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568095858219.png" alt="1568095858219"></p>
<h3 id="3-开发环境安装"><a href="#3-开发环境安装" class="headerlink" title="3. 开发环境安装"></a>3. 开发环境安装</h3><ul>
<li><p>学习如何编写scala代码之前，需要先安装scala编译器以及开发工具</p>
<ul>
<li><p>Java程序编译执行流程</p>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1556551819121.png" alt="1556551819121"></p>
</li>
<li><p>Scala程序编译执行流程</p>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1556551904384.png" alt="1556551904384"></p>
</li>
</ul>
</li>
<li><p>scala程序运行需要依赖于Java类库，必须要有<strong>==Java运行环境==</strong>，scala才能正确执行</p>
<ul>
<li><strong>要编译运行scala程序需要</strong><ul>
<li>==jdk  ( jvm )==</li>
<li>==scala编译器（scala SDK）==</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-scala中声明变量"><a href="#4-scala中声明变量" class="headerlink" title="4. scala中声明变量"></a>4. scala中声明变量</h3><ul>
<li><strong>1、语法格式</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名称:变量类型 = 初始值</span><br></pre></td></tr></table></figure>
<ul>
<li><p>其中</p>
<ul>
<li><code>val</code>定义的是<strong>不可重新赋值</strong>的变量(值不可修改)</li>
<li><code>var</code>定义的是<strong>可重新赋值</strong>的变量(值可以修改)</li>
</ul>
</li>
<li><p>ps</p>
<ul>
<li>scala中声明变量是变量名称在前，变量类型在后，跟java是正好相反</li>
<li>scala的语句最后不需要添加分号</li>
</ul>
</li>
<li><p><strong>2、演示</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#使用<span class="keyword">val</span>声明变量,相当于java中的<span class="keyword">final</span>修饰,不能在指向其他的数据了</span><br><span class="line"> <span class="keyword">val</span>  a:<span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">#使用<span class="keyword">var</span>声明变量,后期可以被修改重新赋值</span><br><span class="line"> <span class="keyword">var</span>  b:<span class="type">Int</span> = <span class="number">20</span>	 </span><br><span class="line"> b=<span class="number">100</span></span><br><span class="line">#scala中的变量的类型可以显式的声明,也可以不声明,如果不显式的声明这会根据变量的值来推断出来变量的类型(scala支持类型推断)</span><br><span class="line"> <span class="keyword">val</span> c = <span class="number">20</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568103524126.png" alt="1568103524126"></p>
<ul>
<li><p>3、<strong>惰性变量</strong></p>
<ul>
<li>Scala中使用==关键字lazy==来定义惰性变量，实现延迟加载(懒加载)。 </li>
<li>惰性变量只能是不可变变量，并且只有在调用惰性变量时，才会去实例化这个变量。</li>
<li>语法格式</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lazy</span> <span class="keyword">val</span> 变量名 = 表达式</span><br></pre></td></tr></table></figure>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568104205830.png" alt="1568104205830"></p>
</li>
</ul>
<p>​         </p>
<h3 id="5-scala中数据类型"><a href="#5-scala中数据类型" class="headerlink" title="5. scala中数据类型"></a>5. scala中数据类型</h3><ul>
<li>scala中的类型绝大多数和Java一样</li>
<li>数据类型</li>
</ul>
<table>
<thead>
<tr>
<th>基础类型</th>
<th>类型说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Byte</td>
<td>8位带符号整数</td>
</tr>
<tr>
<td>Short</td>
<td>16位带符号整数</td>
</tr>
<tr>
<td><strong>Int</strong></td>
<td>32位带符号整数</td>
</tr>
<tr>
<td>Long</td>
<td>64位带符号整数</td>
</tr>
<tr>
<td>Char</td>
<td>16位无符号Unicode字符</td>
</tr>
<tr>
<td>String</td>
<td>Char类型的序列（字符串）</td>
</tr>
<tr>
<td>Float</td>
<td>32位单精度浮点数</td>
</tr>
<tr>
<td>Double</td>
<td>64位双精度浮点数</td>
</tr>
<tr>
<td>Boolean</td>
<td>true或false</td>
</tr>
</tbody>
</table>
<ul>
<li>=<strong>=注意下 scala类型与Java的区别</strong>==</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. scala中所有的类型都使用大写字母开头</span><br><span class="line">2. 整形使用Int而不是Integer</span><br><span class="line">3. scala中定义变量可以不写类型，让scala编译器自动推断</span><br></pre></td></tr></table></figure>
<ul>
<li>scala类型层次结构</li>
</ul>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1556592270468.png" alt="1556592270468"></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Any</td>
<td><strong>所有类型</strong>的父类，,它有两个子类AnyRef与AnyVal</td>
</tr>
<tr>
<td>AnyVal</td>
<td><strong>所有数值类型</strong>的父类</td>
</tr>
<tr>
<td>AnyRef</td>
<td>所有对象类型（引用类型）的父类</td>
</tr>
<tr>
<td>Unit</td>
<td>表示空，Unit是AnyVal的子类，它只有一个的实例（），它类似于Java中的void，但scala要比Java更加面向对象</td>
</tr>
<tr>
<td>Null</td>
<td>Null是AnyRef的子类，也就是说它是所有引用类型的子类。它的实例是null,   可以将null赋值给任何对象类型</td>
</tr>
<tr>
<td>Nothing</td>
<td>所有类型的<strong>子类</strong>不能直接创建该类型实例，某个方法抛出异常时，返回的就是Nothing类型，因为Nothing是所有类的子类，那么它可以赋值为任何类型</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="6-scala中的条件表达式"><a href="#6-scala中的条件表达式" class="headerlink" title="6.  scala中的条件表达式"></a>6.  scala中的条件表达式</h3><ul>
<li>条件表达式就是if表达式，if表达式可以根据给定的条件是否满足，根据条件的结果（真或假）决定执行对应的操作。scala条件表达式的语法和Java一样。</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义变量x</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> x =<span class="number">1</span></span><br><span class="line">x: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//if表达式</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> y =<span class="keyword">if</span>(x&gt;<span class="number">0</span>) <span class="number">1</span> <span class="keyword">else</span> <span class="number">-1</span></span><br><span class="line">y: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//支持混合类型表达式</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> z=<span class="keyword">if</span>(x&gt;<span class="number">1</span>) <span class="number">1</span> <span class="keyword">else</span> <span class="string">"error"</span></span><br><span class="line">z: <span class="type">Any</span> = error</span><br><span class="line"></span><br><span class="line"><span class="comment">//缺失else 相当于 if(x&gt;2) 1 else ()</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> m=<span class="keyword">if</span>(x&gt;<span class="number">2</span>) <span class="number">1</span></span><br><span class="line">m: <span class="type">AnyVal</span> = ()</span><br><span class="line"></span><br><span class="line"><span class="comment">//scala中有个Unit类，用作不返回任何结果的方法的结果类型,相当于Java中的void，Unit只有一个实例值，写成()</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> n=<span class="keyword">if</span>(x&gt;<span class="number">2</span>) <span class="number">1</span> <span class="keyword">else</span> ()</span><br><span class="line">n: <span class="type">AnyVal</span> = ()</span><br><span class="line"></span><br><span class="line"><span class="comment">//if(xx) else if(xx) else </span></span><br><span class="line">scala&gt; <span class="keyword">val</span> k=<span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="number">-1</span> <span class="keyword">else</span> <span class="keyword">if</span> (x==<span class="number">0</span>) <span class="number">0</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">k: <span class="type">Int</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568107951316.png" alt="1568107951316"></p>
<h3 id="7-scala中的块表达式"><a href="#7-scala中的块表达式" class="headerlink" title="7. scala中的块表达式"></a>7. scala中的块表达式</h3><ul>
<li>定义变量时用 {} 包含一系列表达式，其中块的最后一个表达式的值就是块的值。</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> x=<span class="number">0</span> </span><br><span class="line"><span class="keyword">val</span> result=&#123;</span><br><span class="line">  <span class="keyword">val</span> y=x+<span class="number">10</span></span><br><span class="line">  <span class="keyword">val</span> z=y+<span class="string">"-hello"</span>  </span><br><span class="line">  <span class="keyword">val</span> m=z+<span class="string">"-kaikeba"</span></span><br><span class="line">    <span class="string">"over"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//result的值就是块表达式的结果    </span></span><br><span class="line"><span class="comment">//后期一个方法的返回值不需要加上return,把要返回的结果放在方法的最后一行就可以了</span></span><br></pre></td></tr></table></figure>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568108241418.png" alt="1568108241418"></p>
<ul>
<li>在scala解释器中先输入 ==:paste== ,然后写多行代码, 之后按===ctrl+d==结束输入</li>
</ul>
<h3 id="8-循环"><a href="#8-循环" class="headerlink" title="8. 循环"></a>8. 循环</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在scala中，可以使用for和while，但一般推荐使用for表达式，因为for表达式语法更简洁</span><br></pre></td></tr></table></figure>
<h4 id="8-1-for循环"><a href="#8-1-for循环" class="headerlink" title="8.1 for循环"></a>8.1 for循环</h4><ul>
<li><p>1、语法结构</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i &lt;- 表达式/数组/集合)&#123;</span><br><span class="line">    <span class="comment">//表达式</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2、演示</p>
<ul>
<li>简单的for循环</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单的for循环</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> nums= <span class="number">1</span> to <span class="number">10</span></span><br><span class="line">nums: scala.collection.immutable.<span class="type">Range</span>.<span class="type">Inclusive</span> = <span class="type">Range</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- nums) println(i)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>
<ul>
<li>双重for循环</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//双重for循环</span></span><br><span class="line">scala&gt;  <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>; j &lt;- <span class="number">1</span> to <span class="number">3</span>) println(i*<span class="number">10</span>+j)</span><br><span class="line"><span class="number">11</span></span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">13</span></span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="number">22</span></span><br><span class="line"><span class="number">23</span></span><br><span class="line"><span class="number">31</span></span><br><span class="line"><span class="number">32</span></span><br><span class="line"><span class="number">33</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//双重for循环打印99乘法表</span></span><br><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">9</span>; j &lt;- <span class="number">1</span> to i)&#123;</span><br><span class="line">    print(i+<span class="string">"*"</span>+j+<span class="string">"="</span>+i*j+<span class="string">"\t"</span>)</span><br><span class="line">     <span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">       println()</span><br><span class="line">    &#125;    </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="number">1</span>*<span class="number">1</span>=<span class="number">1</span></span><br><span class="line"><span class="number">2</span>*<span class="number">1</span>=<span class="number">2</span>   <span class="number">2</span>*<span class="number">2</span>=<span class="number">4</span></span><br><span class="line"><span class="number">3</span>*<span class="number">1</span>=<span class="number">3</span>   <span class="number">3</span>*<span class="number">2</span>=<span class="number">6</span>   <span class="number">3</span>*<span class="number">3</span>=<span class="number">9</span></span><br><span class="line"><span class="number">4</span>*<span class="number">1</span>=<span class="number">4</span>   <span class="number">4</span>*<span class="number">2</span>=<span class="number">8</span>   <span class="number">4</span>*<span class="number">3</span>=<span class="number">12</span>  <span class="number">4</span>*<span class="number">4</span>=<span class="number">16</span></span><br><span class="line"><span class="number">5</span>*<span class="number">1</span>=<span class="number">5</span>   <span class="number">5</span>*<span class="number">2</span>=<span class="number">10</span>  <span class="number">5</span>*<span class="number">3</span>=<span class="number">15</span>  <span class="number">5</span>*<span class="number">4</span>=<span class="number">20</span>  <span class="number">5</span>*<span class="number">5</span>=<span class="number">25</span></span><br><span class="line"><span class="number">6</span>*<span class="number">1</span>=<span class="number">6</span>   <span class="number">6</span>*<span class="number">2</span>=<span class="number">12</span>  <span class="number">6</span>*<span class="number">3</span>=<span class="number">18</span>  <span class="number">6</span>*<span class="number">4</span>=<span class="number">24</span>  <span class="number">6</span>*<span class="number">5</span>=<span class="number">30</span>  <span class="number">6</span>*<span class="number">6</span>=<span class="number">36</span></span><br><span class="line"><span class="number">7</span>*<span class="number">1</span>=<span class="number">7</span>   <span class="number">7</span>*<span class="number">2</span>=<span class="number">14</span>  <span class="number">7</span>*<span class="number">3</span>=<span class="number">21</span>  <span class="number">7</span>*<span class="number">4</span>=<span class="number">28</span>  <span class="number">7</span>*<span class="number">5</span>=<span class="number">35</span>  <span class="number">7</span>*<span class="number">6</span>=<span class="number">42</span>  <span class="number">7</span>*<span class="number">7</span>=<span class="number">49</span></span><br><span class="line"><span class="number">8</span>*<span class="number">1</span>=<span class="number">8</span>   <span class="number">8</span>*<span class="number">2</span>=<span class="number">16</span>  <span class="number">8</span>*<span class="number">3</span>=<span class="number">24</span>  <span class="number">8</span>*<span class="number">4</span>=<span class="number">32</span>  <span class="number">8</span>*<span class="number">5</span>=<span class="number">40</span>  <span class="number">8</span>*<span class="number">6</span>=<span class="number">48</span>  <span class="number">8</span>*<span class="number">7</span>=<span class="number">56</span>  <span class="number">8</span>*<span class="number">8</span>=<span class="number">64</span></span><br><span class="line"><span class="number">9</span>*<span class="number">1</span>=<span class="number">9</span>   <span class="number">9</span>*<span class="number">2</span>=<span class="number">18</span>  <span class="number">9</span>*<span class="number">3</span>=<span class="number">27</span>  <span class="number">9</span>*<span class="number">4</span>=<span class="number">36</span>  <span class="number">9</span>*<span class="number">5</span>=<span class="number">45</span>  <span class="number">9</span>*<span class="number">6</span>=<span class="number">54</span>  <span class="number">9</span>*<span class="number">7</span>=<span class="number">63</span>  <span class="number">9</span>*<span class="number">8</span>=<span class="number">72</span>  <span class="number">9</span>*<span class="number">9</span>=<span class="number">81</span></span><br></pre></td></tr></table></figure>
<ul>
<li>守卫<ul>
<li>在for表达式中可以添加if判断语句，这个if判断就称为守卫</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法结构</span></span><br><span class="line"><span class="keyword">for</span>(i &lt;- 表达式/数组/集合 <span class="keyword">if</span> 表达式) &#123;</span><br><span class="line">    <span class="comment">// 表达式</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span> <span class="keyword">if</span> i &gt;<span class="number">5</span>) println(i)</span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>
<ul>
<li>for推导式<ul>
<li>在for循环体中，可以使用yield表达式构建出一个集合，我们把使用yield的for表达式称之为推导式</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for推导式：for表达式中以yield开始，该for表达式会构建出一个集合</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> v = <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">5</span>) <span class="keyword">yield</span> i * <span class="number">10</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="8-2-while循环"><a href="#8-2-while循环" class="headerlink" title="8.2 while循环"></a>8.2 while循环</h4><ul>
<li>scala中while循环和Java中是一致的</li>
<li>语法结构</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(返回值为布尔类型的表达式)&#123;</span><br><span class="line">    <span class="comment">//表达式</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>演示</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">var</span> x = <span class="number">10</span></span><br><span class="line">x: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">while</span>(x &gt;<span class="number">5</span>)&#123;</span><br><span class="line">     | println(x)</span><br><span class="line">     | x -= <span class="number">1</span></span><br><span class="line">     | &#125;</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>
<h3 id="10-方法和函数"><a href="#10-方法和函数" class="headerlink" title="10. 方法和函数"></a>10. 方法和函数</h3><h4 id="10-1-方法"><a href="#10-1-方法" class="headerlink" title="10.1 方法"></a>10.1 方法</h4><ul>
<li>语法</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">methodName</span> </span>(参数名:参数类型, 参数名:参数类型) : [<span class="keyword">return</span> <span class="class"><span class="keyword">type</span>] </span>= &#123;</span><br><span class="line">    <span class="comment">// 方法体：一系列的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568110629253.png" alt="1568110629253"></p>
<ul>
<li><p>说明</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 参数列表的参数类型不能省略</span><br><span class="line">- 返回值类型可以省略，由scala编译器自动推断</span><br><span class="line">- 返回值可以不写return，默认就是&#123;&#125;块表达式的值</span><br></pre></td></tr></table></figure>
</li>
<li><p>演示</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(a:<span class="type">Int</span>,b:<span class="type">Int</span>) = a+b</span><br><span class="line">add: (a: <span class="type">Int</span>, b: <span class="type">Int</span>)<span class="type">Int</span></span><br><span class="line"></span><br><span class="line">scala&gt; add(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">res8: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">scala&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意</p>
<ul>
<li>如果定义递归方法，不能省略返回值类型</li>
<li>示例：<ul>
<li>定义递归方法（求阶乘）<ul>
<li>10 <em> 9 </em> 8 <em> 7 </em> 6 <em> … </em> 1</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="function"><span class="keyword">def</span> <span class="title">m1</span></span>(x:<span class="type">Int</span>)=&#123;</span><br><span class="line">     | <span class="keyword">if</span>(x==<span class="number">1</span>) <span class="number">1</span></span><br><span class="line">     | <span class="keyword">else</span> x * m1(x<span class="number">-1</span>)</span><br><span class="line">     | &#125;</span><br><span class="line">&lt;console&gt;:<span class="number">14</span>: error: recursive method m1 needs result <span class="class"><span class="keyword">type</span></span></span><br><span class="line"><span class="class">       <span class="title">else</span> <span class="title">x</span> <span class="title">*</span> <span class="title">m1</span>(<span class="params">x-1</span>)</span></span><br><span class="line"><span class="class">                <span class="title">^</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">scala&gt;</span> <span class="title">def</span> <span class="title">m1</span>(<span class="params">x:<span class="type">Int</span></span>)</span>:<span class="type">Int</span>=&#123;</span><br><span class="line">     | <span class="keyword">if</span>(x==<span class="number">1</span>) <span class="number">1</span></span><br><span class="line">     | <span class="keyword">else</span> x * m1(x<span class="number">-1</span>)</span><br><span class="line">     | &#125;</span><br><span class="line">m1: (x: <span class="type">Int</span>)<span class="type">Int</span></span><br><span class="line"></span><br><span class="line">scala&gt; m1(<span class="number">10</span>)</span><br><span class="line">res9: <span class="type">Int</span> = <span class="number">3628800</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>方法的参数</p>
<ul>
<li><p>1、默认参数</p>
<ul>
<li><p>在定义方法时可以给参数定义一个默认值。</p>
</li>
<li><p>示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 定义一个计算两个值相加的方法，这两个值默认为0</span></span><br><span class="line"><span class="comment">//2. 调用该方法</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(x:<span class="type">Int</span> = <span class="number">0</span>, y:<span class="type">Int</span> = <span class="number">0</span>) = x + y</span><br><span class="line">add: (x: <span class="type">Int</span>, y: <span class="type">Int</span>)<span class="type">Int</span></span><br><span class="line"></span><br><span class="line">scala&gt; add(<span class="number">10</span>)</span><br><span class="line">res14: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">scala&gt; add(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">res15: <span class="type">Int</span> = <span class="number">30</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>2、带名参数</p>
<ul>
<li><p>在调用方法时，可以指定参数的名称来进行调用。</p>
</li>
<li><p>示例</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(x:<span class="type">Int</span> = <span class="number">0</span>, y:<span class="type">Int</span> = <span class="number">0</span>) = x + y</span><br><span class="line">add: (x: <span class="type">Int</span>, y: <span class="type">Int</span>)<span class="type">Int</span></span><br><span class="line"></span><br><span class="line">scala&gt; add(x=<span class="number">1</span>)</span><br><span class="line">res16: <span class="type">Int</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>3、变长参数</p>
<ul>
<li><p>如果方法的参数是不固定的，可以定义一个方法的参数是变长参数。</p>
</li>
<li><p>语法格式：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">方法名</span></span>(参数名:参数类型*):返回值类型 = &#123;</span><br><span class="line">    方法体</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在参数类型后面加一个*号，表示参数可以是0个或者多个</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(num:<span class="type">Int</span>*) = num.sum</span><br><span class="line">add: (num: <span class="type">Int</span>*)<span class="type">Int</span></span><br><span class="line"></span><br><span class="line">scala&gt; add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">res17: <span class="type">Int</span> = <span class="number">15</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="10-2-函数"><a href="#10-2-函数" class="headerlink" title="10.2 函数"></a>10.2 函数</h4><ul>
<li>scala支持函数式编程，将来编写Spark/Flink程序中，会大量使用到函数</li>
<li>语法</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> 函数变量名 = (参数名:参数类型, 参数名:参数类型....) =&gt; 函数体</span><br></pre></td></tr></table></figure>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568111630788.png" alt="1568111630788"></p>
<ul>
<li>注意</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 函数是一个对象（变量）</span><br><span class="line">- 类似于方法，函数也有输入参数和返回值</span><br><span class="line">- 函数定义不需要使用def定义</span><br><span class="line">- 无需指定返回值类型</span><br></pre></td></tr></table></figure>
<ul>
<li>演示</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> add = (x:<span class="type">Int</span>, y:<span class="type">Int</span>) =&gt; x + y</span><br><span class="line">add: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Int</span> = &lt;function2&gt;</span><br><span class="line"></span><br><span class="line">scala&gt; add(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">res3: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//一个函数没有赋予一个变量，则称为匿名函数，</span></span><br><span class="line"><span class="comment">//后期再实际开发代码的时候，基本上都是使用匿名函数</span></span><br><span class="line">(x:<span class="type">Int</span>,y:<span class="type">Int</span>)=&gt;x+y</span><br></pre></td></tr></table></figure>
<h4 id="10-3-方法和函数的区别"><a href="#10-3-方法和函数的区别" class="headerlink" title="10.3 方法和函数的区别"></a>10.3 方法和函数的区别</h4><ul>
<li>方法是隶属于类或者对象的，在运行时，它是加载到JVM的方法区中</li>
<li>可以将函数对象赋值给一个变量，在运行时，它是加载到JVM的堆内存中</li>
<li>==函数是一个对象，继承自FunctionN==，函数对象有apply，curried，toString，tupled这些方法，而方法则没有</li>
</ul>
<h4 id="10-4-方法转换为函数"><a href="#10-4-方法转换为函数" class="headerlink" title="10.4 方法转换为函数"></a>10.4 方法转换为函数</h4><ul>
<li><p>有时候需要将方法转换为函数，作为变量传递，就需要将方法转换为函数</p>
</li>
<li><p>使用<code>_</code>即可将方法转换为函数</p>
</li>
<li><p>示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(x:<span class="type">Int</span>,y:<span class="type">Int</span>)=x+y</span><br><span class="line">add: (x: <span class="type">Int</span>, y: <span class="type">Int</span>)<span class="type">Int</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> a = add _</span><br><span class="line">a: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Int</span> = &lt;function2&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="11-数组"><a href="#11-数组" class="headerlink" title="11. 数组"></a>11. 数组</h3><ul>
<li>scala中数组的概念是和Java类似，可以用数组来存放一组数据</li>
<li>scala中，有两种数组，一种是<strong>定长数组</strong>，另一种是<strong>变长数组</strong></li>
</ul>
<h4 id="11-1-定长数组"><a href="#11-1-定长数组" class="headerlink" title="11.1 定长数组"></a>11.1 定长数组</h4><ul>
<li><p>定长数组指的是数组的<strong>长度</strong>是<strong>不允许改变</strong>的</p>
</li>
<li><p>数组的<strong>元素</strong>是<strong>可以改变</strong>的</p>
</li>
<li><p>语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过指定长度定义数组</span></span><br><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = <span class="keyword">new</span> <span class="type">Array</span>[元素类型](数组长度)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用元素直接初始化数组</span></span><br><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = <span class="type">Array</span>(元素<span class="number">1</span>, 元素<span class="number">2</span>, 元素<span class="number">3.</span>..)</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在scala中，数组的泛型使用[]来指定</span><br><span class="line">使用()来获取元素</span><br></pre></td></tr></table></figure>
</li>
<li><p>演示</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> a=<span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">10</span>)</span><br><span class="line">a: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; a(<span class="number">0</span>)</span><br><span class="line">res19: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">scala&gt; a(<span class="number">0</span>)=<span class="number">10</span></span><br><span class="line"></span><br><span class="line">scala&gt; a</span><br><span class="line">res21: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> b =<span class="type">Array</span>(<span class="string">"hadoop"</span>,<span class="string">"spark"</span>,<span class="string">"hive"</span>)</span><br><span class="line">b: <span class="type">Array</span>[<span class="type">String</span>] = <span class="type">Array</span>(hadoop, spark, hive)</span><br><span class="line"></span><br><span class="line">scala&gt; b(<span class="number">0</span>)</span><br><span class="line">res24: <span class="type">String</span> = hadoop</span><br><span class="line"></span><br><span class="line">scala&gt; b.length</span><br><span class="line">res25: <span class="type">Int</span> = <span class="number">3</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="11-2-变长数组"><a href="#11-2-变长数组" class="headerlink" title="11.2 变长数组"></a>11.2 变长数组</h4><ul>
<li><p>变长数组指的是数组的长度是可变的，可以往数组中添加、删除元素</p>
</li>
<li><p>创建变长数组，需要提前导入ArrayBuffer类</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>语法</p>
<ul>
<li>创建空的ArrayBuffer变长数组</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> a = <span class="type">ArrayBuffer</span>[元素类型]()</span><br></pre></td></tr></table></figure>
<ul>
<li>创建带有初始元素的ArrayBuffer</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> a = <span class="type">ArrayBuffer</span>(元素<span class="number">1</span>，元素<span class="number">2</span>，元素<span class="number">3.</span>...)</span><br></pre></td></tr></table></figure>
</li>
<li><p>演示</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入ArrayBuffer类型</span></span><br><span class="line">scala&gt; <span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个长度为0的整型变长数组</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> a=<span class="type">ArrayBuffer</span>[<span class="type">Int</span>]()</span><br><span class="line">a: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个有初始元素的变长数组</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> b = <span class="type">ArrayBuffer</span>(<span class="string">"hadoop"</span>, <span class="string">"storm"</span>, <span class="string">"spark"</span>)</span><br><span class="line">b: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">String</span>] = <span class="type">ArrayBuffer</span>(hadoop, storm, spark)</span><br></pre></td></tr></table></figure>
</li>
<li><p>变长数组的增删改操作</p>
<ul>
<li>使用<code>+=</code>添加元素</li>
<li>使用<code>-=</code>删除元素</li>
<li>使用<code>++=</code>追加一个数组到变长数组</li>
</ul>
</li>
<li><p>示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义变长数组</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> a = <span class="type">ArrayBuffer</span>(<span class="string">"hadoop"</span>, <span class="string">"spark"</span>, <span class="string">"flink"</span>)</span><br><span class="line">a: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">String</span>] = <span class="type">ArrayBuffer</span>(hadoop, spark, flink)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 追加一个元素</span></span><br><span class="line">scala&gt; a += <span class="string">"flume"</span></span><br><span class="line">res10: a.<span class="keyword">type</span> = <span class="type">ArrayBuffer</span>(hadoop, spark, flink, flume)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除一个元素</span></span><br><span class="line">scala&gt; a -= <span class="string">"hadoop"</span></span><br><span class="line">res11: a.<span class="keyword">type</span> = <span class="type">ArrayBuffer</span>(spark, flink, flume)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 追加一个数组</span></span><br><span class="line">scala&gt; a ++= <span class="type">Array</span>(<span class="string">"hive"</span>, <span class="string">"sqoop"</span>)</span><br><span class="line">res12: a.<span class="keyword">type</span> = <span class="type">ArrayBuffer</span>(spark, flink, flume, hive, sqoop)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="11-3-遍历数组"><a href="#11-3-遍历数组" class="headerlink" title="11.3 遍历数组"></a>11.3 遍历数组</h4><ul>
<li><p>可以使用以下两种方式来遍历数组：</p>
<ul>
<li>使用==for表达式== 直接遍历数组中的元素</li>
<li>使用 ==索引== 遍历数组中的元素</li>
</ul>
</li>
<li><p>示例</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- a)println(i)</span><br><span class="line">hadoop</span><br><span class="line">hive</span><br><span class="line">flume</span><br><span class="line">spark</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- <span class="number">0</span> to a.length <span class="number">-1</span> )println(a(i))</span><br><span class="line">hadoop</span><br><span class="line">hive</span><br><span class="line">flume</span><br><span class="line">spark</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- <span class="number">0</span> until a.length) println(a(i))</span><br><span class="line">hadoop</span><br><span class="line">hive</span><br><span class="line">flume</span><br><span class="line">spark</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//0 until n ——生成一系列的数字，包含0，不包含n</span></span><br><span class="line"><span class="comment">//0 to n    ——包含0，也包含n</span></span><br></pre></td></tr></table></figure>
<h4 id="11-4-数组常用操作"><a href="#11-4-数组常用操作" class="headerlink" title="11.4 数组常用操作"></a>11.4 数组常用操作</h4><ul>
<li>scala中的数组封装了丰富的计算操作，将来在对数据处理的时候，不需要我们自己再重新实现。<ul>
<li>求和——sum方法</li>
<li>求最大值——max方法 </li>
<li>求最小值——min方法 </li>
<li>排序——sorted方法</li>
</ul>
</li>
<li>示例</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> array=<span class="type">Array</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">array: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line">scala&gt; array.sum</span><br><span class="line">res10: <span class="type">Int</span> = <span class="number">15</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//求最大值</span></span><br><span class="line">scala&gt; array.max</span><br><span class="line">res11: <span class="type">Int</span> = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//求最小值</span></span><br><span class="line">scala&gt; array.min</span><br><span class="line">res12: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//升序</span></span><br><span class="line">scala&gt; array.sorted</span><br><span class="line">res13: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//降序    reverse 反转</span></span><br><span class="line">scala&gt; array.sorted.reverse</span><br><span class="line">res14: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="12-元组"><a href="#12-元组" class="headerlink" title="12. 元组"></a>12. 元组</h3><ul>
<li>元组可以用来包含一组不同类型的值。例如：姓名，年龄，性别，出生年月。元组的元素是不可变 的。</li>
</ul>
<h4 id="12-1-定义元组"><a href="#12-1-定义元组" class="headerlink" title="12.1 定义元组"></a>12.1 定义元组</h4><ul>
<li><p>语法</p>
<ul>
<li><p>使用括号来定义元组</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 元组变量名称 = (元素<span class="number">1</span>, 元素<span class="number">2</span>, 元素<span class="number">3.</span>...)</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用箭头来定义元素（元组只有两个元素）</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 元组 = 元素<span class="number">1</span>-&gt;元素<span class="number">2</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="12-2-示例"><a href="#12-2-示例" class="headerlink" title="12.2 示例"></a>12.2 示例</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以直接使用括号来定义一个元组 </span></span><br><span class="line">scala&gt; <span class="keyword">val</span> a = (<span class="number">1</span>, <span class="string">"张三"</span>, <span class="number">20</span>, <span class="string">"北京市"</span>) </span><br><span class="line">a: (<span class="type">Int</span>, <span class="type">String</span>, <span class="type">Int</span>, <span class="type">String</span>) = (<span class="number">1</span>,张三,<span class="number">20</span>,北京市)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用箭头来定义元素</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> b = <span class="number">1</span>-&gt;<span class="number">2</span> </span><br><span class="line">b: (<span class="type">Int</span>, <span class="type">Int</span>) = (<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h4 id="12-3-访问元组"><a href="#12-3-访问元组" class="headerlink" title="12.3 访问元组"></a>12.3 访问元组</h4><ul>
<li><p>使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_1、_2、_3....</span><br></pre></td></tr></table></figure>
<p>来访问元组中的元素，_1表示访问第一个元素，依次类推</p>
</li>
<li><p>示例</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> a = (<span class="number">1</span>, <span class="string">"张三"</span>, <span class="number">20</span>, <span class="string">"北京市"</span>)</span><br><span class="line">a: (<span class="type">Int</span>, <span class="type">String</span>, <span class="type">Int</span>, <span class="type">String</span>) = (<span class="number">1</span>,张三,<span class="number">20</span>,北京市)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取元组中的第一个元素</span></span><br><span class="line">scala&gt; a._1</span><br><span class="line">res18: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取元组中的第二个元素</span></span><br><span class="line">scala&gt; a._2</span><br><span class="line">res19: <span class="type">String</span> = 张三</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取元组中的第三个元素</span></span><br><span class="line">scala&gt; a._3</span><br><span class="line">res20: <span class="type">Int</span> = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取元组中的第四个元素</span></span><br><span class="line">scala&gt; a._4</span><br><span class="line">res21: <span class="type">String</span> = 北京市</span><br><span class="line"></span><br><span class="line"><span class="comment">//不能修改元组中的值</span></span><br><span class="line">scala&gt; a._4=<span class="string">"上海"</span></span><br><span class="line">&lt;console&gt;:<span class="number">12</span>: error: reassignment to <span class="keyword">val</span></span><br><span class="line">       a._4=<span class="string">"上海"</span></span><br><span class="line">           ^</span><br></pre></td></tr></table></figure>
<h3 id="13-映射Map"><a href="#13-映射Map" class="headerlink" title="13. 映射Map"></a>13. 映射Map</h3><ul>
<li>Map可以称之为映射。它是由键值对组成的集合。scala当中的Map集合与java当中的Map类似，也是key，value对形式的。</li>
<li>在scala中，Map也分为不可变Map和可变 Map。</li>
</ul>
<h4 id="13-1-不可变Map"><a href="#13-1-不可变Map" class="headerlink" title="13.1 不可变Map"></a>13.1 不可变Map</h4><ul>
<li>定义语法</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> map = <span class="type">Map</span>(键-&gt;值, 键-&gt;值, 键-&gt;值...)    <span class="comment">// 推荐，可读性更好 </span></span><br><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> map = <span class="type">Map</span>((键, 值), (键, 值), (键, 值), (键, 值)...)</span><br></pre></td></tr></table></figure>
<ul>
<li>演示</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> map1 = <span class="type">Map</span>(<span class="string">"zhangsan"</span>-&gt;<span class="number">30</span>, <span class="string">"lisi"</span>-&gt;<span class="number">40</span>) </span><br><span class="line">map: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(zhangsan -&gt; <span class="number">30</span>, lisi -&gt; <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> map2 = <span class="type">Map</span>((<span class="string">"zhangsan"</span>, <span class="number">30</span>), (<span class="string">"lisi"</span>, <span class="number">30</span>)) </span><br><span class="line">map: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(zhangsan -&gt; <span class="number">30</span>, lisi -&gt; <span class="number">30</span>)</span><br><span class="line"><span class="comment">// 根据key获取value </span></span><br><span class="line">scala&gt; map1(<span class="string">"zhangsan"</span>) </span><br><span class="line">res10: <span class="type">Int</span> = <span class="number">30</span></span><br></pre></td></tr></table></figure>
<h4 id="13-2-可变Map"><a href="#13-2-可变Map" class="headerlink" title="13.2 可变Map"></a>13.2 可变Map</h4><ul>
<li><p>可变Map需要手动导入==import scala.collection.mutable.Map==, 定义语法与不可变Map一致。</p>
</li>
<li><p>演示</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导包</span></span><br><span class="line">scala&gt; <span class="keyword">import</span> scala.collection.mutable.<span class="type">Map</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">Map</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义可变的map</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> map3 = <span class="type">Map</span>(<span class="string">"zhangsan"</span>-&gt;<span class="number">30</span>, <span class="string">"lisi"</span>-&gt;<span class="number">40</span>)</span><br><span class="line">map3: scala.collection.mutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(lisi -&gt; <span class="number">40</span>, zhangsan -&gt; <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取zhangsan这个key对应的value</span></span><br><span class="line">scala&gt; map3(<span class="string">"zhangsan"</span>)</span><br><span class="line">res26: <span class="type">Int</span> = <span class="number">30</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//给zhangsan这个key重新赋值value</span></span><br><span class="line">scala&gt; map3(<span class="string">"zhangsan"</span>)=<span class="number">50</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//显示map3</span></span><br><span class="line">scala&gt; map3</span><br><span class="line">res28: scala.collection.mutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(lisi -&gt; <span class="number">40</span>, zhangsan -&gt; <span class="number">50</span>)</span><br></pre></td></tr></table></figure>
<h4 id="13-3-Map基本操作"><a href="#13-3-Map基本操作" class="headerlink" title="13.3 Map基本操作"></a>13.3 Map基本操作</h4><ul>
<li>创建一个可变的map</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导包</span></span><br><span class="line">scala&gt; <span class="keyword">import</span> scala.collection.mutable.<span class="type">Map</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">Map</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> map = <span class="type">Map</span>(<span class="string">"zhangsan"</span>-&gt;<span class="number">30</span>, <span class="string">"lisi"</span>-&gt;<span class="number">40</span>) </span><br><span class="line">map: scala.collection.mutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(lisi -&gt; <span class="number">40</span>, zhangsan -&gt; <span class="number">30</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>按照key获取value</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取zhagnsan的年龄 </span></span><br><span class="line">scala&gt; map(<span class="string">"zhangsan"</span>)</span><br><span class="line">res10: <span class="type">Int</span> = <span class="number">30</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取wangwu的年龄，如果wangwu不存在，则返回-1 比较友好，避免遇到不存在的key而报错</span></span><br><span class="line">scala&gt; map.getOrElse(<span class="string">"wangwu"</span>, <span class="number">-1</span>) </span><br><span class="line">res11: <span class="type">Int</span> = <span class="number">-1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>修改key对应的value</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; map(<span class="string">"lisi"</span>)=<span class="number">50</span></span><br></pre></td></tr></table></figure>
<ul>
<li>添加key-value键值对</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; map+=(<span class="string">"wangwu"</span> -&gt;<span class="number">35</span>)</span><br><span class="line">res12: map.<span class="keyword">type</span> = <span class="type">Map</span>(lisi -&gt; <span class="number">50</span>, zhangsan -&gt; <span class="number">30</span>, wangwu -&gt; <span class="number">35</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>删除key-value键值对</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; map -=<span class="string">"wangwu"</span></span><br><span class="line">res13: map.<span class="keyword">type</span> = <span class="type">Map</span>(lisi -&gt; <span class="number">50</span>, zhangsan -&gt; <span class="number">30</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>获取所有的key和所有的value</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取所有的key</span></span><br><span class="line">scala&gt; map.keys</span><br><span class="line">res36: <span class="type">Iterable</span>[<span class="type">String</span>] = <span class="type">Set</span>(lisi, zhangsan)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取所有的key</span></span><br><span class="line">scala&gt; map.keySet</span><br><span class="line">res37: scala.collection.<span class="type">Set</span>[<span class="type">String</span>] = <span class="type">Set</span>(lisi, zhangsan)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取所有的value</span></span><br><span class="line">scala&gt; map.values</span><br><span class="line">res38: <span class="type">Iterable</span>[<span class="type">Int</span>] = <span class="type">HashMap</span>(<span class="number">50</span>, <span class="number">30</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>遍历map</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一种遍历</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>(k &lt;- map.keys) println(k+<span class="string">" -&gt; "</span> +map(k))</span><br><span class="line">lisi -&gt; <span class="number">50</span></span><br><span class="line">zhangsan -&gt; <span class="number">30</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种遍历</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>((k,v) &lt;- map) println(k+<span class="string">" -&gt; "</span>+v)</span><br><span class="line">lisi -&gt; <span class="number">50</span></span><br><span class="line">zhangsan -&gt; <span class="number">30</span></span><br></pre></td></tr></table></figure>
<h3 id="14-Set集合"><a href="#14-Set集合" class="headerlink" title="14. Set集合"></a>14. Set集合</h3><ul>
<li>Set是代表没有重复元素的集合。</li>
<li>Set具备以下性质：<ul>
<li>1、元素不重复 </li>
<li>2、不保证插入顺序</li>
</ul>
</li>
<li>scala中的set集合也分为两种，一种是不可变集合，另一种是可变集合。</li>
</ul>
<h4 id="14-1-不可变Set集合"><a href="#14-1-不可变Set集合" class="headerlink" title="14.1 不可变Set集合"></a>14.1 不可变Set集合</h4><ul>
<li>语法</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个空的不可变集</span></span><br><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = <span class="type">Set</span>[类型]()</span><br><span class="line"></span><br><span class="line"><span class="comment">//给定元素来创建一个不可变集</span></span><br><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = <span class="type">Set</span>[类型](元素<span class="number">1</span>, 元素<span class="number">2</span>, 元素<span class="number">3.</span>..)</span><br></pre></td></tr></table></figure>
<ul>
<li>演示</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建set集合 </span></span><br><span class="line">scala&gt; <span class="keyword">val</span> a = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>) </span><br><span class="line">a: scala.collection.immutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取集合的大小 </span></span><br><span class="line">scala&gt; a.size </span><br><span class="line">res0: <span class="type">Int</span> = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历集合</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- a) println(i)</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加元素生成新的集合</span></span><br><span class="line">scala&gt; a + <span class="number">6</span></span><br><span class="line">res1: scala.collection.immutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">5</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除一个元素 </span></span><br><span class="line">scala&gt; a - <span class="number">1</span> </span><br><span class="line">res2: scala.collection.immutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除set集合中存在的元素 </span></span><br><span class="line">scala&gt; a -- <span class="type">Set</span>(<span class="number">2</span>,<span class="number">3</span>) </span><br><span class="line">res3: scala.collection.immutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 拼接两个集合 </span></span><br><span class="line">scala&gt; a ++ <span class="type">Set</span>(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>) </span><br><span class="line">res4: scala.collection.immutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">5</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//求2个Set集合的交集</span></span><br><span class="line">scala&gt; a &amp; <span class="type">Set</span>(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">res5: scala.collection.immutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//注意：这里对不可变的set集合进行添加删除等操作，对于该集合来说是没有发生任何变化，这里是生成了新的集合，新的集合相比于原来的集合来说发生了变化。</span></span><br></pre></td></tr></table></figure>
<h4 id="14-2-可变Set集合"><a href="#14-2-可变Set集合" class="headerlink" title="14.2 可变Set集合"></a>14.2 可变Set集合</h4><ul>
<li>要使用可变集，必须要手动导入： ==import scala.collection.mutable.Set==</li>
<li>演示</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导包</span></span><br><span class="line">scala&gt; <span class="keyword">import</span> scala.collection.mutable.<span class="type">Set</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">Set</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义可变的set集合</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> set=<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">set: scala.collection.mutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加单个元素</span></span><br><span class="line">scala&gt; set +=<span class="number">6</span></span><br><span class="line">res10: set.<span class="keyword">type</span> = <span class="type">Set</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加多个元素</span></span><br><span class="line">scala&gt; set +=(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line">res11: set.<span class="keyword">type</span> = <span class="type">Set</span>(<span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加一个set集合中的元素</span></span><br><span class="line">scala&gt; set ++=<span class="type">Set</span>(<span class="number">10</span>,<span class="number">11</span>)</span><br><span class="line">res12: set.<span class="keyword">type</span> = <span class="type">Set</span>(<span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">11</span>, <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除一个元素</span></span><br><span class="line">scala&gt; set -=<span class="number">11</span></span><br><span class="line">res13: set.<span class="keyword">type</span> = <span class="type">Set</span>(<span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除多个元素</span></span><br><span class="line">scala&gt; set -=(<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line">res15: set.<span class="keyword">type</span> = <span class="type">Set</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除一个set子集</span></span><br><span class="line">scala&gt; set --=<span class="type">Set</span>(<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">res19: set.<span class="keyword">type</span> = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; set.remove(<span class="number">1</span>)</span><br><span class="line">res17: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">scala&gt; set</span><br><span class="line">res18: scala.collection.mutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<h3 id="15-列表-List"><a href="#15-列表-List" class="headerlink" title="15. 列表 List"></a>15. 列表 List</h3><ul>
<li>List是scala中最重要的、也是最常用的数据结构。</li>
<li><p>List具备以下性质：</p>
<ul>
<li>1、可以保存重复的值 </li>
<li>2、有先后顺序</li>
</ul>
</li>
<li><p>在scala中，也有两种列表，一种是不可变列表、另一种是可变列表</p>
</li>
</ul>
<h4 id="15-1-不可变列表"><a href="#15-1-不可变列表" class="headerlink" title="15.1 不可变列表"></a>15.1 不可变列表</h4><ul>
<li>不可变列表就是列表的元素、长度都是不可变的</li>
<li>语法<ul>
<li>使用 List(元素1, 元素2, 元素3, …) 来创建一个不可变列表，语法格式</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = <span class="type">List</span>(元素<span class="number">1</span>, 元素<span class="number">2</span>, 元素<span class="number">3.</span>..)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用 Nil 创建一个不可变的空列表</span></span><br><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = <span class="type">Nil</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用 :: 方法创建一个不可变列表</span></span><br><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = 元素<span class="number">1</span> :: 元素<span class="number">2</span> :: <span class="type">Nil</span></span><br></pre></td></tr></table></figure>
<ul>
<li>演示</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个不可变列表，存放以下几个元素（1,2,3,4）</span></span><br><span class="line">scala&gt; <span class="keyword">val</span>  list1=<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">list1: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用Nil创建一个不可变的空列表</span></span><br><span class="line">scala&gt; <span class="keyword">val</span>  list2=<span class="type">Nil</span></span><br><span class="line">list2: scala.collection.immutable.<span class="type">Nil</span>.<span class="keyword">type</span> = <span class="type">List</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用 :: 方法创建列表，包含1、2、3三个元素</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> list3=<span class="number">1</span>::<span class="number">2</span>::<span class="number">3</span>::<span class="type">Nil</span></span><br><span class="line">list3: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h4 id="15-2-可变列表"><a href="#15-2-可变列表" class="headerlink" title="15.2 可变列表"></a>15.2 可变列表</h4><ul>
<li><p>可变列表就是列表的元素、长度都是可变的。</p>
</li>
<li><p>要使用可变列表，先要导入 ==import scala.collection.mutable.ListBuffer==</p>
</li>
<li><p>语法</p>
<ul>
<li>使用ListBuffer<a href="">元素类型</a> 创建空的可变列表，语法结构</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = <span class="type">ListBuffer</span>[<span class="type">Int</span>]()</span><br></pre></td></tr></table></figure>
<ul>
<li>使用ListBuffer(元素1, 元素2, 元素3…)创建可变列表，语法结构</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span>/<span class="keyword">var</span> 变量名 = <span class="type">ListBuffer</span>(元素<span class="number">1</span>，元素<span class="number">2</span>，元素<span class="number">3.</span>..)</span><br></pre></td></tr></table></figure>
</li>
<li><p>演示</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导包</span></span><br><span class="line">scala&gt; <span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个空的可变列表</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> a=<span class="type">ListBuffer</span>[<span class="type">Int</span>]()</span><br><span class="line">a: scala.collection.mutable.<span class="type">ListBuffer</span>[<span class="type">Int</span>] = <span class="type">ListBuffer</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个有初始元素的可变列表</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> b=<span class="type">ListBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">b: scala.collection.mutable.<span class="type">ListBuffer</span>[<span class="type">Int</span>] = <span class="type">ListBuffer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="15-3-列表操作"><a href="#15-3-列表操作" class="headerlink" title="15.3 列表操作"></a>15.3 列表操作</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导包</span></span><br><span class="line">scala&gt; <span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个可变的列表</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> list=<span class="type">ListBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">list: scala.collection.mutable.<span class="type">ListBuffer</span>[<span class="type">Int</span>] = <span class="type">ListBuffer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取第一个元素</span></span><br><span class="line">scala&gt; list(<span class="number">0</span>)</span><br><span class="line">res4: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">//获取第一个元素</span></span><br><span class="line">scala&gt; list.head</span><br><span class="line">res5: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取除了第一个元素外其他元素组成的列表</span></span><br><span class="line">scala&gt; list.tail</span><br><span class="line">res6: scala.collection.mutable.<span class="type">ListBuffer</span>[<span class="type">Int</span>] = <span class="type">ListBuffer</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加单个元素</span></span><br><span class="line">scala&gt; list +=<span class="number">5</span></span><br><span class="line">res7: list.<span class="keyword">type</span> = <span class="type">ListBuffer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加一个不可变的列表</span></span><br><span class="line">scala&gt; list ++=<span class="type">List</span>(<span class="number">6</span>,<span class="number">7</span>)</span><br><span class="line">res8: list.<span class="keyword">type</span> = <span class="type">ListBuffer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加一个可变的列表</span></span><br><span class="line">scala&gt; list ++=<span class="type">ListBuffer</span>(<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line">res9: list.<span class="keyword">type</span> = <span class="type">ListBuffer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除单个元素</span></span><br><span class="line">scala&gt; list -=<span class="number">9</span></span><br><span class="line">res10: list.<span class="keyword">type</span> = <span class="type">ListBuffer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除一个不可变的列表存在的元素</span></span><br><span class="line">scala&gt; list --=<span class="type">List</span>(<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">res11: list.<span class="keyword">type</span> = <span class="type">ListBuffer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除一个可变的列表存在的元素</span></span><br><span class="line">scala&gt; list --=<span class="type">ListBuffer</span>(<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">res12: list.<span class="keyword">type</span> = <span class="type">ListBuffer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//可变的列表转为不可变列表</span></span><br><span class="line">scala&gt; list.toList</span><br><span class="line">res13: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//可变的列表转为不可变数组</span></span><br><span class="line">scala&gt; list.toArray</span><br><span class="line">res14: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<h3 id="16-函数式编程"><a href="#16-函数式编程" class="headerlink" title="16. 函数式编程"></a>16. 函数式编程</h3><ul>
<li>我们将来使用Spark/Flink的大量业务代码都会使用到函数式编程。</li>
<li>下面的这些操作是学习的重点，先来感受下如何进行函数式编程以及它的强大</li>
</ul>
<h4 id="16-1-遍历-foreach"><a href="#16-1-遍历-foreach" class="headerlink" title="16.1 遍历 - foreach"></a>16.1 遍历 - foreach</h4><ul>
<li><p>方法描述</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foreach(f: (<span class="type">A</span>) ⇒ <span class="type">Unit</span>): <span class="type">Unit</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>方法说明</p>
<p>| foreach | API           | 说明                                                         |<br>| ——- | ————- | ———————————————————— |<br>| 参数    | f: (A) ⇒ Unit | 接收一个函数对象<br>函数的输入参数为集合的元素<br>返回值为空 |<br>| 返回值  | Unit          | 空                                                           |</p>
</li>
<li><p>方法实操</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> list=<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个匿名函数传入到foreach方法中</span></span><br><span class="line">scala&gt; list.foreach((x:<span class="type">Int</span>)=&gt;println(x))</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//匿名函数的输入参数类型可以省略，由编译器自动推断</span></span><br><span class="line">scala&gt; list.foreach(x=&gt;println(x))</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//当函数参数，只在函数体中出现一次，而且函数体没有嵌套调用时，可以使用下划线来简化函数定 义</span></span><br><span class="line">scala&gt; list.foreach(println(_))</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//最简写，直接给定println</span></span><br><span class="line">scala&gt; list.foreach(println)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//很神奇的语法，别害怕，盘它就可以了，后期通过scala语言开发spark、Flink程序非常简洁方便</span></span><br></pre></td></tr></table></figure>
<h4 id="16-2-映射-map"><a href="#16-2-映射-map" class="headerlink" title="16.2 映射 - map"></a>16.2 映射 - map</h4><ul>
<li><p>集合的映射操作是将来在编写Spark/Flink用得最多的操作，是我们必须要掌握的掌握。</p>
</li>
<li><p>方法描述</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map</span></span>[<span class="type">B</span>](f: (<span class="type">A</span>) ⇒ <span class="type">B</span>): <span class="type">TraversableOnce</span>[<span class="type">B</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>方法说明</li>
</ul>
<table>
<thead>
<tr>
<th>map方法</th>
<th>API</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>泛型</td>
<td>[B]</td>
<td>指定map方法最终返回的集合泛型</td>
</tr>
<tr>
<td>参数</td>
<td>f: (A) ⇒ B</td>
<td>传入一个函数对象<br>该函数接收一个类型A（要转换的列表元素）<br>返回值为类型B</td>
</tr>
<tr>
<td>返回值</td>
<td>TraversableOnce[B]</td>
<td>B类型的集合</td>
</tr>
</tbody>
</table>
<ul>
<li>方法实操</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个list集合，实现把内部每一个元素做乘以10，生成一个新的list集合</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> list=<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个匿名函数</span></span><br><span class="line">scala&gt; list.map((x:<span class="type">Int</span>)=&gt;x*<span class="number">10</span>)</span><br><span class="line">res21: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//省略匿名函数参数类型</span></span><br><span class="line">scala&gt; list.map(x=&gt;x*<span class="number">10</span>)</span><br><span class="line">res22: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//最简写   用下划线</span></span><br><span class="line">scala&gt; list.map(_*<span class="number">10</span>)</span><br><span class="line">res23: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>)</span><br></pre></td></tr></table></figure>
<h4 id="16-3-扁平化映射-flatmap"><a href="#16-3-扁平化映射-flatmap" class="headerlink" title="16.3 扁平化映射 - flatmap"></a>16.3 扁平化映射 - flatmap</h4><ul>
<li>映射扁平化也是将来用得非常多的操作，也是必须要掌握的。</li>
<li>方法描述</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatMap</span></span>[<span class="type">B</span>](f: (<span class="type">A</span>) ⇒ <span class="type">GenTraversableOnce</span>[<span class="type">B</span>]): <span class="type">TraversableOnce</span>[<span class="type">B</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>方法说明</li>
</ul>
<table>
<thead>
<tr>
<th>flatmap方法</th>
<th>API</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>泛型</td>
<td>[B]</td>
<td>最终要转换的集合元素类型</td>
</tr>
<tr>
<td>参数</td>
<td>f: (A) ⇒ GenTraversableOnce[B]</td>
<td>传入一个函数对象<br>函数的参数是集合的元素<br>函数的返回值是一个集合</td>
</tr>
<tr>
<td>返回值</td>
<td>TraversableOnce[B]</td>
<td>B类型的集合</td>
</tr>
</tbody>
</table>
<ul>
<li>方法实操</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个List集合,每一个元素中就是一行数据，有很多个单词</span></span><br><span class="line">scala&gt;  <span class="keyword">val</span> list = <span class="type">List</span>(<span class="string">"hadoop hive spark flink"</span>, <span class="string">"hbase spark"</span>)</span><br><span class="line">list: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(hadoop hive spark flink, hbase spark)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用flatMap进行偏平化处理，获取得到所有的单词</span></span><br><span class="line">scala&gt; list.flatMap(x =&gt; x.split(<span class="string">" "</span>))</span><br><span class="line">res24: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(hadoop, hive, spark, flink, hbase, spark)</span><br><span class="line"></span><br><span class="line"><span class="comment">//简写</span></span><br><span class="line">scala&gt; list.flatMap(_.split(<span class="string">" "</span>))</span><br><span class="line">res25: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(hadoop, hive, spark, flink, hbase, spark)</span><br><span class="line"></span><br><span class="line"><span class="comment">// flatMap该方法其本质是先进行了map 然后又调用了flatten</span></span><br><span class="line">scala&gt; list.map(_.split(<span class="string">" "</span>)).flatten</span><br><span class="line">res26: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(hadoop, hive, spark, flink, hbase, spark)</span><br></pre></td></tr></table></figure>
<h4 id="16-4-过滤-filter"><a href="#16-4-过滤-filter" class="headerlink" title="16.4 过滤 - filter"></a>16.4 过滤 - filter</h4><ul>
<li>过滤符合一定条件的元素</li>
</ul>
<ul>
<li>方法描述</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">filter</span></span>(p: (<span class="type">A</span>) ⇒ <span class="type">Boolean</span>): <span class="type">TraversableOnce</span>[<span class="type">A</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>方法说明</li>
</ul>
<table>
<thead>
<tr>
<th>filter方法</th>
<th>API</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>参数</td>
<td>p: (A) ⇒ Boolean</td>
<td>传入一个函数对象<br>接收一个集合类型的参数<br>返回布尔类型，满足条件返回true, 不满足返回false</td>
</tr>
<tr>
<td>返回值</td>
<td>TraversableOnce[A]</td>
<td>列表</td>
</tr>
</tbody>
</table>
<ul>
<li>方法实操</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个list集合</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> list=<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line">list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//过滤出集合中大于5的元素</span></span><br><span class="line">scala&gt; list.filter(x =&gt; x &gt;<span class="number">5</span>)</span><br><span class="line">res27: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//把集合中大于5的元素取出来乘以10生成一个新的list集合</span></span><br><span class="line">scala&gt; list.filter(_ &gt; <span class="number">5</span>).map(_ * <span class="number">10</span>)</span><br><span class="line">res29: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">90</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//通过这个案例，应该是可以感受到scala比java的强大了...</span></span><br></pre></td></tr></table></figure>
<h4 id="16-5-排序-sort"><a href="#16-5-排序-sort" class="headerlink" title="16.5 排序 - sort"></a>16.5 排序 - sort</h4><ul>
<li>在scala集合中，可以使用以下几种方式来进行排序<ul>
<li>sorted默认排序 </li>
<li>sortBy指定字段排序 </li>
<li>sortWith自定义排序</li>
</ul>
</li>
<li>==sorted默认排序== </li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个List集合</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> list=<span class="type">List</span>(<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//默认就是升序</span></span><br><span class="line">scala&gt; list.sorted</span><br><span class="line">res30: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>==sortBy指定字段排序==</p>
<ul>
<li>根据传入的函数转换后，再进行排序</li>
<li>方法描述</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortBy</span></span>[<span class="type">B</span>](f: (<span class="type">A</span>) ⇒ <span class="type">B</span>): <span class="type">List</span>[<span class="type">A</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>方法说明</li>
</ul>
<p>| sortBy方法 | API        | 说明                                                         |<br>| ———- | ———- | ———————————————————— |<br>| 泛型       | [B]        | 按照什么类型来进行排序                                       |<br>| 参数       | f: (A) ⇒ B | 传入函数对象<br>接收一个集合类型的元素参数<br>返回B类型的元素进行排序 |<br>| 返回值     | List[A]    | 返回排序后的列表                                             |</p>
<ul>
<li>方法实操</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个List集合</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> list=<span class="type">List</span>(<span class="string">"1 hadoop"</span>,<span class="string">"2 spark"</span>,<span class="string">"3 flink"</span>)</span><br><span class="line">list: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="number">1</span> hadoop, <span class="number">2</span> spark, <span class="number">3</span> flink)</span><br><span class="line"></span><br><span class="line"><span class="comment">//按照单词的首字母进行排序</span></span><br><span class="line">scala&gt; list.sortBy(x=&gt;x.split(<span class="string">" "</span>)(<span class="number">1</span>))</span><br><span class="line">res33: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="number">3</span> flink, <span class="number">1</span> hadoop, <span class="number">2</span> spark)</span><br></pre></td></tr></table></figure>
</li>
<li><p>==sortWith自定义排序==</p>
<ul>
<li>自定义排序，根据一个函数来进行自定义排序</li>
<li>方法描述</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortWith</span></span>(lt: (<span class="type">A</span>, <span class="type">A</span>) ⇒ <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">A</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>方法说明</li>
</ul>
<p>| sortWith方法 | API                  | 说明                                                         |<br>| ———— | ——————– | ———————————————————— |<br>| 参数         | lt: (A, A) ⇒ Boolean | 传入一个比较大小的函数对象<br>接收两个集合类型的元素参数<br>返回两个元素大小，小于返回true，大于返回false |<br>| 返回值       | List[A]              | 返回排序后的列表                                             |</p>
<ul>
<li>方法实操</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">a: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//降序</span></span><br><span class="line">scala&gt; list.sortWith((x,y)=&gt;x&gt;y)</span><br><span class="line">res35: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//升序</span></span><br><span class="line">scala&gt; list.sortWith((x,y)=&gt;x&lt;y)</span><br><span class="line">res36: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="16-6-分组-groupBy"><a href="#16-6-分组-groupBy" class="headerlink" title="16.6 分组 - groupBy"></a>16.6 分组 - groupBy</h4><ul>
<li>我们如果要将数据按照分组来进行统计分析，就需要使用到分组方法</li>
<li>groupBy表示按照函数将列表分成不同的组</li>
<li>方法描述</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">groupBy</span></span>[<span class="type">K</span>](f: (<span class="type">A</span>) ⇒ <span class="type">K</span>): <span class="type">Map</span>[<span class="type">K</span>, <span class="type">List</span>[<span class="type">A</span>]]</span><br></pre></td></tr></table></figure>
<ul>
<li>方法说明</li>
</ul>
<table>
<thead>
<tr>
<th>groupBy方法</th>
<th>API</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>泛型</td>
<td>[K]</td>
<td>分组字段的类型</td>
</tr>
<tr>
<td>参数</td>
<td>f: (A) ⇒ K</td>
<td>传入一个函数对象<br>接收集合元素类型的参数<br>返回一个K类型的key，这个key会用来进行分组，相同的key放在一组中</td>
</tr>
<tr>
<td>返回值</td>
<td>Map[K, List[A]]</td>
<td>返回一个映射，K为分组字段，List为这个分组字段对应的一组数据</td>
</tr>
</tbody>
</table>
<ul>
<li>方法实操</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> a = <span class="type">List</span>(<span class="string">"张三"</span>-&gt;<span class="string">"男"</span>, <span class="string">"李四"</span>-&gt;<span class="string">"女"</span>, <span class="string">"王五"</span>-&gt;<span class="string">"男"</span>)</span><br><span class="line">a: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">String</span>)] = <span class="type">List</span>((张三,男), (李四,女), (王五,男))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 按照性别分组</span></span><br><span class="line">scala&gt; a.groupBy(_._2)</span><br><span class="line">res0: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">List</span>[(<span class="type">String</span>, <span class="type">String</span>)]] = <span class="type">Map</span>(男 -&gt; <span class="type">List</span>((张三,男), (王五,男)),</span><br><span class="line">女 -&gt; <span class="type">List</span>((李四,女)))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将分组后的映射转换为性别/人数元组列表</span></span><br><span class="line">scala&gt; res0.map(x =&gt; x._1 -&gt; x._2.size)</span><br><span class="line">res3: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(男 -&gt; <span class="number">2</span>, 女 -&gt; <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h4 id="16-7-聚合-reduce"><a href="#16-7-聚合-reduce" class="headerlink" title="16.7 聚合 - reduce"></a>16.7 聚合 - reduce</h4><ul>
<li>reduce表示将列表，传入一个函数进行聚合计算</li>
<li>方法描述</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reduce</span></span>[<span class="type">A1</span> &gt;: <span class="type">A</span>](op: (<span class="type">A1</span>, <span class="type">A1</span>) ⇒ <span class="type">A1</span>): <span class="type">A1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>方法说明</li>
</ul>
<table>
<thead>
<tr>
<th>reduce方法</th>
<th>API</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>泛型</td>
<td>[A1 &gt;: A]</td>
<td>（下界）A1必须是集合元素类型的子类</td>
</tr>
<tr>
<td>参数</td>
<td>op: (A1, A1) ⇒ A1</td>
<td>传入函数对象，用来不断进行聚合操作<br>第一个A1类型参数为：当前聚合后的变量<br>第二个A1类型参数为：当前要进行聚合的元素</td>
</tr>
<tr>
<td>返回值</td>
<td>A1</td>
<td>列表最终聚合为一个元素</td>
</tr>
</tbody>
</table>
<ul>
<li>方法实操</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> a = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line">a: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; a.reduce((x,y) =&gt; x + y)</span><br><span class="line">res5: <span class="type">Int</span> = <span class="number">55</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一个下划线表示第一个参数，就是历史的聚合数据结果</span></span><br><span class="line"><span class="comment">// 第二个下划线表示第二个参数，就是当前要聚合的数据元素</span></span><br><span class="line">scala&gt; a.reduce(_ + _)</span><br><span class="line">res53: <span class="type">Int</span> = <span class="number">55</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 与reduce一样，从左往右计算</span></span><br><span class="line">scala&gt; a.reduceLeft(_ + _)</span><br><span class="line">res0: <span class="type">Int</span> = <span class="number">55</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从右往左聚合计算</span></span><br><span class="line">scala&gt; a.reduceRight(_ + _)</span><br><span class="line">res1: <span class="type">Int</span> = <span class="number">55</span></span><br></pre></td></tr></table></figure>
<h4 id="16-8-折叠-fold"><a href="#16-8-折叠-fold" class="headerlink" title="16.8 折叠 - fold"></a>16.8 折叠 - fold</h4><ul>
<li>fold与reduce很像，但是多了一个指定初始值参数</li>
<li>方法描述</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fold</span></span>[<span class="type">A1</span> &gt;: <span class="type">A</span>](z: <span class="type">A1</span>)(op: (<span class="type">A1</span>, <span class="type">A1</span>) ⇒ <span class="type">A1</span>): <span class="type">A1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>方法说明</li>
</ul>
<table>
<thead>
<tr>
<th>reduce方法</th>
<th>API</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>泛型</td>
<td>[A1 &gt;: A]</td>
<td>（下界）A1必须是集合元素类型的子类</td>
</tr>
<tr>
<td>参数1</td>
<td>z: A1</td>
<td>初始值</td>
</tr>
<tr>
<td>参数2</td>
<td>op: (A1, A1) ⇒ A1</td>
<td>传入函数对象，用来不断进行折叠操作<br>第一个A1类型参数为：当前折叠后的变量<br>第二个A1类型参数为：当前要进行折叠的元素</td>
</tr>
<tr>
<td>返回值</td>
<td>A1</td>
<td>列表最终折叠为一个元素</td>
</tr>
</tbody>
</table>
<ul>
<li>方法实操</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个List集合</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> a = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line">a: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line">scala&gt; a.sum</span><br><span class="line">res41: <span class="type">Int</span> = <span class="number">55</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//给定一个初始值，，折叠求和</span></span><br><span class="line">scala&gt; a.fold(<span class="number">0</span>)(_+_)</span><br><span class="line">res42: <span class="type">Int</span> = <span class="number">55</span></span><br><span class="line"></span><br><span class="line">scala&gt; a.fold(<span class="number">10</span>)(_+_)</span><br><span class="line">res43: <span class="type">Int</span> = <span class="number">65</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//从左往右</span></span><br><span class="line">scala&gt; a.foldLeft(<span class="number">10</span>)(_+_)</span><br><span class="line">res44: <span class="type">Int</span> = <span class="number">65</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//从右往左</span></span><br><span class="line">scala&gt; a.foldRight(<span class="number">10</span>)(_+_)</span><br><span class="line">res45: <span class="type">Int</span> = <span class="number">65</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//fold和foldLet效果一致，表示从左往右计算</span></span><br><span class="line"><span class="comment">//foldRight表示从右往左计算</span></span><br></pre></td></tr></table></figure>
<h3 id="17-高阶函数"><a href="#17-高阶函数" class="headerlink" title="17. 高阶函数"></a>17. 高阶函数</h3><ul>
<li>使用函数值作为参数，或者返回值为函数值的“函数”和“方法”，均称之为“高阶函数”。</li>
</ul>
<h4 id="17-1-函数值作为参数"><a href="#17-1-函数值作为参数" class="headerlink" title="17.1 函数值作为参数"></a>17.1 函数值作为参数</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个数组</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> array=<span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">array: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个函数</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> func=(x:<span class="type">Int</span>)=&gt;x*<span class="number">10</span></span><br><span class="line">func: <span class="type">Int</span> =&gt; <span class="type">Int</span> = &lt;function1&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数作为参数传递到方法中</span></span><br><span class="line">scala&gt; array.map(func)</span><br><span class="line">res0: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure>
<h4 id="17-2-匿名函数"><a href="#17-2-匿名函数" class="headerlink" title="17.2 匿名函数"></a>17.2 匿名函数</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个数组</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> array=<span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">array: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个没有名称的函数----匿名函数</span></span><br><span class="line">scala&gt; array.map(x=&gt;x*<span class="number">10</span>)</span><br><span class="line">res1: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure>
<h4 id="17-3-柯里化"><a href="#17-3-柯里化" class="headerlink" title="17.3 柯里化"></a>17.3 柯里化</h4><ul>
<li>方法可以定义多个参数列表，当使用较少的参数列表调用多参数列表的方法时，会产生一个新的函数，该函数接收剩余的参数列表作为其参数。这被称为柯里化。</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getAddress</span></span>(a:<span class="type">String</span>):(<span class="type">String</span>,<span class="type">String</span>)=&gt;<span class="type">String</span>=&#123;</span><br><span class="line">    (b:<span class="type">String</span>,c:<span class="type">String</span>)=&gt;a+<span class="string">"-"</span>+b+<span class="string">"-"</span>+c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> f1=getAddress(<span class="string">"china"</span>)</span><br><span class="line">f1: (<span class="type">String</span>, <span class="type">String</span>) =&gt; <span class="type">String</span> = &lt;function2&gt;</span><br><span class="line"></span><br><span class="line">scala&gt; f1(<span class="string">"beijing"</span>,<span class="string">"tiananmen"</span>)</span><br><span class="line">res5: <span class="type">String</span> = china-beijing-tiananmen</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//这里就可以这样去定义方法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getAddress</span></span>(a:<span class="type">String</span>)(b:<span class="type">String</span>,c:<span class="type">String</span>):<span class="type">String</span>=&#123; </span><br><span class="line">  		a+<span class="string">"-"</span>+b+<span class="string">"-"</span>+c </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line">scala&gt; getAddress(<span class="string">"china"</span>)(<span class="string">"beijing"</span>,<span class="string">"tiananmen"</span>)</span><br><span class="line">res0: <span class="type">String</span> = china-beijing-tiananmen</span><br><span class="line"></span><br><span class="line"><span class="comment">//之前学习使用的下面这些操作就是使用到了柯里化</span></span><br><span class="line"><span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>).fold(<span class="number">0</span>)(_+_)</span><br><span class="line"><span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>).foldLeft(<span class="number">0</span>)(_+_)</span><br><span class="line"><span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>).foldRight(<span class="number">0</span>)(_+_)</span><br></pre></td></tr></table></figure>
<h4 id="17-4-闭包"><a href="#17-4-闭包" class="headerlink" title="17.4 闭包"></a>17.4 闭包</h4><ul>
<li>函数里面引用外面类成员变量叫作闭包</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> factor=<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> f1=(x:<span class="type">Int</span>) =&gt; x*factor</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义的函数f1，它的返回值是依赖于不在函数作用域的一个变量</span></span><br><span class="line"><span class="comment">//后期必须要要获取到这个变量才能执行</span></span><br><span class="line"><span class="comment">//spark和flink程序的开发中大量的使用到函数，函数的返回值依赖的变量可能都需要进行大量的网络传输获取得到。这里就需要这些变量实现序列化进行网络传输。</span></span><br></pre></td></tr></table></figure>
<h3 id="18-scala面向对象编程之类"><a href="#18-scala面向对象编程之类" class="headerlink" title="18. scala面向对象编程之类"></a>18. scala面向对象编程之类</h3><h4 id="18-1-类的定义"><a href="#18-1-类的定义" class="headerlink" title="18.1 类的定义"></a>18.1 类的定义</h4><ul>
<li>scala是支持面向对象的，也有类和对象的概念。<ul>
<li>定义一个Customer类，并添加成员变量/成员方法</li>
<li>添加一个main方法，并创建Customer类的对象，并给对象赋值，打印对象中的成员，调用成员方法</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name:<span class="type">String</span> = _</span><br><span class="line">  <span class="keyword">var</span> sex:<span class="type">String</span> = _</span><br><span class="line">  <span class="keyword">val</span> registerDate:<span class="type">Date</span> = <span class="keyword">new</span> <span class="type">Date</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHi</span></span>(msg:<span class="type">String</span>) = &#123;</span><br><span class="line">    println(msg)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> customer = <span class="keyword">new</span> <span class="type">Customer</span></span><br><span class="line">    <span class="comment">//给对象的成员变量赋值</span></span><br><span class="line">    customer.name = <span class="string">"张三"</span></span><br><span class="line">    customer.sex = <span class="string">"男"</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">s"姓名: <span class="subst">$&#123;customer.name&#125;</span>, 性别：<span class="subst">$&#123;customer.sex&#125;</span>, 注册时间: <span class="subst">$&#123;customer.registerDate&#125;</span>"</span>)</span><br><span class="line">    <span class="comment">//对象调用方法  </span></span><br><span class="line">    customer.sayHi(<span class="string">"你好!"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>说明</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(1). var name:String = _，  _表示使用默认值进行初始化</span><br><span class="line">   例如：String类型默认值是null，Int类型默认值是0，Boolean类型默认值是false...</span><br><span class="line">(2). val变量不能使用_来进行初始化，因为val是不可变的，所以必须手动指定一个默认值</span><br><span class="line">(3). main方法必须要放在一个scala的object（单例对象）中才能执行</span><br></pre></td></tr></table></figure>
<h4 id="18-2-类的构造器"><a href="#18-2-类的构造器" class="headerlink" title="18.2 类的构造器"></a>18.2 类的构造器</h4><ul>
<li><p>主构造器</p>
<ul>
<li>主构造器是指在类名的后面跟上一系列参数，例如</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">类名</span>(<span class="params">var/val 参数名:类型 = 默认值, var/val 参数名:类型 = 默认值</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 构造代码块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>辅助构造器</p>
<ul>
<li>在类中使用this来定义，例如</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(参数名:类型, 参数名:类型) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>演示</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">val name:<span class="type">String</span>, val age:<span class="type">Int</span></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">   <span class="keyword">val</span> address:<span class="type">String</span>=<span class="string">"beijing"</span> </span><br><span class="line">  <span class="comment">// 定义一个参数的辅助构造器</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>) &#123;</span><br><span class="line">    <span class="comment">// 第一行必须调用主构造器、其他辅助构造器或者super父类的构造器</span></span><br><span class="line">    <span class="keyword">this</span>(name, <span class="number">20</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(age:<span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="string">"某某某"</span>, age)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="19-scala面向对象编程之对象"><a href="#19-scala面向对象编程之对象" class="headerlink" title="19.scala面向对象编程之对象"></a>19.scala面向对象编程之对象</h3><h4 id="19-1-scala中的object"><a href="#19-1-scala中的object" class="headerlink" title="19.1 scala中的object"></a>19.1 scala中的object</h4><ul>
<li><p>scala中是没有Java中的静态成员的。如果将来我们需要用到static变量、static方法，就要用到scala中的单例对象object</p>
</li>
<li><p>定义object</p>
<ul>
<li>定义单例对象和定义类很像，就是把class换成object</li>
</ul>
</li>
<li>演示<ul>
<li>定义一个工具类，用来格式化日期时间</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DateUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 在object中定义的成员变量，相当于Java中定义一个静态变量</span></span><br><span class="line">  <span class="comment">// 定义一个SimpleDateFormat日期时间格式化对象</span></span><br><span class="line">  <span class="keyword">val</span> simpleDateFormat = <span class="keyword">new</span> <span class="type">SimpleDateFormat</span>(<span class="string">"yyyy-MM-dd HH:mm"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 构造代码</span></span><br><span class="line">  println(<span class="string">"构造代码"</span>)</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// 相当于Java中定义一个静态方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">format</span></span>(date:<span class="type">Date</span>) = simpleDateFormat.format(date)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// main是一个静态方法，所以必须要写在object中</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">      </span><br><span class="line">    println &#123; <span class="type">DateUtils</span>.format(<span class="keyword">new</span> <span class="type">Date</span>()) &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>说明</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(1). 使用object 单例对象名定义一个单例对象，可以用object作为工具类或者存放常量</span><br><span class="line">(2). 在单例对象中定义的变量，类似于Java中的static成员变量</span><br><span class="line">(3). 在单例对象中定义的方法，类似于Java中的static方法</span><br><span class="line">(4). object单例对象的构造代码可以直接写在花括号中</span><br><span class="line">(5). 调用单例对象的方法，直接使用单例对象名.方法名，访问单例对象的成员变量也是使用单例对象名.变量名</span><br><span class="line">(6). 单例对象只能有一个无参的主构造器，不能添加其他参数</span><br></pre></td></tr></table></figure>
<h4 id="19-2-scala中的伴生对象"><a href="#19-2-scala中的伴生对象" class="headerlink" title="19.2 scala中的伴生对象"></a>19.2 scala中的伴生对象</h4><ul>
<li>在==同一个scala文件，有一个class和object具有同样的名字===，那么就称这个object是class的伴生对象，class是object的伴生类；</li>
<li><p>伴生类和伴生对象的最大特点是，可以相互访问；</p>
</li>
<li><p>演示</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassObject</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> id = <span class="number">1</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> name = <span class="string">"itcast"</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printName</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    <span class="comment">//在Dog类中可以访问伴生对象Dog的私有属性</span></span><br><span class="line">    println(<span class="type">ClassObject</span>.<span class="type">CONSTANT</span> + name )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ClassObject</span></span>&#123;</span><br><span class="line">  <span class="comment">//伴生对象中的私有属性</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> <span class="type">CONSTANT</span> = <span class="string">"汪汪汪 : "</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">    <span class="keyword">val</span> p = <span class="keyword">new</span> <span class="type">ClassObject</span></span><br><span class="line">    <span class="comment">//访问私有的字段name</span></span><br><span class="line">    p.name = <span class="string">"123"</span></span><br><span class="line">    p.printName()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>说明</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1). 伴生类和伴生对象的名字必须是一样的</span><br><span class="line">(2). 伴生类和伴生对象需要在一个scala源文件中</span><br><span class="line">(3). 伴生类和伴生对象可以互相访问private的属性</span><br></pre></td></tr></table></figure>
<h4 id="19-3-scala中object的apply方法"><a href="#19-3-scala中object的apply方法" class="headerlink" title="19.3 scala中object的apply方法"></a>19.3 scala中object的apply方法</h4><ul>
<li>我们之前使用过这种方式来创建一个Array对象。</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个Array对象</span></span><br><span class="line"><span class="keyword">val</span> a = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>这种写法非常简便，不需要再写一个new，然后敲一个空格，再写类名。如何直接使用类名来创建对象呢？</li>
<li>查看scala源代码：</li>
</ul>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568196769539.png" alt="1568196769539"></p>
<ul>
<li>答案就是：<strong>==实现伴生对象的apply方法==</strong></li>
<li><p>伴生对象的apply方法用来快速地创建一个伴生类的对象。</p>
</li>
<li><p>演示</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">var name:<span class="type">String</span>, var age:<span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span> </span>= <span class="string">s"Person(<span class="subst">$name</span>, <span class="subst">$age</span>)"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 实现apply方法</span></span><br><span class="line">  <span class="comment">// 返回的是伴生类的对象</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name:<span class="type">String</span>, age:<span class="type">Int</span>): <span class="type">Person</span> = <span class="keyword">new</span> <span class="type">Person</span>(name, age)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// apply方法支持重载</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name:<span class="type">String</span>):<span class="type">Person</span> = <span class="keyword">new</span> <span class="type">Person</span>(name, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(age:<span class="type">Int</span>):<span class="type">Person</span> = <span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"某某某"</span>, age)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>():<span class="type">Person</span> = <span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"某某某"</span>, <span class="number">20</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> p1 = <span class="type">Person</span>(<span class="string">"张三"</span>, <span class="number">20</span>)</span><br><span class="line">    <span class="keyword">val</span> p2 = <span class="type">Person</span>(<span class="string">"李四"</span>)</span><br><span class="line">    <span class="keyword">val</span> p3 = <span class="type">Person</span>(<span class="number">100</span>)</span><br><span class="line">    <span class="keyword">val</span> p4 = <span class="type">Person</span>()</span><br><span class="line"></span><br><span class="line">    println(p1)</span><br><span class="line">    println(p2)</span><br><span class="line">    println(p3)</span><br><span class="line">    println(p4)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>说明</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">（1）. 当遇到类名(参数1, 参数2...)会自动调用apply方法，在apply方法中来创建对象</span><br><span class="line">（2）. 定义apply时，如果参数列表是空，也不能省略括号()，否则引用的是伴生对象</span><br></pre></td></tr></table></figure>
<h4 id="19-4-scala中object的main方法"><a href="#19-4-scala中object的main方法" class="headerlink" title="19.4 scala中object的main方法"></a>19.4 scala中object的main方法</h4><ul>
<li><p>scala和Java一样，如果要运行一个程序，必须有一个main方法。</p>
</li>
<li><p>而在Java中main方法是静态的，而在scala中没有静态方法。</p>
</li>
<li><p>==在scala中，这个main方法必须放在一个object中==</p>
<ul>
<li><p>演示1</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main1</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]) = &#123;</span><br><span class="line">    println(<span class="string">"hello, scala"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>==也可以继承自App Trait（特质==），然后将需要编写在main方法中的代码，写在object的构造方法体内。其本质是调用了Trait这个特质中的main方法。</p>
<ul>
<li><p>演示2</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main2</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  println(<span class="string">"hello, scala"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="20-scala面向对象编程之继承"><a href="#20-scala面向对象编程之继承" class="headerlink" title="20. scala面向对象编程之继承"></a>20. scala面向对象编程之继承</h3><h4 id="20-1-继承extends"><a href="#20-1-继承extends" class="headerlink" title="20.1 继承extends"></a>20.1 继承extends</h4><ul>
<li>scala和Java一样，使用<strong>extends</strong>关键字来实现继承。可以在子类中定义父类中没有的字段和方法，或者重写父类的方法。</li>
<li>==示例1：实现简单继承==</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person1</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">"super"</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getName</span> </span>= <span class="keyword">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student1</span> <span class="keyword">extends</span> <span class="title">Person1</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Main1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> p1 = <span class="keyword">new</span> <span class="type">Person1</span>()</span><br><span class="line">    <span class="keyword">val</span> p2 = <span class="keyword">new</span> <span class="type">Student1</span>()</span><br><span class="line"></span><br><span class="line">    p2.name = <span class="string">"张三"</span></span><br><span class="line"></span><br><span class="line">    println(p2.getName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>==示例2：单例对象实现继承==</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person2</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">"super"</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getName</span> </span>= <span class="keyword">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Student2</span> <span class="keyword">extends</span> <span class="title">Person2</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Main2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="type">Student2</span>.getName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="20-2-override和super"><a href="#20-2-override和super" class="headerlink" title="20.2 override和super"></a>20.2 override和super</h4><ul>
<li>如果子类要覆盖父类中的一个非抽象方法，必须要使用override关键字</li>
<li>可以使用override关键字来重写一个val字段</li>
<li>可以使用super关键字来访问父类的成员</li>
<li>==示例1：class继承class==</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person3</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name = <span class="string">"super"</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getName</span> </span>= name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student3</span> <span class="keyword">extends</span> <span class="title">Person3</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 重写val字段</span></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">"child"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 重写getName方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">getName</span></span>: <span class="type">String</span> = <span class="string">"hello, "</span> + <span class="keyword">super</span>.getName</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main3</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="keyword">new</span> <span class="type">Student3</span>().getName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="20-3-isInstanceOf和asInstanceOf"><a href="#20-3-isInstanceOf和asInstanceOf" class="headerlink" title="20.3 isInstanceOf和asInstanceOf"></a>20.3 isInstanceOf和asInstanceOf</h4><ul>
<li>我们经常要在代码中进行类型的判断和类型的转换。在Java中，我们可以使用instanceof关键字、以及(类型)object来实现，在scala中如何实现呢？</li>
<li>scala中对象提供==isInstanceOf ==和 ==asInstanceOf==方法。<ul>
<li>isInstanceOf判断对象是否为指定类的对象</li>
<li>asInstanceOf将对象转换为指定类型</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>Java</th>
<th>Scala</th>
</tr>
</thead>
<tbody>
<tr>
<td>判断对象是否是C类型</td>
<td>obj instanceof C</td>
<td>obj.isInstanceof[C]</td>
</tr>
<tr>
<td>将对象强转成C类型</td>
<td>(C ) obj</td>
<td>obj.asInstanceof[C]</td>
</tr>
<tr>
<td>获取类型为T的class对象</td>
<td>C.class</td>
<td>classOf[C]</td>
</tr>
</tbody>
</table>
<ul>
<li>==示例==</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person4</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Student4</span> <span class="keyword">extends</span> <span class="title">Person4</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Main4</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> s1:<span class="type">Person4</span> = <span class="keyword">new</span> <span class="type">Student4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断s1是否为Student4类型</span></span><br><span class="line">    <span class="keyword">if</span>(s1.isInstanceOf[<span class="type">Student4</span>]) &#123;</span><br><span class="line">      <span class="comment">// 将s1转换为Student3类型</span></span><br><span class="line">      <span class="keyword">val</span> s2 =  s1.asInstanceOf[<span class="type">Student4</span>]</span><br><span class="line">      println(s2)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="20-4-getClass和classOf"><a href="#20-4-getClass和classOf" class="headerlink" title="20.4 getClass和classOf"></a>20.4 getClass和classOf</h4><ul>
<li><p>isInstanceOf 只能判断出对象是否为指定类以及其子类的对象，而不能精确的判断出，对象就是指定类的对象。如果要求精确地判断出对象就是指定类的对象，那么就只能使用 getClass 和 classOf 。</p>
<ul>
<li><p>对象.getClass可以精确获取对象的类型</p>
</li>
<li><p>classOf[x]可以精确获取类型</p>
</li>
<li>使用==操作符就可以直接比较</li>
</ul>
</li>
<li><p>==示例==</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person5</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Student5</span> <span class="keyword">extends</span> <span class="title">Person5</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Student5</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">    <span class="keyword">val</span> p:<span class="type">Person5</span>=<span class="keyword">new</span> <span class="type">Student5</span></span><br><span class="line">    <span class="comment">//判断p是否为Person5类的实例</span></span><br><span class="line">    println(p.isInstanceOf[<span class="type">Person5</span>])<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断p的类型是否为Person5类</span></span><br><span class="line">    println(p.getClass == classOf[<span class="type">Person5</span>])<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断p的类型是否为Student5类</span></span><br><span class="line">    println(p.getClass == classOf[<span class="type">Student5</span>])<span class="comment">//true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="20-5-访问修饰符"><a href="#20-5-访问修饰符" class="headerlink" title="20.5 访问修饰符"></a>20.5 访问修饰符</h4><ul>
<li><p>Java中的访问控制，同样适用于scala，可以在成员前面添加private/protected关键字来控制成员的可见性。但在scala中，==<strong>没有public关键字</strong>，任何没有被标为private或protected的成员都是公共的==。</p>
<ul>
<li><p>==<strong>private[this]修饰符</strong>==</p>
<ul>
<li><p>被修饰的成员只能在当前类中被访问。或者可以理解为：<code>只能通过this.来访问</code>（在当前类中访问成员会自动添加this.）。</p>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person6</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 只有在当前对象中能够访问</span></span><br><span class="line">  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">var</span> name = <span class="string">"super"</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getName</span> </span>= <span class="keyword">this</span>.name	<span class="comment">// 正确！</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHelloTo</span></span>(p:<span class="type">Person6</span>) = &#123;</span><br><span class="line">    println(<span class="string">"hello"</span> + p.name)     <span class="comment">// 报错!无法访问</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person6</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">showName</span></span>(p:<span class="type">Person6</span>) = println(p.name)  <span class="comment">// 报错!无法访问</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>==<strong>protected[this]修饰符</strong>==</p>
<ul>
<li><p>==被修饰的成员只能在当前类和当前子类中被访问==。也可以理解为：当前类通过<strong>this.</strong>访问或者子类通过<strong>this.</strong>访问</p>
</li>
<li><p>示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person7</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 只有在当前类以及继承该类的当前对象中能够访问</span></span><br><span class="line">  <span class="keyword">protected</span>[<span class="keyword">this</span>] <span class="keyword">var</span> name = <span class="string">"super"</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getName</span> </span>= &#123;</span><br><span class="line">    <span class="comment">// 正确！</span></span><br><span class="line">    <span class="keyword">this</span>.name</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHelloTo1</span></span>(p:<span class="type">Person7</span>) = &#123;</span><br><span class="line">    <span class="comment">// 编译错误！无法访问</span></span><br><span class="line">    println(p.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person7</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHelloTo3</span></span>(p:<span class="type">Person7</span>) = &#123;</span><br><span class="line">    <span class="comment">// 编译错误！无法访问</span></span><br><span class="line">    println(p.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student7</span> <span class="keyword">extends</span> <span class="title">Person7</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">showName</span> </span>= &#123;</span><br><span class="line">    <span class="comment">// 正确！</span></span><br><span class="line">    println(name)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHelloTo2</span></span>(p:<span class="type">Person7</span>) = &#123;</span><br><span class="line">    <span class="comment">// 编译错误！无法访问</span></span><br><span class="line">    println(p.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="20-6-调用父类的constructor"><a href="#20-6-调用父类的constructor" class="headerlink" title="20.6 调用父类的constructor"></a>20.6 调用父类的constructor</h4><ul>
<li>==实例化子类对象，必须要调用父类的构造器==，在scala中，只能在子类的<code>主构造器</code>中调用父类的构造器</li>
<li>示例</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person8</span>(<span class="params">var name:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line">    println(<span class="string">"name:"</span>+name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接在父类的类名后面调用父类构造器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student8</span>(<span class="params">name:<span class="type">String</span>, var clazz:<span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Person8</span>(<span class="params">name</span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Main8</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> s1 = <span class="keyword">new</span> <span class="type">Student8</span>(<span class="string">"张三"</span>, <span class="string">"三年二班"</span>)</span><br><span class="line">    println(<span class="string">s"<span class="subst">$&#123;s1.name&#125;</span> - <span class="subst">$&#123;s1.clazz&#125;</span>"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="20-7-抽象类"><a href="#20-7-抽象类" class="headerlink" title="20.7 抽象类"></a>20.7 抽象类</h4><ul>
<li>如果类的某个成员在当前类中的定义是不包含完整的，它就是一个<strong>抽象类</strong></li>
<li>不完整定义有两种情况：<ul>
<li>1.方法没有方法体</li>
<li>2.变量没有初始化</li>
</ul>
</li>
<li><p>没有方法体的方法称为<strong>抽象方法</strong>，没有初始化的变量称为<strong>抽象字段</strong>。定义抽象类和Java一样，在类前面加上<strong>abstract</strong>关键字就可以了</p>
</li>
<li><p>==示例==</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person9</span>(<span class="params">val name:<span class="type">String</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//抽象方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>:<span class="type">String</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayBye</span></span>:<span class="type">String</span></span><br><span class="line">  <span class="comment">//抽象字段  </span></span><br><span class="line">  <span class="keyword">val</span> address:<span class="type">String</span>  </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student9</span>(<span class="params">name:<span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Person9</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//重写抽象方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>: <span class="type">String</span> = <span class="string">"Hello,"</span>+name</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayBye</span></span>: <span class="type">String</span> =<span class="string">"Bye,"</span>+name</span><br><span class="line">  <span class="comment">//重写抽象字段</span></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> address:<span class="type">String</span> =<span class="string">"beijing "</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main9</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">    <span class="keyword">val</span> s = <span class="keyword">new</span> <span class="type">Student9</span>(<span class="string">"tom"</span>)</span><br><span class="line">    println(s.sayHello)</span><br><span class="line">    println(s.sayBye)</span><br><span class="line">    println(s.address)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="20-8-匿名内部类"><a href="#20-8-匿名内部类" class="headerlink" title="20.8 匿名内部类"></a>20.8 匿名内部类</h4><ul>
<li><p>匿名内部类是没有名称的子类，直接用来创建实例对象。Spark的源代码中有大量使用到匿名内部类。</p>
</li>
<li><p>==示例==</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person10</span> </span>&#123;</span><br><span class="line">  <span class="comment">//抽象方法  </span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>:<span class="type">Unit</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main10</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// 直接用new来创建一个匿名内部类对象</span></span><br><span class="line">    <span class="keyword">val</span> p1 = <span class="keyword">new</span> <span class="type">Person10</span> &#123;</span><br><span class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>: <span class="type">Unit</span> = println(<span class="string">"我是一个匿名内部类"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    p1.sayHello</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="21-scala面向对象编程之trait特质"><a href="#21-scala面向对象编程之trait特质" class="headerlink" title="21. scala面向对象编程之trait特质"></a>21. scala面向对象编程之trait特质</h3><ul>
<li>特质是scala中代码复用的基础单元</li>
<li>它可以将方法和字段定义封装起来，然后添加到类中</li>
<li>与类继承不一样的是，类继承要求每个类都只能继承<code>一个</code>超类，而一个类可以添加<code>任意数量</code>的特质。</li>
<li>特质的定义和抽象类的定义很像，但它是使用<code>trait</code>关键字</li>
</ul>
<h4 id="21-1-作为接口使用"><a href="#21-1-作为接口使用" class="headerlink" title="21.1 作为接口使用"></a>21.1 作为接口使用</h4><ul>
<li><p>使用<code>extends</code>来继承trait（scala不论是类还是特质，都是使用extends关键字）</p>
</li>
<li><p>如果要继承多个trait，则使用<code>with</code>关键字</p>
</li>
<li><p>==<strong>示例一：继承单个trait</strong>==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Logger1</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 抽象方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg:<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsoleLogger1</span> <span class="keyword">extends</span> <span class="title">Logger1</span> </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg: <span class="type">String</span>): <span class="type">Unit</span> = println(msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">LoggerTrait1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> logger = <span class="keyword">new</span> <span class="type">ConsoleLogger1</span></span><br><span class="line">    logger.log(<span class="string">"控制台日志: 这是一条Log"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>==<strong>示例二：继承多个trait</strong>==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Logger2</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 抽象方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg:<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">MessageSender</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">send</span></span>(msg:<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsoleLogger2</span> <span class="keyword">extends</span> <span class="title">Logger2</span> <span class="keyword">with</span> <span class="title">MessageSender</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg: <span class="type">String</span>): <span class="type">Unit</span> = println(msg)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">send</span></span>(msg: <span class="type">String</span>): <span class="type">Unit</span> = println(<span class="string">s"发送消息:<span class="subst">$&#123;msg&#125;</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">LoggerTrait2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> logger = <span class="keyword">new</span> <span class="type">ConsoleLogger2</span></span><br><span class="line">    logger.log(<span class="string">"控制台日志: 这是一条Log"</span>)</span><br><span class="line">    logger.send(<span class="string">"你好!"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="21-2-定义具体的方法"><a href="#21-2-定义具体的方法" class="headerlink" title="21.2 定义具体的方法"></a>21.2 定义具体的方法</h4><ul>
<li><p>和类一样，trait中还可以定义具体的方法。</p>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">LoggerDetail</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 在trait中定义具体方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg:<span class="type">String</span>) = println(msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PersonService</span> <span class="keyword">extends</span> <span class="title">LoggerDetail</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>() = log(<span class="string">"添加用户"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">MethodInTrait</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> personService = <span class="keyword">new</span> <span class="type">PersonService</span></span><br><span class="line">    personService.add()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="21-3-定义具体方法和抽象方法"><a href="#21-3-定义具体方法和抽象方法" class="headerlink" title="21.3 定义具体方法和抽象方法"></a>21.3 定义具体方法和抽象方法</h4><ul>
<li><p>在trait中，可以混合使用具体方法和抽象方法</p>
</li>
<li><p>使用具体方法依赖于抽象方法，而抽象方法可以放到继承trait的子类中实现，这种设计方式也称为<strong>模板模式</strong></p>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Logger3</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 抽象方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg:<span class="type">String</span>)</span><br><span class="line">  <span class="comment">// 具体方法（该方法依赖于抽象方法log</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">info</span></span>(msg:<span class="type">String</span>) = log(<span class="string">"INFO:"</span> + msg)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">warn</span></span>(msg:<span class="type">String</span>) = log(<span class="string">"WARN:"</span> + msg)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">error</span></span>(msg:<span class="type">String</span>) = log(<span class="string">"ERROR:"</span> + msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsoleLogger3</span> <span class="keyword">extends</span> <span class="title">Logger3</span> </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg: <span class="type">String</span>): <span class="type">Unit</span> = println(msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">LoggerTrait3</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> logger3 = <span class="keyword">new</span> <span class="type">ConsoleLogger3</span></span><br><span class="line"></span><br><span class="line">    logger3.info(<span class="string">"这是一条普通信息"</span>)</span><br><span class="line">    logger3.warn(<span class="string">"这是一条警告信息"</span>)</span><br><span class="line">    logger3.error(<span class="string">"这是一条错误信息"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="21-4-定义具体字段和抽象字段"><a href="#21-4-定义具体字段和抽象字段" class="headerlink" title="21.4 定义具体字段和抽象字段"></a>21.4 定义具体字段和抽象字段</h4><ul>
<li><p>在trait中可以定义具体字段和抽象字段</p>
</li>
<li><p>继承trait的子类自动拥有trait中定义的字段</p>
</li>
<li><p>字段直接被添加到子类中</p>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">LoggerEx</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 具体字段</span></span><br><span class="line">  <span class="keyword">val</span> sdf = <span class="keyword">new</span> <span class="type">SimpleDateFormat</span>(<span class="string">"yyyy-MM-dd HH:mm"</span>)</span><br><span class="line">  <span class="keyword">val</span> <span class="type">INFO</span> = <span class="string">"信息:"</span> + sdf.format(<span class="keyword">new</span> <span class="type">Date</span>)</span><br><span class="line">  <span class="comment">// 抽象字段</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">TYPE</span>:<span class="type">String</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 抽象方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg:<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsoleLoggerEx</span> <span class="keyword">extends</span> <span class="title">LoggerEx</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 实现抽象字段</span></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> <span class="type">TYPE</span>: <span class="type">String</span> = <span class="string">"控制台"</span></span><br><span class="line">  <span class="comment">// 实现抽象方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg:<span class="type">String</span>): <span class="type">Unit</span> = print(<span class="string">s"<span class="subst">$TYPE</span><span class="subst">$INFO</span> <span class="subst">$msg</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">FieldInTrait</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> logger = <span class="keyword">new</span> <span class="type">ConsoleLoggerEx</span></span><br><span class="line"></span><br><span class="line">    logger.log(<span class="string">"这是一条消息"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="21-5-实例对象混入trait"><a href="#21-5-实例对象混入trait" class="headerlink" title="21.5 实例对象混入trait"></a>21.5 实例对象混入trait</h4><ul>
<li><p>trait还可以混入到<code>实例对象</code>中，给对象实例添加额外的行为</p>
</li>
<li><p>只有混入了trait的对象才具有trait中的方法，其他的类对象不具有trait中的行为</p>
</li>
<li><p>使用with将trait混入到实例对象中</p>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">LoggerMix</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(msg:<span class="type">String</span>) = println(msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserService</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">FixedInClass</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// 使用with关键字直接将特质混入到对象中</span></span><br><span class="line">    <span class="keyword">val</span> userService = <span class="keyword">new</span> <span class="type">UserService</span> <span class="keyword">with</span> <span class="type">LoggerMix</span></span><br><span class="line"></span><br><span class="line">    userService.log(<span class="string">"你好"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="22-模式匹配和样例类"><a href="#22-模式匹配和样例类" class="headerlink" title="22. 模式匹配和样例类"></a>22. 模式匹配和样例类</h3><ul>
<li>scala有一个十分强大的模式匹配机制，可以应用到很多场合。<ul>
<li>switch语句</li>
<li>类型查询</li>
<li>以及快速获取数据</li>
</ul>
</li>
<li>并且scala还提供了样例类，对模式匹配进行了优化，可以快速进行匹配。</li>
</ul>
<h4 id="22-1-匹配字符串"><a href="#22-1-匹配字符串" class="headerlink" title="22.1 匹配字符串"></a>22.1 匹配字符串</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//todo:匹配字符串</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">CaseDemo01</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</span><br><span class="line">  <span class="comment">//定义一个数组</span></span><br><span class="line">  <span class="keyword">val</span> arr=<span class="type">Array</span>(<span class="string">"hadoop"</span>,<span class="string">"zookeeper"</span>,<span class="string">"spark"</span>,<span class="string">"storm"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//随机取数组中的一位，使用Random.nextInt</span></span><br><span class="line">  <span class="keyword">val</span> name = arr(<span class="type">Random</span>.nextInt(arr.length))</span><br><span class="line">  println(name)</span><br><span class="line"></span><br><span class="line">  name <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"hadoop"</span>     =&gt; println(<span class="string">"大数据分布式存储和计算框架..."</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"zookeeper"</span>  =&gt; println(<span class="string">"大数据分布式协调服务框架..."</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"spark"</span>      =&gt; println(<span class="string">"大数据分布式内存计算框架..."</span>)</span><br><span class="line">      <span class="comment">//表示以上情况都不满足才会走最后一个</span></span><br><span class="line">    <span class="keyword">case</span> _            =&gt; println(<span class="string">"我不认识你"</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="22-2-匹配类型"><a href="#22-2-匹配类型" class="headerlink" title="22.2 匹配类型"></a>22.2 匹配类型</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//todo:匹配类型</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">CaseDemo02</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</span><br><span class="line">  <span class="comment">//定义一个数组</span></span><br><span class="line">  <span class="keyword">val</span> arr=<span class="type">Array</span>(<span class="string">"hello"</span>,<span class="number">1</span>,<span class="number">-2.0</span>,<span class="type">CaseDemo02</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//随机获取数组中的元素</span></span><br><span class="line">  <span class="keyword">val</span> value=arr(<span class="type">Random</span>.nextInt(arr.length))</span><br><span class="line">  println(value)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">  value <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> x:<span class="type">Int</span>                =&gt; println(<span class="string">"Int=&gt;"</span>+x)</span><br><span class="line">    <span class="keyword">case</span> y:<span class="type">Double</span> <span class="keyword">if</span>(y&gt;=<span class="number">0</span>)    =&gt; println(<span class="string">"Double=&gt;"</span>+y)</span><br><span class="line">    <span class="keyword">case</span> z:<span class="type">String</span>             =&gt; println(<span class="string">"String=&gt;"</span>+z)</span><br><span class="line">    <span class="keyword">case</span> _                    =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Exception</span>(<span class="string">"not match exception"</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="22-3-匹配数组"><a href="#22-3-匹配数组" class="headerlink" title="22.3 匹配数组"></a>22.3 匹配数组</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配数组</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">CaseDemo03</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//匹配数组</span></span><br><span class="line">  <span class="keyword">val</span>  arr=<span class="type">Array</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">  arr <span class="keyword">match</span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">1</span>,x,y) =&gt;println(x+<span class="string">"---"</span>+y)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">1</span>,_*)  =&gt;println(<span class="string">"1..."</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>)     =&gt;println(<span class="string">"only 0"</span>)</span><br><span class="line">    <span class="keyword">case</span> _            =&gt;println(<span class="string">"something else"</span>)</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="22-4-匹配集合"><a href="#22-4-匹配集合" class="headerlink" title="22.4 匹配集合"></a>22.4 匹配集合</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配集合</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">CaseDemo04</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> list=<span class="type">List</span>(<span class="number">0</span>,<span class="number">3</span>,<span class="number">6</span>)</span><br><span class="line">  list <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>::<span class="type">Nil</span>        =&gt; println(<span class="string">"only 0"</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>::tail       =&gt; println(<span class="string">"0...."</span>)</span><br><span class="line">    <span class="keyword">case</span> x::y::z::<span class="type">Nil</span>  =&gt; println(<span class="string">s"x:<span class="subst">$x</span> y:<span class="subst">$y</span> z:<span class="subst">$z</span>"</span>)</span><br><span class="line">    <span class="keyword">case</span> _             =&gt; println(<span class="string">"something else"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="22-5-匹配元组"><a href="#22-5-匹配元组" class="headerlink" title="22.5 匹配元组"></a>22.5 匹配元组</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配元组</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">CaseDemo05</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">val</span> tuple=(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">  tuple <span class="keyword">match</span>&#123;</span><br><span class="line">    <span class="keyword">case</span> (<span class="number">1</span>,x,y)    =&gt; println(<span class="string">s"1,<span class="subst">$x</span>,<span class="subst">$y</span>"</span>)</span><br><span class="line">    <span class="keyword">case</span> (<span class="number">2</span>,x,y)    =&gt; println(<span class="string">s"<span class="subst">$x</span>,<span class="subst">$y</span>"</span>)</span><br><span class="line">    <span class="keyword">case</span> _          =&gt; println(<span class="string">"others..."</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="22-6-样例类"><a href="#22-6-样例类" class="headerlink" title="22.6 样例类"></a>22.6 样例类</h4><ul>
<li><p>样例类是一种特殊类，它可以用来快速定义一个用于<strong>保存数据</strong>的类（类似于Java POJO类），==而且它会自动生成apply方法，允许我们快速地创建样例类实例对象==。后面在并发编程和spark、flink这些框架也都会经常使用它。</p>
</li>
<li><p>定义样例类</p>
<ul>
<li><p>语法结构</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">样例类名</span>(<span class="params">成员变量名1:类型1, 成员变量名2:类型2 ...</span>)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个样例类</span></span><br><span class="line"><span class="comment">// 样例类有两个成员name、age</span></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">CasePerson</span>(<span class="params">name:<span class="type">String</span>, age:<span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">//</span> <span class="title">使用var指定成员变量是可变的</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">CaseStudent</span>(<span class="params">var name:<span class="type">String</span>, var age:<span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">CaseClassDemo</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// 1. 使用new创建实例</span></span><br><span class="line">    <span class="keyword">val</span> zhagnsan = <span class="keyword">new</span> <span class="type">CasePerson</span>(<span class="string">"张三"</span>, <span class="number">20</span>)</span><br><span class="line">    println(zhagnsan)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 使用类名直接创建实例</span></span><br><span class="line">    <span class="keyword">val</span> lisi = <span class="type">CasePerson</span>(<span class="string">"李四"</span>, <span class="number">21</span>)</span><br><span class="line">    println(lisi)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 样例类默认的成员变量都是val的，除非手动指定变量为var类型</span></span><br><span class="line">    <span class="comment">//lisi.age = 22  // 编译错误！age默认为val类型</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> xiaohong = <span class="type">CaseStudent</span>(<span class="string">"小红"</span>, <span class="number">23</span>)</span><br><span class="line">    xiaohong.age = <span class="number">24</span></span><br><span class="line">    println(xiaohong)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>样例对象</p>
<ul>
<li><p>使用case object可以创建样例对象。样例对象是单例的，而且它<strong>没有主构造器</strong>。样例对象是可序列化的。格式：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">object</span> <span class="title">样例对象名</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">SendMessage</span>(<span class="params">text:<span class="type">String</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">//</span> <span class="title">消息如果没有任何参数，就可以定义为样例对象</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">object</span> <span class="title">startTask</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">object</span> <span class="title">PauseTask</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">object</span> <span class="title">StopTask</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>样例类和样例对象结合模式使用</p>
<ul>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">SubmitTask</span>(<span class="params">id: <span class="type">String</span>, name: <span class="type">String</span></span>)</span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">HeartBeat</span>(<span class="params">time: <span class="type">Long</span></span>)</span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">object</span> <span class="title">CheckTimeOutTask</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">CaseDemo06</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> arr = <span class="type">Array</span>(<span class="type">CheckTimeOutTask</span>,</span><br><span class="line">                  <span class="type">HeartBeat</span>(<span class="number">10000</span>), </span><br><span class="line">                  <span class="type">SubmitTask</span>(<span class="string">"0001"</span>, <span class="string">"task-0001"</span>))</span><br><span class="line"></span><br><span class="line">  arr(<span class="type">Random</span>.nextInt(arr.length)) <span class="keyword">match</span> &#123;</span><br><span class="line">      </span><br><span class="line">       <span class="keyword">case</span> <span class="type">SubmitTask</span>(id, name) =&gt; println(<span class="string">s"id=<span class="subst">$id</span>, name=<span class="subst">$name</span>"</span>)</span><br><span class="line">       <span class="keyword">case</span> <span class="type">HeartBeat</span>(time) =&gt; println(<span class="string">s"time=<span class="subst">$time</span>"</span>)</span><br><span class="line">       <span class="keyword">case</span> <span class="type">CheckTimeOutTask</span> =&gt; println(<span class="string">"检查超时"</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="22-7-Option类型"><a href="#22-7-Option类型" class="headerlink" title="22.7 Option类型"></a>22.7 Option类型</h4><ul>
<li><p>在Scala中Option类型用样例类来表示可能存在或也可能不存在的值</p>
</li>
<li><p>Option类型有2个子类</p>
<ul>
<li><p>一个是Some</p>
<ul>
<li>Some包装了某个值</li>
</ul>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568271621212.png" alt="1568271621212"></p>
</li>
<li><p>一个是None</p>
<ul>
<li>None表示没有值</li>
</ul>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1568271671144.png" alt="1568271671144"></p>
</li>
</ul>
</li>
<li><p>示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestOption</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">    <span class="keyword">val</span> map = <span class="type">Map</span>(<span class="string">"a"</span> -&gt; <span class="number">1</span>, <span class="string">"b"</span> -&gt; <span class="number">2</span>)</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">val</span> value: <span class="type">Option</span>[<span class="type">Int</span>] = map.get(<span class="string">"b"</span>)</span><br><span class="line">    <span class="keyword">val</span> v1 =value <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Some</span>(i) =&gt; i</span><br><span class="line">      <span class="keyword">case</span> <span class="type">None</span> =&gt; <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(v1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//更好的方式</span></span><br><span class="line">    <span class="keyword">val</span> v2 = map.getOrElse(<span class="string">"c"</span>, <span class="number">0</span>)</span><br><span class="line">    println(v2)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="22-8-偏函数"><a href="#22-8-偏函数" class="headerlink" title="22.8 偏函数"></a>22.8 偏函数</h4><ul>
<li><p>被包在花括号内==没有match的一组case语句==是一个偏函数</p>
</li>
<li><p>它是PartialFunction[A, B]的一个实例，</p>
<ul>
<li>A代表输入参数类型</li>
<li>B代表返回结果类型</li>
<li>可以理解为：偏函数是一个参数和一个返回值的函数。</li>
</ul>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestPartialFunction</span> </span>&#123;</span><br><span class="line">  <span class="comment">// func1是一个输入参数为Int类型，返回值为String类型的偏函数</span></span><br><span class="line">  <span class="keyword">val</span> func1: <span class="type">PartialFunction</span>[<span class="type">Int</span>, <span class="type">String</span>] = &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span> =&gt; <span class="string">"一"</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span> =&gt; <span class="string">"二"</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span> =&gt; <span class="string">"三"</span></span><br><span class="line">    <span class="keyword">case</span> _ =&gt; <span class="string">"其他"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(func1(<span class="number">1</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> list=<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用偏函数操作</span></span><br><span class="line">    <span class="keyword">val</span> result=list.filter&#123;</span><br><span class="line">      <span class="keyword">case</span> x <span class="keyword">if</span> x &gt;<span class="number">3</span> =&gt; <span class="literal">true</span></span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(result)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="23-异常处理"><a href="#23-异常处理" class="headerlink" title="23. 异常处理"></a>23. 异常处理</h3><h4 id="23-1-异常场景"><a href="#23-1-异常场景" class="headerlink" title="23.1 异常场景"></a>23.1 异常场景</h4><ul>
<li>来看看下面一段代码</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">   <span class="keyword">val</span> i = <span class="number">10</span> / <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    println(<span class="string">"你好！"</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Exception</span> in thread <span class="string">"main"</span> java.lang.<span class="type">ArithmeticException</span>: / by zero</span><br><span class="line">	at <span class="type">ForDemo</span>$.main(<span class="type">ForDemo</span>.scala:<span class="number">3</span>)</span><br><span class="line">	at <span class="type">ForDemo</span>.main(<span class="type">ForDemo</span>.scala)</span><br></pre></td></tr></table></figure>
<ul>
<li>执行程序，可以看到scala抛出了异常，而且没有打印出来”你好”。说明程序出现错误后就终止了。那怎么解决该问题呢？</li>
</ul>
<h4 id="23-2-捕获异常"><a href="#23-2-捕获异常" class="headerlink" title="23.2 捕获异常"></a>23.2 捕获异常</h4><ul>
<li><p>在scala中，可以使用异常处理来解决这个问题。</p>
<ul>
<li>在Scala里，借用了==模式匹配的思想来做异常的匹配==</li>
<li>以下为scala中try…catch异常处理的语法格式：</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> ex:异常类型<span class="number">1</span> =&gt; <span class="comment">// 代码</span></span><br><span class="line">    <span class="keyword">case</span> ex:异常类型<span class="number">2</span> =&gt; <span class="comment">// 代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// 代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>try中的代码是我们编写的业务处理代码</li>
<li>在catch中表示当出现某个异常时，需要执行的代码</li>
<li>在finally中，是不管是否出现异常都会执行的代码</li>
</ul>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> i = <span class="number">10</span> / <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> ex: <span class="type">Exception</span> =&gt; println(ex.getMessage)</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    println(<span class="string">"我始终都会执行!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="23-3-抛出异常"><a href="#23-3-抛出异常" class="headerlink" title="23.3 抛出异常"></a>23.3 抛出异常</h4><ul>
<li><p>我们也可以在一个方法中，抛出异常。语法格式和Java类似，使用throw new Exception…</p>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Exception</span>(<span class="string">"这是一个异常"</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Exception</span> in thread <span class="string">"main"</span> java.lang.<span class="type">Exception</span>: 这是一个异常</span><br><span class="line">	at <span class="type">ForDemo</span>$.main(<span class="type">ForDemo</span>.scala:<span class="number">3</span>)</span><br><span class="line">	at <span class="type">ForDemo</span>.main(<span class="type">ForDemo</span>.scala)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="24-提取器-Extractor"><a href="#24-提取器-Extractor" class="headerlink" title="24. 提取器(Extractor)"></a>24. 提取器(Extractor)</h3><ul>
<li><p>==提取器是从传递给它的对象中提取出构造该对象的参数==。(回想样例类进行模式匹配提取参数)</p>
</li>
<li><p>scala 提取器是一个带有unapply方法的对象。</p>
<ul>
<li>==unapply方法算是apply方法的反向操作==<ul>
<li>unapply接受一个对象，然后从对象中提取值，提取的值通常是用来构造该对象的值。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1552639637165.png" alt="1552639637165"></p>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1552639674932.png" alt="1552639674932"></p>
<ul>
<li>==示例==</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name:<span class="type">String</span> = _   <span class="comment">// 姓名</span></span><br><span class="line">  <span class="keyword">var</span> age:<span class="type">Int</span> = _       <span class="comment">// 年龄</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 实现一个辅助构造器</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>, age:<span class="type">Int</span>) = &#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">    <span class="keyword">this</span>.age = age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name:<span class="type">String</span>, age:<span class="type">Int</span>): <span class="type">Student</span> = <span class="keyword">new</span> <span class="type">Student</span>(name, age)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 实现一个解构器</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">unapply</span></span>(arg: <span class="type">Student</span>): <span class="type">Option</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = <span class="type">Some</span>(arg.name, arg.age))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">extractor_DEMO</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> zhangsan = <span class="type">Student</span>(<span class="string">"张三"</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">    zhangsan <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Student</span>(name, age) =&gt; println(<span class="string">s"姓名：<span class="subst">$name</span> 年龄：<span class="subst">$age</span>"</span>)</span><br><span class="line">      <span class="keyword">case</span> _ =&gt; println(<span class="string">"未匹配"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="25-泛型"><a href="#25-泛型" class="headerlink" title="25. 泛型"></a>25. 泛型</h3><ul>
<li>scala和Java一样，类和特质、方法都可以支持泛型。我们在学习集合的时候，一般都会涉及到泛型。</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> list1:<span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>)</span><br><span class="line">list1: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>在scala中，使用方括号来定义类型参数。</li>
</ul>
<h4 id="25-1-定义一个泛型方法"><a href="#25-1-定义一个泛型方法" class="headerlink" title="25.1 定义一个泛型方法"></a>25.1 定义一个泛型方法</h4><ul>
<li><p>不考虑泛型的支持</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getMiddle</span></span>(arr:<span class="type">Array</span>[<span class="type">Int</span>]) = arr(arr.length / <span class="number">2</span>)</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">val</span> arr1 = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">  </span><br><span class="line">  println(getMiddle(arr1))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>考虑泛型的支持</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getMiddle</span></span>[<span class="type">A</span>](arr:<span class="type">Array</span>[<span class="type">A</span>]) = arr(arr.length / <span class="number">2</span>)</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">val</span> arr1 = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">  <span class="keyword">val</span> arr2 = <span class="type">Array</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"f"</span>)</span><br><span class="line">  </span><br><span class="line">  println(getMiddle[<span class="type">Int</span>](arr1))</span><br><span class="line">  println(getMiddle[<span class="type">String</span>](arr2))</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 简写方式</span></span><br><span class="line">  println(getMiddle(arr1))</span><br><span class="line">  println(getMiddle(arr2))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="25-2-定义一个泛型类"><a href="#25-2-定义一个泛型类" class="headerlink" title="25.2 定义一个泛型类"></a>25.2 定义一个泛型类</h4><ul>
<li>定义一个Pair类包含2个类型不固定的泛型</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类名后面的方括号，就表示这个类可以使用两个类型、分别是T和S</span></span><br><span class="line"><span class="comment">// 这个名字可以任意取</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span>[<span class="type">T</span>, <span class="type">S</span>](<span class="params">val first: <span class="type">T</span>, val second: <span class="type">S</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">People</span>(<span class="params">var name:<span class="type">String</span>, val age:<span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> p1 = <span class="keyword">new</span> <span class="type">Pair</span>[<span class="type">String</span>, <span class="type">Int</span>](<span class="string">"张三"</span>, <span class="number">10</span>)</span><br><span class="line">  <span class="keyword">val</span> p2 = <span class="keyword">new</span> <span class="type">Pair</span>[<span class="type">String</span>, <span class="type">String</span>](<span class="string">"张三"</span>, <span class="string">"1988-02-19"</span>)</span><br><span class="line">  <span class="keyword">val</span> p3 = <span class="keyword">new</span> <span class="type">Pair</span>[<span class="type">People</span>, <span class="type">People</span>](<span class="type">People</span>(<span class="string">"张三"</span>, <span class="number">20</span>), <span class="type">People</span>(<span class="string">"李四"</span>, <span class="number">30</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="26-上下界"><a href="#26-上下界" class="headerlink" title="26. 上下界"></a>26. 上下界</h3><ul>
<li>==在指定泛型类型时，有时需要界定泛型类型的范围，而不是接收任意类型==。比如，要求某个泛型类型，必须是某个类的子类，这样在程序中就可以放心的调用父类的方法，程序才能正常的使用与运行.</li>
<li>scala的上下边界特性允许泛型类型是某个类的子类，或者是某个类的父类<ul>
<li>1、 ==U &gt;: T==<ul>
<li>这是类型==下界==的定义，也就是U必须是类型T的父类或者是自己本身。</li>
</ul>
</li>
<li>2、 ==U &lt;: T==<ul>
<li>这是类型==上界==的定义，也就是U必须是类型T的子类或者是自己本身。</li>
</ul>
</li>
</ul>
</li>
<li>==示例一==</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类名后面的指定泛型的范围 ----上界</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair1</span>[<span class="type">T</span> &lt;: <span class="type">Person</span>, <span class="type">S</span> &lt;:<span class="type">Person</span>](<span class="params">val first: <span class="type">T</span>, val second: <span class="type">S</span></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">chat</span></span>(msg:<span class="type">String</span>) = println(<span class="string">s"<span class="subst">$&#123;first.name&#125;</span>对<span class="subst">$&#123;second.name&#125;</span>说: <span class="subst">$msg</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">var name:<span class="type">String</span>, val age:<span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Pair1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> p3 = <span class="keyword">new</span> <span class="type">Pair1</span>[<span class="type">Person</span>,<span class="type">Person</span>](<span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"张三"</span>, <span class="number">20</span>), <span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"李四"</span>, <span class="number">30</span>))</span><br><span class="line">  p3.chat(<span class="string">"你好啊！"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>==示例二==</p>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1552657709922.png" alt="1552657709922"></p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//要控制Person只能和Person、Policeman聊天，但是不能和Superman聊天。此时，还需要给泛型添加一个下界。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//上下界</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span>[<span class="type">T</span> &lt;: <span class="type">Person</span>, <span class="type">S</span> &gt;: <span class="type">Policeman</span> &lt;:<span class="type">Person</span>](<span class="params">val first: <span class="type">T</span>, val second: <span class="type">S</span></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">chat</span></span>(msg:<span class="type">String</span>) = println(<span class="string">s"<span class="subst">$&#123;first.name&#125;</span>对<span class="subst">$&#123;second.name&#125;</span>说: <span class="subst">$msg</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">var name:<span class="type">String</span>, val age:<span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Policeman</span>(<span class="params">name:<span class="type">String</span>, age:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Person</span>(<span class="params">name, age</span>)</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Superman</span>(<span class="params">name:<span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Policeman</span>(<span class="params">name, -1</span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="comment">// 编译错误：第二个参数必须是Person的子类（包括本身）、Policeman的父类（包括本身）</span></span><br><span class="line">   <span class="keyword">val</span> p3 = <span class="keyword">new</span> <span class="type">Pair</span>[<span class="type">Person</span>,<span class="type">Superman</span>](<span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"张三"</span>, <span class="number">20</span>), <span class="keyword">new</span> <span class="type">Superman</span>(<span class="string">"李四"</span>))</span><br><span class="line">   p3.chat(<span class="string">"你好啊！"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="27-协变、逆变、非变"><a href="#27-协变、逆变、非变" class="headerlink" title="27. 协变、逆变、非变"></a>27. 协变、逆变、非变</h3><ul>
<li>来一个类型转换的问题</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span>[<span class="type">T</span>](<span class="params">a:<span class="type">T</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> p1 = <span class="keyword">new</span> <span class="type">Pair</span>(<span class="string">"hello"</span>)</span><br><span class="line">    <span class="comment">// 编译报错，无法将p1转换为p2</span></span><br><span class="line">    <span class="keyword">val</span> p2:<span class="type">Pair</span>[<span class="type">AnyRef</span>] = p1</span><br><span class="line"></span><br><span class="line">    println(p2)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>==<strong>协变</strong>==</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class Pair[+T]，这种情况是协变。类型B是A的子类型，Pair[B]可以认为是Pair[A]的子类型。这种情况，参数化类型的方向和类型的方向是一致的。</span><br></pre></td></tr></table></figure>
</li>
<li><p>==<strong>逆变</strong>==</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class Pair[-T]，这种情况是逆变。类型B是A的子类型，Pair[A]反过来可以认为是Pair[B]的子类型。这种情况，参数化类型的方向和类型的方向是相反的。</span><br></pre></td></tr></table></figure>
</li>
<li><p>==<strong>非变</strong>==</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class Pair[T]&#123;&#125;，这种情况就是非变（默认），类型B是A的子类型，Pair[A]和Pair[B]没有任何从属关系，这种情况和Java是一样的。</span><br></pre></td></tr></table></figure>
<p><img src="https://kfly.top/picture/kfly-top/scala学习入门/assets/1558064807949.png" alt="1558064807949"></p>
</li>
<li><p>==示例==</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Super</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Sub</span> <span class="keyword">extends</span> <span class="title">Super</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">//非变</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Temp1</span>[<span class="type">A</span>](<span class="params">title: <span class="type">String</span></span>)</span></span><br><span class="line"><span class="class"><span class="title">//协变</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Temp2</span>[+<span class="type">A</span>](<span class="params">title: <span class="type">String</span></span>)</span></span><br><span class="line"><span class="class"><span class="title">//逆变</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Temp3</span>[-<span class="type">A</span>](<span class="params">title: <span class="type">String</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">Covariance_demo</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> a = <span class="keyword">new</span> <span class="type">Sub</span>()</span><br><span class="line">    <span class="comment">// 没有问题，Sub是Super的子类</span></span><br><span class="line">    <span class="keyword">val</span> b:<span class="type">Super</span> = a</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 非变</span></span><br><span class="line">    <span class="keyword">val</span> t1:<span class="type">Temp1</span>[<span class="type">Sub</span>] = <span class="keyword">new</span> <span class="type">Temp1</span>[<span class="type">Sub</span>](<span class="string">"测试"</span>)</span><br><span class="line">    <span class="comment">// 报错！默认不允许转换</span></span><br><span class="line">    <span class="comment">// val t2:Temp1[Super] = t1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 协变</span></span><br><span class="line">    <span class="keyword">val</span> t3:<span class="type">Temp2</span>[<span class="type">Sub</span>] = <span class="keyword">new</span> <span class="type">Temp2</span>[<span class="type">Sub</span>](<span class="string">"测试"</span>)</span><br><span class="line">    <span class="keyword">val</span> t4:<span class="type">Temp2</span>[<span class="type">Super</span>] = t3</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 逆变</span></span><br><span class="line">    <span class="keyword">val</span> t5:<span class="type">Temp3</span>[<span class="type">Super</span>] = <span class="keyword">new</span> <span class="type">Temp3</span>[<span class="type">Super</span>](<span class="string">"测试"</span>)</span><br><span class="line">    <span class="keyword">val</span> t6:<span class="type">Temp3</span>[<span class="type">Sub</span>] = t5</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>==总结==</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C[+T]：如果A是B的子类，那么C[A]是C[B]的子类。</span><br><span class="line">C[-T]：如果A是B的子类，那么C[B]是C[A]的子类。</span><br><span class="line">C[T]： 无论A和B是什么关系，C[A]和C[B]没有从属关系。</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="28-隐式转换和隐式参数"><a href="#28-隐式转换和隐式参数" class="headerlink" title="28. 隐式转换和隐式参数"></a>28. 隐式转换和隐式参数</h3><h4 id="28-1-隐式转换"><a href="#28-1-隐式转换" class="headerlink" title="28.1 隐式转换"></a>28.1 隐式转换</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scala提供的隐式转换和隐式参数功能，是非常有特色的功能。是Java等编程语言所没有的功能。它可以允许你手动指定，将某种类型的对象转换成其他类型的对象或者是给一个类增加方法。通过这些功能，可以实现非常强大、特殊的功能。</span><br></pre></td></tr></table></figure>
<ul>
<li>隐式转换其核心就是定义一个使用 ==implicit== 关键字修饰的方法 实现把一个原始类转换成目标类，进而可以调用目标类中的方法</li>
</ul>
<h4 id="28-2-隐式参数"><a href="#28-2-隐式参数" class="headerlink" title="28.2 隐式参数"></a>28.2 隐式参数</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">	所谓的隐式参数，指的是在函数或者方法中，定义一个用implicit修饰的参数，</span><br><span class="line">此时Scala会尝试找到一个指定类型的用implicit修饰的参数，即隐式值，并注入参数。</span><br></pre></td></tr></table></figure>
<ul>
<li>==所有的隐式转换和隐式参数必须定义在一个object中==</li>
</ul>
<h4 id="28-3-案例演示"><a href="#28-3-案例演示" class="headerlink" title="28.3 案例演示"></a>28.3 案例演示</h4><ul>
<li><p>==案例一==</p>
<ul>
<li><strong>让File类具备RichFile类中的read方法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kaikeba.implic_demo</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">File</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.io.<span class="type">Source</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//todo:隐式转换案例一:让File类具备RichFile类中的read方法</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">MyPredef</span></span>&#123;</span><br><span class="line">  <span class="comment">//定义一个隐式转换的方法，实现把File转换成RichFile</span></span><br><span class="line">  <span class="keyword">implicit</span>  <span class="function"><span class="keyword">def</span> <span class="title">file2RichFile</span></span>(file:<span class="type">File</span>)=<span class="keyword">new</span> <span class="type">RichFile</span>(file)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RichFile</span>(<span class="params">val file:<span class="type">File</span></span>)</span>&#123;</span><br><span class="line">     <span class="comment">//读取数据文件的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">read</span></span>():<span class="type">String</span>=&#123;</span><br><span class="line">       <span class="type">Source</span>.fromFile(file).mkString</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">RichFile</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">     <span class="comment">//1、构建一个File对象</span></span><br><span class="line">          <span class="keyword">val</span> file = <span class="keyword">new</span> <span class="type">File</span>(<span class="string">"E:\\aa.txt"</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">//2、手动导入隐式转换</span></span><br><span class="line">      <span class="keyword">import</span> <span class="type">MyPredef</span>.file2RichFile</span><br><span class="line"></span><br><span class="line">       <span class="keyword">val</span> data: <span class="type">String</span> = file.read</span><br><span class="line">        println(data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>==案例二==</p>
<ul>
<li><strong>超人变身</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kaikeba.implic_demo</span><br><span class="line"></span><br><span class="line"><span class="comment">//todo:隐式转换案例二:超人变身</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Man</span>(<span class="params">val name:<span class="type">String</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">SuperMan</span>(<span class="params">val name: <span class="type">String</span></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">heat=print</span></span>(<span class="string">"超人打怪兽"</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SuperMan</span></span>&#123;</span><br><span class="line">  <span class="comment">//隐式转换方法</span></span><br><span class="line">  <span class="keyword">implicit</span> <span class="function"><span class="keyword">def</span> <span class="title">man2SuperMan</span></span>(man:<span class="type">Man</span>)=<span class="keyword">new</span> <span class="type">SuperMan</span>(man.name)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">      <span class="keyword">val</span> hero=<span class="keyword">new</span> <span class="type">Man</span>(<span class="string">"hero"</span>)</span><br><span class="line">      <span class="comment">//Man具备了SuperMan的方法</span></span><br><span class="line">      hero.heat</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>==案例三==</p>
<ul>
<li><strong>一个类隐式转换成具有相同方法的多个类</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kaikeba.implic_demo</span><br><span class="line"></span><br><span class="line"><span class="comment">//todo:隐式转换案例三（一个类隐式转换成具有相同方法的多个类）</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">A</span>(<span class="params">c:<span class="type">C</span></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">readBook</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(<span class="string">"A说：好书好书..."</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">c:<span class="type">C</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">readBook</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">"B说：看不懂..."</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">writeBook</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">"B说：不会写..."</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">AB</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//创建一个类转换为2个类的隐式转换</span></span><br><span class="line">  <span class="keyword">implicit</span> <span class="function"><span class="keyword">def</span> <span class="title">C2A</span></span>(c:<span class="type">C</span>)=<span class="keyword">new</span> <span class="type">A</span>(c)</span><br><span class="line">  <span class="keyword">implicit</span> <span class="function"><span class="keyword">def</span> <span class="title">C2B</span></span>(c:<span class="type">C</span>)=<span class="keyword">new</span> <span class="type">B</span>(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">B</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">    <span class="comment">//导包</span></span><br><span class="line">    <span class="comment">//1. import AB._ 会将AB类下的所有隐式转换导进来</span></span><br><span class="line">    <span class="comment">//2. import AB.C2A 只导入C类到A类的的隐式转换方法</span></span><br><span class="line">    <span class="comment">//3. import AB.C2B 只导入C类到B类的的隐式转换方法</span></span><br><span class="line">    <span class="keyword">import</span> <span class="type">AB</span>._</span><br><span class="line">    <span class="keyword">val</span> c=<span class="keyword">new</span> <span class="type">C</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//由于A类与B类中都有readBook()，只能导入其中一个，否则调用共同方法时代码报错</span></span><br><span class="line">     <span class="comment">//c.readBook()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//C类可以执行B类中的writeBook()</span></span><br><span class="line">    c.writeBook()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>==案例四==</p>
<ul>
<li><strong>员工领取薪水</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.implic_demo</span><br><span class="line"></span><br><span class="line"><span class="comment">//todo:隐式参数案例四:员工领取薪水</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Company</span></span>&#123;</span><br><span class="line">  <span class="comment">//在object中定义隐式值    注意：同一类型的隐式值只允许出现一次，否则会报错</span></span><br><span class="line">  <span class="keyword">implicit</span>  <span class="keyword">val</span> xxx=<span class="string">"zhangsan"</span></span><br><span class="line">  <span class="keyword">implicit</span>  <span class="keyword">val</span> yyy=<span class="number">10000.00</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//implicit  val zzz="lisi"</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Boss</span> </span>&#123;</span><br><span class="line">  <span class="comment">//定义一个用implicit修饰的参数 类型为String</span></span><br><span class="line">  <span class="comment">//注意参数匹配的类型   它需要的是String类型的隐式值</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">callName</span></span>(<span class="keyword">implicit</span> name:<span class="type">String</span>):<span class="type">String</span>=&#123;</span><br><span class="line">    name+<span class="string">" is coming !"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义一个用implicit修饰的参数，类型为Double</span></span><br><span class="line">  <span class="comment">//注意参数匹配的类型    它需要的是Double类型的隐式值</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getMoney</span></span>(<span class="keyword">implicit</span> money:<span class="type">Double</span>):<span class="type">String</span>=&#123;</span><br><span class="line">    <span class="string">" 当月薪水："</span>+money</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">match</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Boss</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</span><br><span class="line">  <span class="comment">//使用import导入定义好的隐式值，注意：必须先加载否则会报错</span></span><br><span class="line">  <span class="keyword">import</span> <span class="type">Company</span>.xxx</span><br><span class="line">  <span class="keyword">import</span> <span class="type">Company</span>.yyy</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> boss =<span class="keyword">new</span> <span class="type">Boss</span></span><br><span class="line">  println(boss.callName+boss.getMoney)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://blog.sev7e0.site/">大数据施工现场</a></span>
        <span>/</span>
        
        <span><a href="https://wangchujiang.com/linux-command/">linux命令行工具</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/gitment.js"></script>
<script>
    var gitment = new Gitment({
        id: 'scala学习入门',
        owner: 'orchid-ding',
        repo: 'kfly-blog-comment',
        oauth: {
            client_id: '0770cdab79393197b6f5',
            client_secret: '376fb6c7bcd5047718b356712f596b89e490360c',
        },
    })
    gitment.render('comment-container')
</script>




</html>
