(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{629:function(s,a,e){"use strict";e.r(a);var t=e(19),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("oozie安装包的下载网址为\n"),e("a",{attrs:{href:"http://archive.cloudera.com/cdh5/cdh/5/oozie-4.1.0-cdh5.14.2.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://archive.cloudera.com/cdh5/cdh/5/oozie-4.1.0-cdh5.14.2.tar.gz"),e("OutboundLink")],1),s._v("\n这里我们选择node03服务器作为安装服务器，下载安装包然后上传到node03服务器的/kfly/soft路径下去等待备用")]),s._v(" "),e("h2",{attrs:{id:"core-site-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#core-site-xml"}},[s._v("#")]),s._v(" core-site.xml")]),s._v(" "),e("p",[s._v("修改core-site.xml添加我们hadoop集群的代理用户")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /kfly/install/hadoop-2.6.2-cdh5.14.2/etc/hadoop\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("  core-site.xml\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("hadoop.proxyuser.hadoop.hosts"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("*"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("hadoop.proxyuser.hadoop.groups"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("*"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("注意：hadoop的历史任务的服务必须启动，即19888端口可以查看\n重启hdfs与yarn集群以及启动jobhistory")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /kfly/install/hadoop-2.6.2-cdh5.14.2\n\nsbin/stop-dfs.sh\nsbin/start-dfs.sh\nsbin/stop-yarn.sh\nsbin/start-yarn.sh\nsbin/mr-jobhistory-daemon.sh start historyserver\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h2",{attrs:{id:"上传oozie到服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#上传oozie到服务器"}},[s._v("#")]),s._v(" 上传oozie到服务器")]),s._v(" "),e("p",[s._v("将我们的oozie的安装包上传到/kfly/soft")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /kfly/soft/\n\ntar -zxvf oozie-4.1.0-cdh5.14.2.tar.gz -C  /kfly/install\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"解压hadooplibs到与oozie平行的目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解压hadooplibs到与oozie平行的目录"}},[s._v("#")]),s._v(" 解压hadooplibs到与oozie平行的目录")]),s._v(" "),e("p",[s._v("将oozie-hadooplibs-4.1.0-cdh5.14.2.tar.gz 这个压缩包，解压到oozie的根目录的平行目录下")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /kfly/install/oozie-4.1.0-cdh5.14.2\n\ntar -zxvf oozie-hadooplibs-4.1.0-cdh5.14.2.tar.gz -C /kfly/install\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"创建libext目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建libext目录"}},[s._v("#")]),s._v(" 创建libext目录")]),s._v(" "),e("p",[s._v("在oozie的安装路径下创建libext目录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /kfly/install/oozie-4.1.0-cdh5.14.2\nmkdir -p libext\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"拷贝依赖包到libext"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#拷贝依赖包到libext"}},[s._v("#")]),s._v(" 拷贝依赖包到libext")]),s._v(" "),e("p",[s._v("拷贝一些依赖包到libext目录下面去\n拷贝所有的依赖包")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /kfly/install/oozie-4.1.0-cdh5.14.2\n\ncp -ra hadooplibs/hadooplib-2.6.0-cdh5.14.2.oozie-4.1.0-cdh5.14.2/* libext/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("拷贝mysql的驱动包")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cp /kfly/install/hive-1.1.0-cdh5.14.2/lib/mysql-connector-java-5.1.38.jar /kfly/install/oozie-4.1.0-cdh5.14.2/libext/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"添加ext-2-2-zip压缩包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加ext-2-2-zip压缩包"}},[s._v("#")]),s._v(" 添加ext-2.2.zip压缩包")]),s._v(" "),e("p",[s._v("拷贝ext-2.2.zip这个包添加到libext目录当中去\n将我们准备好的软件ext-2.2.zip拷贝到我们的libext目录当中去")]),s._v(" "),e("h2",{attrs:{id:"oozie-site-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#oozie-site-xml"}},[s._v("#")]),s._v(" oozie-site.xml")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /kfly/install/oozie-4.1.0-cdh5.14.2/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" oozie-site.xml\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("--如果没有这些属性，直接添加进去即可，oozie默认使用的是UTC的时区，我们需要在我们oozie-site.xml当中记得要配置我们的时区为GMT+0800时区--"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.service.JPAService.jdbc.driver"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("com.mysql.jdbc.Driver"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n   \n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.service.JPAService.jdbc.url"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("jdbc:mysql://node03.kaikeba.com:3306/oozie"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n   \n   \n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n       "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.service.JPAService.jdbc.username"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n       "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("root"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n \n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.service.JPAService.jdbc.password"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("12345")]),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("6")]),s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n \n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.processing.timezone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("GMT+080"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n \n \n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n       "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.service.ProxyUserService.proxyuser.hue.hosts"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("*"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n   \n   \n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.service.ProxyUserService.proxyuser.hue.groups"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("*"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n   \n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.service.coord.check.maximum.frequency"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n       "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("false"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("    \n \n \n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("oozie.service.HadoopAccessorService.hadoop.configurations"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("*"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/kfly/install/hadoop-2.6.0-cdh5.14.2/etc/hadoop"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/value"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br")])]),e("h2",{attrs:{id:"创建mysql数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建mysql数据库"}},[s._v("#")]),s._v(" 创建mysql数据库")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("mysql -uroot -p\n\ncreate database oozie"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"上传oozie依赖的jar包到hdfs上面去"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#上传oozie依赖的jar包到hdfs上面去"}},[s._v("#")]),s._v(" 上传oozie依赖的jar包到hdfs上面去")]),s._v(" "),e("p",[s._v("上传oozie的解压后目录的yarn.tar.gz到hdfs目录去")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("bin/oozie-setup.sh  sharelib create -fs hdfs://node01:8020 -locallib oozie-sharelib-4.1.0-cdh5.14.2-yarn.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("实际上就是将这些jar包解压到了hdfs上面的路径下面去了")]),s._v(" "),e("h2",{attrs:{id:"创建oozie的数据库表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建oozie的数据库表"}},[s._v("#")]),s._v(" 创建oozie的数据库表")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /kfly/install/oozie-4.1.0-cdh5.14.2\n\nbin/oozie-setup.sh  db create -run -sqlfile oozie.sql\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"打包项目-生成war包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包项目-生成war包"}},[s._v("#")]),s._v(" 打包项目，生成war包")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /kfly/install/oozie-4.1.0-cdh5.14.2\nbin/oozie-setup.sh  prepare-war\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"第十二步-配置oozie的环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第十二步-配置oozie的环境变量"}},[s._v("#")]),s._v(" 第十二步：配置oozie的环境变量")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /etc/profile\n\nexport OOZIE_HOME=/kfly/install/oozie-4.1.0-cdh5.14.2\nexport OOZIE_URL=http://node03.kaikeba.com:11000/oozie\nexport PATH=:$OOZIE_HOME/bin:$PATH\n\nsource /etc/profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/kflys/uPic/raw/master/uPic/1613804113138-06531f6f-369b-4e90-b26a-5a655d129dca.png",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"启动与关闭oozie服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动与关闭oozie服务"}},[s._v("#")]),s._v(" 启动与关闭oozie服务")]),s._v(" "),e("p",[s._v("启动命令")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /kfly/install/oozie-4.1.0-cdh5.14.2\nbin/oozied.sh start\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("关闭命令")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("bin/oozied.sh stop\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/kflys/uPic/raw/master/uPic/1613804113566-b3dbde90-17ff-4996-b9dd-7a114bee0974.png",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"页面访问oozie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#页面访问oozie"}},[s._v("#")]),s._v(" 页面访问oozie")]),s._v(" "),e("p",[e("a",{attrs:{href:"http://node03:11000/oozie/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://node03:11000/oozie/"),e("OutboundLink")],1),s._v("\n解决oozie的页面的时区问题：\n我们页面访问的时候，发现我们的oozie使用的还是GMT的时区，与我们现在的时区相差一定的时间，所以我们需要调整一个js的获取时区的方法，将其改成我们现在的时区")]),s._v(" "),e("p",[s._v("修改js当中的时区问题")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('cd /kfly/install/oozie-4.1.0-cdh5.14.2/oozie-server/webapps/oozie\nvim oozie-console.js\n\nfunction getTimeZone() {\n    Ext.state.Manager.setProvider(new Ext.state.CookieProvider());\n    return Ext.state.Manager.get("TimezoneId","GMT+0800");\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);