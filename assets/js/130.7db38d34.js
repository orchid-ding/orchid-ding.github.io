(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{615:function(s,n,a){"use strict";a.r(n);var t=a(19),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"文件下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件下载"}},[s._v("#")]),s._v(" 文件下载")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://my.vmware.com/en/web/vmware/downloads/details?downloadGroup=FUS-1156&productId=798&rPId=49706",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vmware Fusion"),a("OutboundLink")],1),a("br"),a("a",{attrs:{href:"http://mirrors.cn99.com/centos/7/isos/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Centos"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"linux-环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-环境配置"}},[s._v("#")]),s._v(" Linux 环境配置")]),s._v(" "),a("blockquote",[a("p",[s._v("环境可以使用三台ECS服务器，或者在自己电脑搭建虚拟机环境。有服务器的小伙伴可以直接跳到免密登录")])]),s._v(" "),a("h3",{attrs:{id:"网络配置网络配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络配置网络配置"}},[s._v("#")]),s._v(" 网络配置网络配置")]),s._v(" "),a("h4",{attrs:{id:"查看本机网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看本机网络"}},[s._v("#")]),s._v(" 查看本机网络")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 查看vmnet网络配置，本机mac上")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /Library/Preferences/VMware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" Fusion/vmnet8/nat.conf \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 可以看到如下部分信息，记住下面信息，用来配置linux")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NAT gateway address")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".83.2\nnetmask "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("a",{attrs:{name:"9d19679c"}})]),s._v(" "),a("h4",{attrs:{id:"配置linux网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置linux网络"}},[s._v("#")]),s._v(" 配置linux网络")]),s._v(" "),a("blockquote",[a("p",[s._v("启动虚拟机前先生成MAC Address")])]),s._v(" "),a("ol",[a("li",[s._v("setting -> Network Adapter -> Share with my msc  如下图")]),s._v(" "),a("li",[s._v("点击上图左下角 Advanced options，点击Generate（生成MAC Address）")]),s._v(" "),a("li",[s._v("启动虚拟机")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 修改配置文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconf/network-scripts/ifcg-ens192\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 修改下面内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为静态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BOOTPROTO")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("static\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ONBOOT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yes\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与上面网段保持一致")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IPPADDR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".83.100\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与上面一致")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NETMASK")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与上面ip一致")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GATEWAY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".83.2\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DNS1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".8.8\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3. 修改之后，重启network")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" network restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("关闭防火墙，selinux")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭")]),s._v("\nsystemctl stop firewalld\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 永久关闭")]),s._v("\nsystemctl disable firewalld\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭selinux，修改下面文件内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/selinux/config "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入selinux设置文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SELINUX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("disabled\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("a",{attrs:{name:"7f0bd9f8"}})]),s._v(" "),a("h3",{attrs:{id:"linux-设置免密登陆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-设置免密登陆"}},[s._v("#")]),s._v(" Linux 设置免密登陆")]),s._v(" "),a("p",[a("a",{attrs:{name:"372f6b50"}})]),s._v(" "),a("h4",{attrs:{id:"设置用户-权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置用户-权限"}},[s._v("#")]),s._v(" 设置用户 & 权限")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 创建hadoop用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" hadoop "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加hadoop用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" hadoop "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#给hadoop用户添加密码")]),s._v("\nhadoop "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#密码设为hadoop")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 设置用户权限 ")]),s._v("\nvisudo "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入用户权限配置文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Allow root to run any commands anywhere")]),s._v("\nroot    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("       ALL\nhadoop  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t    ALL "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给hadoop用户添加所有权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 切换到hadoop用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - hadoop "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加上- 表示切换同时拥有权限")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[a("a",{attrs:{name:"77905725"}})]),s._v(" "),a("h4",{attrs:{id:"免密登陆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#免密登陆"}},[s._v("#")]),s._v(" 免密登陆")]),s._v(" "),a("ol",[a("li",[s._v("修改/etc/hosts 文件")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/hosts\n   \n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加如下内容")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".83.100 node01\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".83.110 node02\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".83.120 node03\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("配置免密登陆")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. hadoop用户下执行下列命令，必须！")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面操作node01，node02，node03 都执行，回车next。")]),s._v("\nssh-keygen -t rsa "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#生成公钥")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 三台机器的公钥全部拷贝到node01")]),s._v("\nssh-copy-id node01 \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 第一台机器执行，“:PWD”的意思是：拷贝目标文件位置和node01的位置一致。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/hadoop/.ssh/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" authorized_keys node02:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将node01的授权文件拷贝到node02")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" authorized_keys node03:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将node01的授权文件拷贝到node03")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4. 验证免密登录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在node01执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" node02 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在node01登录node02，不需要密码就ok")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" node03 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在node01登录node02，不需要密码就ok")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#回到node01")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("logout")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[a("a",{attrs:{name:"e8fa003c"}})]),s._v(" "),a("h3",{attrs:{id:"时间同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时间同步"}},[s._v("#")]),s._v(" 时间同步")]),s._v(" "),a("blockquote",[a("p",[s._v("时间同步，可以三台机器都同步阿里云的时间，也可以node01同步阿里云的时间。其余机器同步node01的时间")])]),s._v(" "),a("p",[a("a",{attrs:{name:"b0a22931"}})]),s._v(" "),a("h4",{attrs:{id:"同步阿里云"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同步阿里云"}},[s._v("#")]),s._v(" 同步阿里云")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装ntpdate")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ntpdate\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -e \n*/1 * * * * /usr/sbin/ntpdate time1.aliyun.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果时间不通可以执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ntpdate -u asia.pool.ntp.org\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("a",{attrs:{name:"c80a4bab"}})]),s._v(" "),a("h4",{attrs:{id:"同步node01时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同步node01时间"}},[s._v("#")]),s._v(" 同步node01时间")]),s._v(" "),a("ul",[a("li",[s._v("以下命令在root用户操作")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 安装ntp软件（所有）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# (注意：ntpd作为node01服务端，node02、node03 ntpdate作为客户端软件不同)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum  -y  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ntpd\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 设置时区为中国上海（所有）")]),s._v("\ntimedatectl set-timezone Asia/Shanghai\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. node01启动ntp服务，作为服务端供其他节点同步时间")]),s._v("\nsystemctl start ntpd\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. node01设置开机启动")]),s._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" ntpd\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5.修改配置 node01上")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/ntp.conf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注释掉以下四行，添加最后两行。对应自己的vmnt8内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#server 0.centos.pool.ntp.org iburst")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#server 1.centos.pool.ntp.org iburst")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#server 2.centos.pool.ntp.org iburst")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#server 3.centos.pool.ntp.org iburst")]),s._v("\n\nrestrict "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".83.2 mask "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0 nomodify notrap\nserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.127")]),s._v(".1.0\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5.1 node02 node03修改配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/ntpdate\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改为 yes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SYNC_HWCLOCK")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yes\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -e\n*/1 * * * * /usr/sbin/ntpdate "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".83.100\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6. node02、node03重启服务")]),s._v("\nsystemctl restart ntpdate\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);