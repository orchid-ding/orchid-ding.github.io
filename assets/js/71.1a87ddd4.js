(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{556:function(s,a,t){"use strict";t.r(a);var e=t(19),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("ul",[t("li",[t("a",{attrs:{href:"http://hbase.apache.org/book.html#cp",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://hbase.apache.org/book.html#cp"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("起源：\n"),t("ul",[t("li",[s._v("Hbase 作为列族数据库最经常被人诟病的特性包括：无法轻易建立“二级索引”，难以执行求和、计数、排序等操作。比如，在旧版本的(<0.92)Hbase 中，统计数据表的总行数，需 要使用 Counter 方法，执行一次 MapReduce Job 才能得到。")]),s._v(" "),t("li",[s._v("虽然 HBase 在数据存储层中集成了 MapReduce，能够有效用于数据表的分布式计算。然而在很多情况下，做一些简单的相加或者聚合计算的时候， 如果直接将计算过程放置在 server端，能够减少通讯开销，从而获得很好的性能提升。")]),s._v(" "),t("li",[s._v("于是， HBase 在 0.92 之后引入了协处理器(coprocessors)，实现一些激动人心的新特性：能够轻易建立二次索引、复杂过滤器(谓词下推)以及访问控制等。")])])])]),s._v(" "),t("h2",{attrs:{id:"两种协处理器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#两种协处理器"}},[s._v("#")]),s._v(" 两种协处理器")]),s._v(" "),t("h3",{attrs:{id:"observer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#observer"}},[s._v("#")]),s._v(" observer")]),s._v(" "),t("ul",[t("li",[s._v("Observer 类似于传统数据库中的触发器，当发生某些事件的时候这类协处理器会被 Server 端调用。")]),s._v(" "),t("li",[s._v("Observer Coprocessor就是一些散布在 HBase Server 端代码中的 hook 钩子， 在固定的事件发生时被调用。\n"),t("ul",[t("li",[s._v("比如： put 操作之前有钩子函数 prePut，该函数在put操作执行前会被Region Server调用；在 put 操作之后则有 postPut 钩子函数")])])]),s._v(" "),t("li",[s._v("以 HBase0.92 版本为例，它提供了三种观察者接口：\n"),t("ul",[t("li",[s._v("RegionObserver：提供客户端的数据操纵事件钩子： Get、 Put、 Delete、 Scan 等。")]),s._v(" "),t("li",[s._v("WALObserver：提供 WAL 相关操作钩子。")]),s._v(" "),t("li",[s._v("MasterObserver：提供 DDL类型的操作钩子。如创建、删除、修改数据表等。")]),s._v(" "),t("li",[s._v("到 0.96 版本又新增一个 RegionServerObserver")])])])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://kflys.gitee.io/upic/2020/04/01/uPic/hbase/assets/Image201911151202.png#height=618&id=NlAZP&originHeight=618&originWidth=1253&originalType=binary&ratio=1&status=done&style=none&width=1253",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("下图是以 RegionObserver 为例子讲解 Observer 这种协处理器的原理：")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://kflys.gitee.io/upic/2020/04/01/uPic/hbase/assets/1122015-20170511100919222-711579099.png#height=591&id=cqd4t&originHeight=591&originWidth=735&originalType=binary&ratio=1&status=done&style=none&width=735",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"endpoint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#endpoint"}},[s._v("#")]),s._v(" endpoint")]),s._v(" "),t("ul",[t("li",[s._v("Endpoint协处理器类似传统数据库中的存储过程，客户端可以调用这些 Endpoint 协处理器执行一段 Server 端代码，并将 Server 端代码的结果返回给客户端进一步处理")]),s._v(" "),t("li",[s._v("最常见的用法就是进行聚集操作。\n"),t("ul",[t("li",[s._v("如果没有协处理器，当用户需要找出一张表中的最大数据，即max 聚合操作，就必须进行全表扫描，在客户端代码内遍历扫描结果，并执行求最大值的操作。")]),s._v(" "),t("li",[s._v("这样的方法无法利用底层集群的并发能力，而将所有计算都集中到 Client 端统一执 行，势必效率低下。")]),s._v(" "),t("li",[s._v("利用 Coprocessor，用户可以将求最大值的代码部署到 HBase Server 端，HBase将利用底层cluster 的多个节点并发执行求最大值的操作。即在每个 Region范围内执行求最大值的代码，将每个 Region 的最大值在 Region Server 端计算出，仅仅将该 max 值返回给客户端。")]),s._v(" "),t("li",[s._v("在客户端进一步将多个 Region 的最大值进一步处理而找到其中的最大值。这样整体的执行效率就会提高很多")])])])]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" Observer允许集群在正常的客户端操作过程中可以有不同的行为表现\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" Endpoint 允许扩展集群的能力，对客户端应用开放新的运算命令\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" observer 类似于 RDBMS 中的触发器，主要在服务端工作\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" endpoint 类似于 RDBMS 中的存储过程，主要在 client 端工作\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" observer 可以实现权限管理、优先级设置、监控、 ddl 控制、 二级索引等功能\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" endpoint 可以实现 min、 max、 avg、 sum、 distinct、 group by 等功能\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"加载方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载方式"}},[s._v("#")]),s._v(" 加载方式")]),s._v(" "),t("ul",[t("li",[s._v("协处理器的加载方式有两种\n"),t("ul",[t("li",[s._v("静态加载方式（ Static Load）；静态加载的协处理器称之为 System Coprocessor")]),s._v(" "),t("li",[s._v("动态加载方式 （ Dynamic Load）；动态加载的协处理器称 之为 Table Coprocessor")])])])]),s._v(" "),t("h3",{attrs:{id:"静态加载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#静态加载"}},[s._v("#")]),s._v(" 静态加载")]),s._v(" "),t("ul",[t("li",[s._v("通过修改 hbase-site.xml 这个文件来实现， 如启动全局 aggregation，能过操纵所有的表数据。只需要在hbase-site.xml里面添加以下配置即可")]),s._v(" "),t("li",[s._v("注意：修改完配置之后需要"),t("strong",[s._v("重启HBase集群")])])]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("hbase.coprocessor.user.region.classes"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.apache.hadoop.hbase.coprocessor.AggregateImplementation"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[s._v("为所有table加载了一个 cp class，可以用” ,”分割加载多个 class，修改")])]),s._v(" "),t("h3",{attrs:{id:"动态加载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态加载"}},[s._v("#")]),s._v(" 动态加载")]),s._v(" "),t("ul",[t("li",[s._v("启用表aggregation，只对特定的表生效。")])]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# disable 指定表。")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" disable "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mytable'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 aggregation")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" alter "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mytable'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("METHOD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'table_att'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'coprocessor'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'|org.apache.Hadoop.hbase.coprocessor.AggregateImplementation||'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启指定表 ")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" enable "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mytable'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 协处理器的卸载")]),s._v("\ndisable "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mytable'")]),s._v("\nalter  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mytable'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("METHOD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'table_att_unset'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'coprocessor$1'")]),s._v("\nenable  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mytable'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h3",{attrs:{id:"协处理器示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#协处理器示例"}},[s._v("#")]),s._v(" 协处理器示例")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://kflys.gitee.io/upic/2020/04/01/uPic/hbase/assets/xdfsdfsdf.png#height=734&id=BAZp6&originHeight=734&originWidth=850&originalType=binary&ratio=1&status=done&style=none&width=850",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("通过协处理器Observer实现向hbase当中一张表插入数据时，通过协处理器，将数据复制一份保存到另外一张表当中去；但是只取第一张表当中的部分列数据，保存到第二张表当中去")]),s._v(" "),t("li",[s._v("打开hbase shell")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 创建一张表")]),s._v("\ncreate "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proc1'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'info'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 创建第二张表")]),s._v("\ncreate "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proc2'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'info'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ul",[t("li",[s._v("HBase协处理器")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<dependency>\n  <groupId>org.apache.hadoop</groupId>\n  <artifactId>hadoop-client</artifactId>\n  <version>2.6.0-mr1-cdh5.14.2</version>\n</dependency>\n<dependency>\n  <groupId>org.apache.hbase</groupId>\n  <artifactId>hbase-client</artifactId>\n  <version>1.2.0-cdh5.14.2</version>\n</dependency>\n<dependency>\n  <groupId>org.apache.hbase</groupId>\n  <artifactId>hbase-server</artifactId>\n  <version>1.2.0-cdh5.14.2</version>\n</dependency>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("ul",[t("li",[s._v("开发HBase的协处理器")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyProcessor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BaseRegionObserver")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * @param put   插入到proc1表里面的数据，都是封装在put对象里面了,就可以解析put对象，获取数据，获取到了数据之后，插入到proc2表里面去\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("prePut")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ObserverContext")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RegionCoprocessorEnvironment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Put")]),s._v(" put"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WALEdit")]),s._v(" edit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Durability")]),s._v(" durability"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 从put获取到数据，直接开启HBase连接插入到第二张表。")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// TODO")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. jar包名称必须为processor.jar")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" original-hbaseStudy-1.0-SNAPSHOT.jar  processor.jar\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 上传到hdfs的/processor目录即可")]),s._v("\nhdfs dfs -mkdir -p /processor\nhdfs dfs -put processor.jar /processor\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载协处理器")]),s._v("\ndescribe "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proc1'")]),s._v("\nalter "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'observer:source'")]),s._v(",METHOD "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'table_att'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Coprocessor'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hdfs://node01:8020/processor/processor.jar|top.kfly.hbasemr.MyProcessor|1001|'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看")]),s._v("\ndescribe "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proc1'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);