(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{630:function(s,a,t){"use strict";t.r(a);var n=t(19),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"azakaban环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#azakaban环境搭建"}},[s._v("#")]),s._v(" Azakaban环境搭建")]),s._v(" "),t("h3",{attrs:{id:"下载软件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载软件"}},[s._v("#")]),s._v(" 下载软件")]),s._v(" "),t("p",[t("br"),s._v(" "),t("a",{attrs:{href:"https://azkaban.github.io/downloads.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击下载 "),t("OutboundLink")],1),t("br")]),s._v(" "),t("ul",[t("li",[s._v("azkaban-web-server-2.5.0.tar.gz")]),s._v(" "),t("li",[s._v("azkaban-executor-server-2.5.0.tar.gz")]),s._v(" "),t("li",[s._v("azkaban-sql-script-2.5.0.tar.gz")])]),s._v(" "),t("p",[t("a",{attrs:{name:"2326e5fc"}})]),s._v(" "),t("h3",{attrs:{id:"azkaban-web服务器安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#azkaban-web服务器安装"}},[s._v("#")]),s._v(" azkaban web服务器安装")]),s._v(" "),t("p",[t("a",{attrs:{name:"80b4762c"}})]),s._v(" "),t("h4",{attrs:{id:"配置ssl安全访问协议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置ssl安全访问协议"}},[s._v("#")]),s._v(" 配置SSL安全访问协议")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 创建安装目录，解压、解压文件重命名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /kfly/install/azkaban\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" –zxvf azkaban-web-server-2.5.0.tar.gz -C /kfly/install/azkaban\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" /kkb/install/azkaban/azkaban-web-2.5.0 /kkb/install/azkaban/server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 在server目下执行下边的命令")]),s._v("\nkeytool -keystore keystore -alias jetty -genkey -keyalg RSA\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Keytool:   是java数据证书的管理工具，使用户能够管理自己的公/私钥对及相关证书。")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -keystore：指定密钥库的名称及位置(产生的各类信息将不在.keystore文件中)")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -alias：   对我们生成的.keystore 进行指认别名；如果没有默认是mykey")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# -genkey：    在用户主目录中创建一个默认文件".keystore" ')]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -keyalg：   指定密钥的算法 RSA/DSA 默认是DSA")]),s._v("\n\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行此命令后,会提示输入当前生成  keystore的密码及相应信息,输入的密码请劳记")]),s._v("\n         -------------------------------------------------------------------\n            输入keystore密码：  \n            再次输入新密码:\n            您的名字与姓氏是什么？\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("：  \n            您的组织单位名称是什么？\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("：  \n            您的组织名称是什么？\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("：  \n            您所在的城市或区域名称是什么？\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("：  \n            您所在的州或省份名称是什么？\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("：  \n            该单位的两字母国家代码是什么\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("：   CN\n            "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OU")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("O")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("L")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("C")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CN  正确吗？\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("否"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("：   y\n\n              输入"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("jetty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("的主密码\n                      （如果和  keystore  密码相同，按回车）：  \n              再次输入新密码:\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#完成上述工作后,将在当前目录生成  keystore  证书文件,")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 将keystore  考贝到  azkaban webserver 服务器根目录中.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" keystore /kfly/install/azkaban/server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. 配置时区、先生成时区配置文件Asia/Shanghai，用交互式命令 tzselect 即可.")]),s._v("\ntzselect \n  \t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选5 ---\x3e选9----\x3e选1-----\x3e选1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4.1、拷贝该时区文件，覆盖系统本地时区配置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/share/zoneinfo/Asia/Shanghai /etc/localtime  \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5.修改配置文件")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5.2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br")])]),t("p",[t("a",{attrs:{name:"8c02886f"}})]),s._v(" "),t("h4",{attrs:{id:"修改配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[s._v("#")]),s._v(" 修改配置文件")]),s._v(" "),t("ul",[t("li",[t("br"),s._v("\n 1. azkaban.properties\n")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /kfly/install/azkaban/server/conf/azkaban.properties\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#内容说明如下:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Azkaban Personalization Settings")]),s._v("\nazkaban.name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Test                                      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务器UI名称,用于服务器上方显示的名字")]),s._v("\nazkaban.label"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("My Local Azkaban            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#描述")]),s._v("\nazkaban.color"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#FF3601                              #UI颜色")]),s._v("\nazkaban.default.servlet.path"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/index        \nweb.resource.dir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web/                                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认根web目录")]),s._v("\ndefault.timezone.id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Asia/Shanghai         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认时区,已改为亚洲/上海  默认为美国")]),s._v("\n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Azkaban UserManager class")]),s._v("\nuser.manager.class"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("azkaban.user.XmlUserManager     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#用户权限管理默认类")]),s._v("\nuser.manager.xml.file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("conf/azkaban-users.xml          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#用户配置,具体配置参加下文")]),s._v("\n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Loader for projects")]),s._v("\nexecutor.global.properties"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("conf/global.properties       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#global配置文件所在位置")]),s._v("\nazkaban.project.dir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("projects                                                                                          \n  \ndatabase.type"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库类型")]),s._v("\nmysql.port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("                                      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#端口号")]),s._v("\nmysql.host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node03                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库连接IP")]),s._v("\nmysql.database"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("azkaban                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库实例名")]),s._v("\nmysql.user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库用户名")]),s._v("\nmysql.password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库密码")]),s._v("\n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Velocity dev mode")]),s._v("\nvelocity.dev.mode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Jetty服务器属性.")]),s._v("\njetty.maxThreads"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("                            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#最大线程数")]),s._v("\njetty.ssl.port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8443")]),s._v("                            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Jetty SSL端口")]),s._v("\njetty.port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v("                                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Jetty端口")]),s._v("\njetty.keystore"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("keystore                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SSL文件名")]),s._v("\njetty.password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SSL文件密码")]),s._v("\njetty.keypassword"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Jetty主密码  与  keystore文件相同")]),s._v("\njetty.truststore"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("keystore                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SSL文件名")]),s._v("\njetty.trustpassword"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SSL文件密码")]),s._v("\n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  执行服务器属性")]),s._v("\nexecutor.port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12321")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#执行服务器端口")]),s._v("\n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  邮件设置")]),s._v("\nmail.sender"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxxxxxxx@163.com              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#发送邮箱")]),s._v("\nmail.host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("smtp.163.com                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#发送邮箱smtp地址")]),s._v("\nmail.user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxxxxxxx                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#发送邮件时显示的名称")]),s._v("\nmail.password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("**********                      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#邮箱密码")]),s._v("\njob.failure.email"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxxxxxxx@163.com    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#任务失败时发送邮件的地址")]),s._v("\njob.success.email"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxxxxxxx@163.com    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#任务成功时发送邮件的地址")]),s._v("\nlockdown.create.projects"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false              \ncache.directory"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cache                                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#缓存目录")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br")])]),t("ul",[t("li",[t("br"),s._v("\n 2. azkaban-users.xml\n")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /kfly/install/azkaban/server/conf/azkaban-users.xml\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("azkaban-users")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("username")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("azkaban"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("azkaban"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("roles")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("admin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("groups")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("azkaban"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("username")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("metrics"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("metrics"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("roles")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("metrics"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--新增admin用户--\x3e")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("username")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("admin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("admin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("roles")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("admin,metrics"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("role")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("admin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("permissions")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ADMIN"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("role")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("metrics"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("permissions")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("METRICS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("azkaban-users")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("a",{attrs:{name:"6e0f4be8"}})]),s._v(" "),t("h3",{attrs:{id:"azkaban-执行服器安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#azkaban-执行服器安装"}},[s._v("#")]),s._v(" azkaban 执行服器安装")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 解压azkaban-executor-server-2.5.0.tar.gz,重命名文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf azkaban-executor-server-2.5.0.tar.gz -C /kfly/install/azkaban\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" /kfly/install/azkaban/azkaban-executor-2.5.0 /kfly/install/azkaban/executor\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 修改配置文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /kfly/install/azkaban/executor/conf/azkaban.properties\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 内容如下----------")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Azkaban     #时区")]),s._v("\n      default.timezone.id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Asia/Shanghai                    \n\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库设置-----\x3e需要修改的信息")]),s._v("\n      mysql.host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node3          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库IP地址")]),s._v("\n      mysql.database"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("azkaban        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库实例名")]),s._v("\n      mysql.user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库用户名")]),s._v("\n      mysql.password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库密码")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[t("a",{attrs:{name:"ef70a460"}})]),s._v(" "),t("h3",{attrs:{id:"azkaban脚本导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#azkaban脚本导入"}},[s._v("#")]),s._v(" azkaban脚本导入")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 解压azkaban-sql-script-2.5.0.tar.gz")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf azkaban-sql-script-2.5.0.tar.gz -C /kfly/install/azkaban\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 把解压后的脚本导入到mysql中、进入到mysql")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" create database azkaban"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" use azkaban"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /kfly/install/azkaban/azkaban-2.5.0/create-all-sql-2.5.0.sql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("a",{attrs:{name:"06003dd9"}})]),s._v(" "),t("h3",{attrs:{id:"azkaban启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#azkaban启动"}},[s._v("#")]),s._v(" Azkaban启动")]),s._v(" "),t("ul",[t("li",[s._v("在azkaban web server服务器目录下执行启动命令")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 启动web server服务、在azkaban web server服务器目录下执行启动命令")]),s._v("\nbin/azkaban-web-start.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 启动executor执行服务、在azkaban executor服务器目录下执行启动命令")]),s._v("\nbin/azkaban-executor-start.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[s._v("启动完成后,在浏览器(建议使用谷歌浏览器)中输入"),t("a",{attrs:{href:"https://xn--IP-fr5c86lw2a0cw16k:8443",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://服务器IP地址:8443"),t("OutboundLink")],1),s._v(" ,即可访问azkaban服务了.在登录中输入刚才新的户用名及密码,点击 login.")]),s._v(" "),t("li",[s._v("输入“IP地址:8443”无法访问 web 页面, 且后台报错，原因是浏览器安全证书限制")]),s._v(" "),t("li",[s._v("解决办法：使用“https://ip:8443”访问, 发现已经可以访问了, 后台会报证数问题的错误, 忽略即可, 不影响使用, 选择高级 ------\x3e 继续访问该网站")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("（1）、projects：azkaban最重要的一部分，创建一个工程，将所有的工作流放在工程中执行\n（2）、scheduling：定时调度任务用的\n（3）、executing:  显示当前运行的任务\n（4）、History "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 显示历史运行任务\n\n一个project由3个按钮：\n（1）、Flows：一个工作流，由多个job组成\n（2）、Permissions:权限管理\n（3）、Project Logs：工程日志信息\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);