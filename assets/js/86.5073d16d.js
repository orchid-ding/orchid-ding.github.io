(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{571:function(n,s,a){"use strict";a.r(s);var e=a(19),t=Object(e.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("p",[n._v("1）官网地址\nhttp://kylin.apache.org/cn/\n2）官方文档\nhttp://kylin.apache.org/cn/docs/\n3）下载地址\nhttp://kylin.apache.org/cn/download/\n")]),n._v(" "),a("h2",{attrs:{id:"_1-单节点-服务-模式-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-单节点-服务-模式-安装"}},[n._v("#")]),n._v(" 1 单节点 服务 模式 安装")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v("\tkylin的运行环境分为单机模式和集群模式，单机模式只需要在任意一台机器安装一台kylin服务即可，集群模式可以在所有机器上面都安装，然后所有机器的kylin组成集群\n\n\n\n\n\tkylin的服务安装需要依赖于 zookeeper，hdfs，yarn，hive，hbase等各种服务，在安装kylin之前需要保证我们的zookeeper，hdfs，yarn，hive以及hbase的服务都是正常的\n")])])]),a("table",[a("thead",[a("tr",[a("th",[n._v("主机名服务")]),n._v(" "),a("th",[n._v("Node01")]),n._v(" "),a("th",[n._v("Node02")]),n._v(" "),a("th",[n._v("Node03")])])]),n._v(" "),a("tbody",[a("tr",[a("td",[n._v("zookeeper")]),n._v(" "),a("td",[n._v("QuorumPeerMain")]),n._v(" "),a("td",[n._v("QuorumPeerMain")]),n._v(" "),a("td",[n._v("QuorumPeerMain")])]),n._v(" "),a("tr",[a("td",[n._v("hdfs")]),n._v(" "),a("td",[n._v("namenode")]),n._v(" "),a("td"),n._v(" "),a("td")]),n._v(" "),a("tr",[a("td",[n._v("secondaryNameNode")]),n._v(" "),a("td"),n._v(" "),a("td"),n._v(" "),a("td")]),n._v(" "),a("tr",[a("td",[n._v("DataNode")]),n._v(" "),a("td",[n._v("DataNode")]),n._v(" "),a("td",[n._v("DataNode")]),n._v(" "),a("td")]),n._v(" "),a("tr",[a("td",[n._v("Yarn")]),n._v(" "),a("td",[n._v("ResourceManager")]),n._v(" "),a("td"),n._v(" "),a("td")]),n._v(" "),a("tr",[a("td",[n._v("NodeManager")]),n._v(" "),a("td",[n._v("NodeManager")]),n._v(" "),a("td",[n._v("NodeManager")]),n._v(" "),a("td")]),n._v(" "),a("tr",[a("td",[n._v("MapReduce")]),n._v(" "),a("td",[n._v("JobHistoryServer")]),n._v(" "),a("td"),n._v(" "),a("td")]),n._v(" "),a("tr",[a("td",[n._v("HBase")]),n._v(" "),a("td",[n._v("HMaster")]),n._v(" "),a("td"),n._v(" "),a("td")]),n._v(" "),a("tr",[a("td",[n._v("HRegionServer")]),n._v(" "),a("td",[n._v("HRegionServer")]),n._v(" "),a("td",[n._v("HRegionServer")]),n._v(" "),a("td")]),n._v(" "),a("tr",[a("td",[n._v("Hive")]),n._v(" "),a("td"),n._v(" "),a("td"),n._v(" "),a("td",[n._v("HiveServer2")])]),n._v(" "),a("tr",[a("td"),n._v(" "),a("td"),n._v(" "),a("td",[n._v("MetaStore")]),n._v(" "),a("td")])])]),n._v(" "),a("h3",{attrs:{id:"_1-1-下载kylin-安装包上传-并解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-下载kylin-安装包上传-并解压"}},[n._v("#")]),n._v(" 1.1 下载kylin 安装包上传 并解压")]),n._v(" "),a("p",[n._v("kylin安装包下载地址为")]),n._v(" "),a("p",[a("a",{attrs:{href:"http://mirrors.tuna.tsinghua.edu.cn/apache/kylin/apache-kylin-2.6.3/apache-kylin-2.6.3-bin-cdh57.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[n._v(" http://mirrors.tuna.tsinghua.edu.cn/apache/kylin/apache-kylin-2.6.3/apache-kylin-2.6.3-bin-cdh57.tar.gz "),a("OutboundLink")],1)]),n._v(" "),a("p",[n._v("将安装包上传到node03服务器的/kkb/soft路径下，并解压到/kkb/install")]),n._v(" "),a("p",[n._v("node03执行以下命令，进行解压")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /kkb/soft\ntar -zxf apache-kylin-2.6.3-bin-cdh57.tar.gz  -C /kkb/install/\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br")])]),a("h3",{attrs:{id:"_1-2-node-03-服务器-开发环境变量配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-node-03-服务器-开发环境变量配置"}},[n._v("#")]),n._v(" 1.2 node 03 服务器 开发环境变量配置")]),n._v(" "),a("p",[n._v("node03服务器添加以下环境变量：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("sudo vim /etc/profile\nexport JAVA_HOME=/kkb/install/jdk1.8.0_141\nexport PATH=:$JAVA_HOME/bin:$PATH\n\nexport HADOOP_HOME=/kkb/install/hadoop-2.6.0-cdh5.14.2\nexport PATH=:$HADOOP_HOME/bin:$PATH\n\nexport HBASE_HOME=/kkb/install/hbase-1.2.0-cdh5.14.2\nexport PATH=:$HBASE_HOME/bin:$PATH\n\nexport HIVE_HOME=/kkb/install/hive-1.1.0-cdh5.14.2\nexport PATH=:$HIVE_HOME/bin:$PATH\n\nexport HCAT_HOME=/kkb/install/hive-1.1.0-cdh5.14.2\nexport PATH=:$HCAT_HOME/hcatalog:$PATH\n\nexport KYLIN_HOME=/kkb/install/apache-kylin-2.6.3-bin-cdh57\nexport PATH=:$KYLIN_HOME/bin:$PATH\n\nexport dir=/kkb/install/apache-kylin-2.6.3-bin-cdh57/bin\nexport PATH=$dir:$PATH\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br")])]),a("p",[n._v("更改完了环境变量，记得source /etc/profile 生效")]),n._v(" "),a("h3",{attrs:{id:"_1-3-node-03-启动-kylin服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-node-03-启动-kylin服务"}},[n._v("#")]),n._v(" 1.3  node 03 启动 kylin服务")]),n._v(" "),a("p",[n._v("node03执行以下命令启动kylin服务")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /kkb/install/apache-kylin-2.6.3-bin-cdh57\n\nbin/kylin.sh start\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("h3",{attrs:{id:"_1-4-浏览器-访问kylin服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-浏览器-访问kylin服务"}},[n._v("#")]),n._v(" 1.4  浏览器 访问kylin服务")]),n._v(" "),a("p",[n._v("浏览器界面访问kylin服务")]),n._v(" "),a("p",[n._v("http://node03.kaikeba.com:7070/kylin/")]),n._v(" "),a("p",[n._v("用户名：ADMIN")]),n._v(" "),a("p",[n._v("密码：KYLIN")]),n._v(" "),a("h2",{attrs:{id:"_2-kylin-的集群环境安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-kylin-的集群环境安装"}},[n._v("#")]),n._v(" 2 kylin 的集群环境安装")]),n._v(" "),a("p",[n._v("单节点的kylin环境，主要用于我们方便测试学习，实际工作当中，我们主要还是使用kylin的集群模式来进行开发，接下来我们就来看一下kylin的集群模式该如何运行")]),n._v(" "),a("ul",[a("li",[a("p",[n._v("Kylin的实例是无状态的，运行时的状态保存在Hbase的元数据中（kylin.metadata.url指定）")])]),n._v(" "),a("li",[a("p",[n._v("只要每个实例都指向读取共同的元数据就可以完成集群的部署（即元数据共享）")])]),n._v(" "),a("li",[a("p",[n._v("对于每个实例，都必须指定实例运行的模式（kylin.server.mode），共有3种模式")]),n._v(" "),a("ul",[a("li",[a("p",[n._v("job 只能运行job引擎")])]),n._v(" "),a("li",[a("p",[n._v("query 只能运行查询引擎")])]),n._v(" "),a("li",[a("p",[n._v("all 既可以运行job 又可以运行query")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v("query模式下只支持sql查询，不执行cube的构建等相关操作。 特别注意：kylin集群中只能有一个实例运行job引擎，其他必须是query模式。\n")])])])])])])]),n._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/kflys/uPic/raw/master/uPic/202111251409703.png",alt:"image-20211125140921622"}})]),n._v(" "),a("h3",{attrs:{id:"_2-1-集群模式重要配置参数-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-集群模式重要配置参数-介绍"}},[n._v("#")]),n._v(" 2.1 集群模式重要配置参数 介绍")]),n._v(" "),a("p",[n._v("当kylin以集群模式运行的时候，会存在多个运行实例，可以通过conf/kylin.properties中两个参数进行设置")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("kylin.server.cluster-servers\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v("列出所有rest  web  Servers，使得实例之间进行同步，比如设置为：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("kylin.server.cluster-servers=node01:7070,node02:7070,node03:7070\n\nkylin.server.mode=all\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("p",[n._v("确保一个实例配置的是all或者job,其他都必须是query模式。")]),n._v(" "),a("h3",{attrs:{id:"_2-2-kylin-安装包分发到其他机器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-kylin-安装包分发到其他机器"}},[n._v("#")]),n._v(" 2.2  kylin 安装包分发到其他机器")]),n._v(" "),a("p",[n._v("将node03服务器/kkb/install路径下的kylin的安装包分发到其他服务器上面去")]),n._v(" "),a("p",[n._v("node03执行以下命令停止kylin服务，然后将kylin安装包分发到其他服务器上面去")]),n._v(" "),a("p",[n._v("node03执行以下命令")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /kkb/install/apache-kylin-2.6.3-bin-cdh57\nbin/kylin.sh stop\ncd /kkb/install/\nscp -r apache-kylin-2.6.3-bin-cdh57/ node02:$PWD\nscp -r apache-kylin-2.6.3-bin-cdh57/ node01:$PWD\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br")])]),a("h3",{attrs:{id:"_2-3-三台-机器修改kylin配置文件kylin-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-三台-机器修改kylin配置文件kylin-properties"}},[n._v("#")]),n._v(" 2.3 三台 机器修改kylin配置文件kylin.properties")]),n._v(" "),a("p",[n._v("三台服务器分别修改kylin配置文件kylin.properties")]),n._v(" "),a("ul",[a("li",[n._v("node01服务器修改配置文件")])]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /kkb/install/apache-kylin-2.6.3-bin-cdh57/conf/\nvim kylin.properties\n\nkylin.metadata.url=kylin_metadata@hbase\nkylin.env.hdfs-working-dir=/kylin\nkylin.server.mode=query\nkylin.server.cluster-servers=node01:7070,node02:7070,node03:7070\nkylin.storage.url=hbase\nkylin.job.retry=2\nkylin.job.max-concurrent-jobs=10\nkylin.engine.mr.yarn-check-interval-seconds=10\nkylin.engine.mr.reduce-input-mb=500\nkylin.engine.mr.max-reducer-number=500\nkylin.engine.mr.mapper-input-rows=1000000\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br")])]),a("ul",[a("li",[n._v("node02服务器修改配置文件")])]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /kkb/install/apache-kylin-2.6.3-bin-cdh57/conf/\nvim kylin.properties\n\nkylin.metadata.url=kylin_metadata@hbase\nkylin.env.hdfs-working-dir=/kylin\nkylin.server.mode=query\nkylin.server.cluster-servers=node01:7070,node02:7070,node03:7070\nkylin.storage.url=hbase\nkylin.job.retry=2\nkylin.job.max-concurrent-jobs=10\nkylin.engine.mr.yarn-check-interval-seconds=10\nkylin.engine.mr.reduce-input-mb=500\nkylin.engine.mr.max-reducer-number=500\nkylin.engine.mr.mapper-input-rows=1000000\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br")])]),a("ul",[a("li",[n._v("node03服务器修改配置文件")])]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /kkb/install/apache-kylin-2.6.3-bin-cdh57/conf/\nvim kylin.properties\n\nkylin.metadata.url=kylin_metadata@hbase\nkylin.env.hdfs-working-dir=/kylin\nkylin.server.mode=all\nkylin.server.cluster-servers=node01:7070,node02:7070,node03:7070\nkylin.storage.url=hbase\nkylin.job.retry=2\nkylin.job.max-concurrent-jobs=10\nkylin.engine.mr.yarn-check-interval-seconds=10\nkylin.engine.mr.reduce-input-mb=500\nkylin.engine.mr.max-reducer-number=500\nkylin.engine.mr.mapper-input-rows=1000000\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br")])]),a("h3",{attrs:{id:"_2-4-三台机器配置-环境-变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-三台机器配置-环境-变量"}},[n._v("#")]),n._v(" 2.4 三台机器配置 环境 变量")]),n._v(" "),a("p",[n._v("三台机器编辑/etc/profile，添加环境变量")]),n._v(" "),a("p",[n._v("注意：需要将hive的安装文件夹，每一台机器都拷贝")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("sudo vim  /etc/profile\n\nexport JAVA_HOME=/kkb/install/jdk1.8.0_141\nexport PATH=:$JAVA_HOME/bin:$PATH\n\nexport HADOOP_HOME=/kkb/install/hadoop-2.6.0-cdh5.14.2\nexport PATH=:$HADOOP_HOME/bin:$PATH\n\nexport HBASE_HOME=/kkb/install/hbase-1.2.0-cdh5.14.2\nexport PATH=:$HBASE_HOME/bin:$PATH\n\nexport HIVE_HOME=/kkb/install/hive-1.1.0-cdh5.14.2\nexport PATH=:$HIVE_HOME/bin:$PATH\n\nexport HCAT_HOME=/kkb/install/hive-1.1.0-cdh5.14.2\nexport PATH=:$HCAT_HOME/hcatalog:$PATH\n\nexport KYLIN_HOME=/kkb/install/apache-kylin-2.6.3-bin-cdh57\nexport PATH=:$KYLIN_HOME/bin:$PATH\n\nexport dir=/kkb/install/apache-kylin-2.6.3-bin-cdh57/bin\nexport PATH=$dir:$PATH\n\nexport HBASE_CLASSPATH=/kkb/install/hbase-1.2.0-cdh5.14.2\nexport PATH=:$HBASE_CLASSPATH:$PATH\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br")])]),a("h3",{attrs:{id:"_2-5-三台机器-启动-kylin服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-三台机器-启动-kylin服务"}},[n._v("#")]),n._v(" 2.5 三台机器 启动 kylin服务")]),n._v(" "),a("p",[n._v("三台机器执行以下命令启动kylin服务")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /kkb/soft/apache-kylin-2.6.3-bin-cdh57\n\nbin/kylin.sh start\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-6-node02-安装-nginx实现请求负载均衡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-node02-安装-nginx实现请求负载均衡"}},[n._v("#")]),n._v(" 2.6 node02 安装 nginx实现请求负载均衡")]),n._v(" "),a("p",[n._v("注意：nginx的安装需要使用root用户来进行安装")]),n._v(" "),a("p",[n._v("在node02服务器上面安装nginx服务，实现请求负载均衡")]),n._v(" "),a("p",[n._v("将nginx的安装包上传到/kkb/soft路径下，然后解压，并对nginx的配置文件进行配置，然后启动nginx服务即可")]),n._v(" "),a("ul",[a("li",[n._v("1、解压nginx压缩吧")])]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /kkb/soft/\n\ntar -zxf nginx-1.8.1.tar.gz -C /kkb/install/\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("ul",[a("li",[n._v("2、编译nginx")])]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("yum -y install gcc pcre-devel zlib-devel openssl openssl-devel\n\ncd /kkb/install/nginx-1.8.1/\n\n./configure --prefix=/usr/local/nginx \n\nmake\n\nmake install\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br")])]),a("ul",[a("li",[n._v("3、修改nginx的配置文件")])]),n._v(" "),a("p",[n._v("node02执行以下命令修改nginx的配置文件")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /usr/local/nginx/conf\nvim nginx.conf\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br")])]),a("p",[n._v("添加以下内容")]),n._v(" "),a("p",[n._v("在nginx.conf配置文件的最后一个 “}” 上面一行，添加以下内容")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("upstream kaikeba {\n\t\tleast_conn;\n\t\tserver 192.168.52.100:7070 weight=8;\n\t\tserver 192.168.52.110:7070 weight=7;\n\t\tserver 192.168.52.120:7070 weight=7;\n\t}\n\tserver {\n\t\tlisten 8066;\n\t\tserver_name localhost;\n\t\tlocation / {\n\t\tproxy_pass http://kaikeba;\n\t\t}\n\t}\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br")])]),a("ul",[a("li",[n._v("4、nginx的启动与停止命令")])]),n._v(" "),a("p",[n._v("nginx的启动命令，node02执行以下命令启动nginx服务")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /usr/local/nginx/\n\nsbin/nginx  -c conf/nginx.conf\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("p",[n._v("nginx的停止命令，node02执行以下命令停止nginx服务")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /usr/local/nginx/\n\nsbin/nginx -s stop\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-7-浏览器-界面访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-浏览器-界面访问"}},[n._v("#")]),n._v(" 2.7 浏览器 界面访问")]),n._v(" "),a("p",[n._v("http://node02:8066/kylin/\n访问这个网址，就可以实现负载均衡")])])}),[],!1,null,null,null);s.default=t.exports}}]);