(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{625:function(s,n,a){"use strict";a.r(n);var e=a(19),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"flume环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume环境搭建"}},[s._v("#")]),s._v(" Flume环境搭建")]),s._v(" "),a("h3",{attrs:{id:"下载软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载软件"}},[s._v("#")]),s._v(" 下载软件")]),s._v(" "),a("p",[a("br"),s._v(" "),a("a",{attrs:{href:"http://archive.cloudera.com/cdh5/cdh/5/flume-ng-1.6.0-cdh5.14.2.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击下载 flume-ng-1.6.0-cdh5.14.2.tar.gz"),a("OutboundLink")],1),a("br")]),s._v(" "),a("h3",{attrs:{id:"flume-env-sh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume-env-sh"}},[s._v("#")]),s._v(" flume-env.sh")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/kfly/install/jdk1.8.0_141\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"采集文件到控制台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#采集文件到控制台"}},[s._v("#")]),s._v(" 采集文件到控制台")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# Name the components on this agent\n#定义一个agent，分别指定source、channel、sink别名\na1.sources = r1\na1.sinks = k1\na1.channels = c1\n\n#配置source\n#指定source的类型为exec，通过Unix命令来传输结果数据\na1.sources.r1.type = exec\n#监控一个文件，有新的数据产生就不断采集走\na1.sources.r1.command = tail -F /kfly/install/flumeData/tail.log\n#指定source的数据流入的channel中\na1.sources.r1.channels = c1\n\n#配置channel\n#指定channel的类型为memory\na1.channels.c1.type = memory\n#指定channel的最多可以存放数据的容量\na1.channels.c1.capacity = 1000\n#指定在一个事务中source写数据到channel或者sink从channel取数据最大条数\na1.channels.c1.transactionCapacity = 100\n\n#配置sink\na1.sinks.k1.channel = c1\n#类型是日志格式，结果会打印在控制台\na1.sinks.k1.type = logger\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("其中：\n-n表示指定该agent名称\n-c表示配置文件所在的目录\n-f表示配置文件的路径名称\n-D表示指定key=value键值对---这里指定的是启动的日志输出级别\n\nbin/flume-ng agent -n a1 -c myconf -f myconf/tail-memory-logger.conf -Dflume.root.logger=info,console\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);